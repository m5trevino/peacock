{
  "inputs": {
    "spark": "",
    "falcon": "SPARK // Visual Language Spec  \n“Live Circuit” – Anti-Vibe / Hacker Console / Industrial Sci-Fi  \n-------------------------------------------------------------\n\n1.  Palette Tokens (Tailwind)\n   --void: #050505;            // bg-void\n   --matrix: #00FF41;           // text-matrix / border-matrix / shadow-matrix\n   --alert: #FF3030;            // text-alert / border-alert / shadow-alert\n   --process: #FFD400;          // text-process / border-process / shadow-process\n   --scanline: rgba(0,255,65,.08);\n\n2.  Base Layer (global.css)\n   @theme {\n     --font-mono: \"JetBrains Mono\", monospace;\n     --color-void: #050505;\n     --color-matrix: #00FF41;\n     --color-alert: #FF3030;\n     --color-process: #FFD400;\n   }\n\n   body {\n     background: var(--color-void);\n     color: var(--color-matrix);\n     font-family: var(--font-mono);\n     font-size: 13px;              /* high-density */\n     line-height: 1.3;\n     text-rendering: optimizeSpeed;\n     image-rendering: pixelated;\n   }\n\n3.  CRT Shell (overlay)\n   <div class=\"fixed inset-0 pointer-events-none overflow-hidden\">\n     <div class=\"crt-scanlines\"></div>\n   </div>\n\n   .crt-scanlines::before {\n     content: \"\";\n     position: absolute;\n     inset: 0;\n     background: repeating-linear-gradient(\n       0deg,\n       transparent,\n       transparent 2px,\n       var(--scanline) 2px,\n       var(--scanline) 3px\n     );\n     animation: scan 8s linear infinite;\n   }\n\n   @keyframes scan {\n     0%   { transform: translateY(0); }\n     100% { transform: translateY(6px); }\n   }\n\n4.  Wire Primitive (SVG inside React component)\n   <svg class=\"w-full h-full\">\n     <path\n       id={wireId}\n       strokeWidth=\"2\"\n       fill=\"none\"\n       class={cn(\n         \"wire\",\n         status === \"success\" && \"wire-success\",\n         status === \"failure\" && \"wire-failure\",\n         status === \"processing\" && \"wire-processing\"\n       )}\n     />\n   </svg>\n\n   /* Base wire */\n   .wire {\n     stroke: rgba(0,255,65,.35);\n     filter: drop-shadow(0 0 2px var(--matrix));\n     transition: stroke .3s ease;\n   }\n\n   /* States */\n   .wire-success   { stroke: var(--matrix); }\n   .wire-failure     { stroke: var(--alert); animation: flash .4s infinite; }\n   .wire-processing  { stroke: var(--process); }\n\n   @keyframes flash {\n     0%,100% { opacity: 1; }\n     50%     { opacity: .2; }\n   }\n\n5.  Nervous-Pulse (Framer Motion)\n   const pathRef = useRef<SVGPathElement>(null);\n   const length = useMemo(() => (pathRef.current?.getTotalLength() ?? 0), [pathRef]);\n\n   const pulseVariants = {\n     idle:    { pathLength: 0, opacity: 0 },\n     success: { pathLength: 1, opacity: 1, transition: { duration: .6, ease: \"easeOut\" } },\n     failure: { pathLength: .4, opacity: 1, transition: { duration: .2 } },\n     processing: {\n       pathLength: [0,1],\n       opacity: [0,1,1,0],\n       transition: { duration: 1.2, repeat: Infinity, ease: \"linear\" }\n     }\n   };\n\n   <motion.path\n     ref={pathRef}\n     d={pathData}\n     strokeWidth=\"3\"\n     strokeLinecap=\"round\"\n     fill=\"none\"\n     initial=\"idle\"\n     animate={status}\n     variants={pulseVariants}\n     style={{ strokeDasharray: length, strokeDashoffset: length }}\n   />\n\n6.  Text & Cursor\n   .text-glow { text-shadow: 0 0 4px var(--matrix); }\n   .cursor { display: inline-block; width: 10px; height: 18px; background: var(--matrix); animation: blink 1s infinite; }\n\n   @keyframes blink { 50% { opacity: 0; } }\n\n7.  Utility Classes (Tailwind)\n   .bg-void      { background-color: var(--color-void); }\n   .text-matrix  { color: var(--color-matrix); }\n   .text-alert   { color: var(--color-alert); }\n   .border-matrix { border-color: var(--color-matrix); box-shadow: 0 0 4px var(--color-matrix); }\n   .border-alert  { border-color: var(--color-alert); box-shadow: 0 0 6px var(--color-alert); }\n\n8.  Usage Example\n   <div className=\"bg-void text-matrix font-mono p-4\">\n     <div className=\"text-glow\">init nervous_system…</div>\n     <LiveCircuitWire status={status} />\n     <span className=\"cursor\" />\n   </div>\n\nDrop these classes/states into any React component; swap the status prop to watch the schematic come alive.",
    "eagle": "```ts\n// ==========================================================\n// 1.  GLOBAL STORE – Zustand slice\n// ==========================================================\nimport { StateCreator } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\nexport type NodeStatus = 'Idle' | 'Loading' | 'Success' | 'Error';\n\nexport interface NodeState {\n  id: string;                 // unique across the blueprint\n  status: NodeStatus;\n  progress?: number;          // 0-100 (optional)\n  lastUpdate: number;         // timestamp\n}\n\nexport interface BlueprintSlice {\n  nodes: Record<string, NodeState>;\n  setNodeStatus: (id: string, status: NodeStatus, progress?: number) => void;\n  setBulkStatus: (updates: Record<string, NodeState>) => void;\n}\n\nexport const createBlueprintSlice: StateCreator<\n  BlueprintSlice,\n  [['zustand/subscribeWithSelector', never]],\n  [],\n  BlueprintSlice\n> = (set) => ({\n  nodes: {},\n  setNodeStatus: (id, status, progress) =>\n    set((s) => ({\n      nodes: {\n        ...s.nodes,\n        [id]: { id, status, progress, lastUpdate: Date.now() },\n      },\n    })),\n  setBulkStatus: (updates) =>\n    set((s) => ({\n      nodes: { ...s.nodes, ...updates },\n    })),\n});\n\n// ==========================================================\n// 2.  BLUEPRINT LAYER – Documentation & wiring\n// ==========================================================\nexport type IOType = 'Files' | 'IndexedDB' | 'API' | 'Stream' | 'None';\n\nexport interface NodeDoc {\n  id: string;\n  name: string;\n  inputs: IOType[];\n  outputs: IOType[];\n  states: string[];           // human-readable steps\n  description?: string;\n}\n\nexport interface Blueprint {\n  version: string;\n  nodes: NodeDoc[];\n  edges: Array<{ from: string; to: string; label?: string }>;\n}\n\n// Example constant\nexport const EXAMPLE_BLUEPRINT: Blueprint = {\n  version: '1.0.0',\n  nodes: [\n    {\n      id: 'BATCH_PROCESSOR',\n      name: 'Batch Processor',\n      inputs: ['Files'],\n      outputs: ['IndexedDB'],\n      states: ['Parsing', 'Striking'],\n    },\n  ],\n  edges: [],\n};\n\n// ==========================================================\n// 3.  STATE MACHINE – Finite-state logic for each node\n// ==========================================================\nexport type StateMachineState = 'Idle' | 'Parsing' | 'Striking' | 'Persisting' | 'Done' | 'Failed';\n\ninterface Transition {\n  from: StateMachineState;\n  to: StateMachineState;\n  guard?: (ctx: MachineContext) => boolean;\n  effect?: (ctx: MachineContext) => Promise<void>;\n}\n\nexport interface MachineContext {\n  nodeId: string;\n  store: BlueprintSlice;       // Zustand slice reference\n  tx?: IDBTransaction;       // Dexie transaction handle\n}\n\nexport class NodeStateMachine {\n  private state: StateMachineState = 'Idle';\n  private transitions: Transition[] = [\n    { from: 'Idle', to: 'Parsing', effect: this.parse },\n    { from: 'Parsing', to: 'Striking', guard: this.parsedOk, effect: this.strike },\n    { from: 'Striking', to: 'Persisting', guard: this.struckOk, effect: this.persist },\n    { from: 'Persisting', to: 'Done', guard: this.persistedOk },\n    { from: '*', to: 'Failed', guard: this.anyError },\n  ];\n\n  constructor(private ctx: MachineContext) {}\n\n  private async parse() {\n    this.ctx.store.setNodeStatus(this.ctx.nodeId, 'Loading', 20);\n    // heavy work offloaded to worker\n    await new Worker(new URL('./workers/parser.ts', import.meta.url), { type: 'module' });\n  }\n\n  private parsedOk() { return true; }\n  private async strike() {\n    this.ctx.store.setNodeStatus(this.ctx.nodeId, 'Loading', 60);\n  }\n  private struckOk() { return true; }\n\n  private async persist() {\n    this.ctx.store.setNodeStatus(this.ctx.nodeId, 'Loading', 90);\n    // Dexie write inside a transaction without blocking UI\n    await dexieWrapper.write(this.ctx.nodeId, this.ctx.tx);\n  }\n  private persistedOk() { return true; }\n  private anyError() { return false; }\n\n  public async send(event: string) {\n    const t = this.transitions.find(\n      (tr) =>\n        (tr.from === this.state || tr.from === '*') &&\n        (tr.guard?.(this.ctx) ?? true)\n    );\n    if (!t) return;\n    if (t.effect) await t.effect(this.ctx);\n    this.state = t.to;\n    const statusMap: Record<StateMachineState, NodeStatus> = {\n      Idle: 'Idle',\n      Parsing: 'Loading',\n      Striking: 'Loading',\n      Persisting: 'Loading',\n      Done: 'Success',\n      Failed: 'Error',\n    };\n    this.ctx.store.setNodeStatus(this.ctx.nodeId, statusMap[this.state]);\n  }\n}\n\n// ==========================================================\n// 4.  DEXIE WRAPPER – Non-blocking persistence helpers\n// ==========================================================\nimport Dexie, { Table } from 'dexie';\n\nclass BlueprintDexie extends Dexie {\n  nodes!: Table<NodeState>;\n\n  constructor() {\n    super('BlueprintDB');\n    this.version(1).stores({ nodes: 'id, lastUpdate' });\n  }\n}\n\nexport const dexieWrapper = new BlueprintDexie();\n\ndexieWrapper.nodes.hook('creating', (id, obj) => {\n  // keep Zustand in sync without freezing UI\n  requestIdleCallback(() => useStore.getState().setNodeStatus(obj.id, obj.status, obj.progress));\n});\n```",
    "owl": "",
    "hawk": ""
  },
  "outputs": {
    "spark": "SPARK // Visual Language Spec  \n“Live Circuit” – Anti-Vibe / Hacker Console / Industrial Sci-Fi  \n-------------------------------------------------------------\n\n1.  Palette Tokens (Tailwind)\n   --void: #050505;            // bg-void\n   --matrix: #00FF41;           // text-matrix / border-matrix / shadow-matrix\n   --alert: #FF3030;            // text-alert / border-alert / shadow-alert\n   --process: #FFD400;          // text-process / border-process / shadow-process\n   --scanline: rgba(0,255,65,.08);\n\n2.  Base Layer (global.css)\n   @theme {\n     --font-mono: \"JetBrains Mono\", monospace;\n     --color-void: #050505;\n     --color-matrix: #00FF41;\n     --color-alert: #FF3030;\n     --color-process: #FFD400;\n   }\n\n   body {\n     background: var(--color-void);\n     color: var(--color-matrix);\n     font-family: var(--font-mono);\n     font-size: 13px;              /* high-density */\n     line-height: 1.3;\n     text-rendering: optimizeSpeed;\n     image-rendering: pixelated;\n   }\n\n3.  CRT Shell (overlay)\n   <div class=\"fixed inset-0 pointer-events-none overflow-hidden\">\n     <div class=\"crt-scanlines\"></div>\n   </div>\n\n   .crt-scanlines::before {\n     content: \"\";\n     position: absolute;\n     inset: 0;\n     background: repeating-linear-gradient(\n       0deg,\n       transparent,\n       transparent 2px,\n       var(--scanline) 2px,\n       var(--scanline) 3px\n     );\n     animation: scan 8s linear infinite;\n   }\n\n   @keyframes scan {\n     0%   { transform: translateY(0); }\n     100% { transform: translateY(6px); }\n   }\n\n4.  Wire Primitive (SVG inside React component)\n   <svg class=\"w-full h-full\">\n     <path\n       id={wireId}\n       strokeWidth=\"2\"\n       fill=\"none\"\n       class={cn(\n         \"wire\",\n         status === \"success\" && \"wire-success\",\n         status === \"failure\" && \"wire-failure\",\n         status === \"processing\" && \"wire-processing\"\n       )}\n     />\n   </svg>\n\n   /* Base wire */\n   .wire {\n     stroke: rgba(0,255,65,.35);\n     filter: drop-shadow(0 0 2px var(--matrix));\n     transition: stroke .3s ease;\n   }\n\n   /* States */\n   .wire-success   { stroke: var(--matrix); }\n   .wire-failure     { stroke: var(--alert); animation: flash .4s infinite; }\n   .wire-processing  { stroke: var(--process); }\n\n   @keyframes flash {\n     0%,100% { opacity: 1; }\n     50%     { opacity: .2; }\n   }\n\n5.  Nervous-Pulse (Framer Motion)\n   const pathRef = useRef<SVGPathElement>(null);\n   const length = useMemo(() => (pathRef.current?.getTotalLength() ?? 0), [pathRef]);\n\n   const pulseVariants = {\n     idle:    { pathLength: 0, opacity: 0 },\n     success: { pathLength: 1, opacity: 1, transition: { duration: .6, ease: \"easeOut\" } },\n     failure: { pathLength: .4, opacity: 1, transition: { duration: .2 } },\n     processing: {\n       pathLength: [0,1],\n       opacity: [0,1,1,0],\n       transition: { duration: 1.2, repeat: Infinity, ease: \"linear\" }\n     }\n   };\n\n   <motion.path\n     ref={pathRef}\n     d={pathData}\n     strokeWidth=\"3\"\n     strokeLinecap=\"round\"\n     fill=\"none\"\n     initial=\"idle\"\n     animate={status}\n     variants={pulseVariants}\n     style={{ strokeDasharray: length, strokeDashoffset: length }}\n   />\n\n6.  Text & Cursor\n   .text-glow { text-shadow: 0 0 4px var(--matrix); }\n   .cursor { display: inline-block; width: 10px; height: 18px; background: var(--matrix); animation: blink 1s infinite; }\n\n   @keyframes blink { 50% { opacity: 0; } }\n\n7.  Utility Classes (Tailwind)\n   .bg-void      { background-color: var(--color-void); }\n   .text-matrix  { color: var(--color-matrix); }\n   .text-alert   { color: var(--color-alert); }\n   .border-matrix { border-color: var(--color-matrix); box-shadow: 0 0 4px var(--color-matrix); }\n   .border-alert  { border-color: var(--color-alert); box-shadow: 0 0 6px var(--color-alert); }\n\n8.  Usage Example\n   <div className=\"bg-void text-matrix font-mono p-4\">\n     <div className=\"text-glow\">init nervous_system…</div>\n     <LiveCircuitWire status={status} />\n     <span className=\"cursor\" />\n   </div>\n\nDrop these classes/states into any React component; swap the status prop to watch the schematic come alive.",
    "falcon": "```ts\n// ==========================================================\n// 1.  GLOBAL STORE – Zustand slice\n// ==========================================================\nimport { StateCreator } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\nexport type NodeStatus = 'Idle' | 'Loading' | 'Success' | 'Error';\n\nexport interface NodeState {\n  id: string;                 // unique across the blueprint\n  status: NodeStatus;\n  progress?: number;          // 0-100 (optional)\n  lastUpdate: number;         // timestamp\n}\n\nexport interface BlueprintSlice {\n  nodes: Record<string, NodeState>;\n  setNodeStatus: (id: string, status: NodeStatus, progress?: number) => void;\n  setBulkStatus: (updates: Record<string, NodeState>) => void;\n}\n\nexport const createBlueprintSlice: StateCreator<\n  BlueprintSlice,\n  [['zustand/subscribeWithSelector', never]],\n  [],\n  BlueprintSlice\n> = (set) => ({\n  nodes: {},\n  setNodeStatus: (id, status, progress) =>\n    set((s) => ({\n      nodes: {\n        ...s.nodes,\n        [id]: { id, status, progress, lastUpdate: Date.now() },\n      },\n    })),\n  setBulkStatus: (updates) =>\n    set((s) => ({\n      nodes: { ...s.nodes, ...updates },\n    })),\n});\n\n// ==========================================================\n// 2.  BLUEPRINT LAYER – Documentation & wiring\n// ==========================================================\nexport type IOType = 'Files' | 'IndexedDB' | 'API' | 'Stream' | 'None';\n\nexport interface NodeDoc {\n  id: string;\n  name: string;\n  inputs: IOType[];\n  outputs: IOType[];\n  states: string[];           // human-readable steps\n  description?: string;\n}\n\nexport interface Blueprint {\n  version: string;\n  nodes: NodeDoc[];\n  edges: Array<{ from: string; to: string; label?: string }>;\n}\n\n// Example constant\nexport const EXAMPLE_BLUEPRINT: Blueprint = {\n  version: '1.0.0',\n  nodes: [\n    {\n      id: 'BATCH_PROCESSOR',\n      name: 'Batch Processor',\n      inputs: ['Files'],\n      outputs: ['IndexedDB'],\n      states: ['Parsing', 'Striking'],\n    },\n  ],\n  edges: [],\n};\n\n// ==========================================================\n// 3.  STATE MACHINE – Finite-state logic for each node\n// ==========================================================\nexport type StateMachineState = 'Idle' | 'Parsing' | 'Striking' | 'Persisting' | 'Done' | 'Failed';\n\ninterface Transition {\n  from: StateMachineState;\n  to: StateMachineState;\n  guard?: (ctx: MachineContext) => boolean;\n  effect?: (ctx: MachineContext) => Promise<void>;\n}\n\nexport interface MachineContext {\n  nodeId: string;\n  store: BlueprintSlice;       // Zustand slice reference\n  tx?: IDBTransaction;       // Dexie transaction handle\n}\n\nexport class NodeStateMachine {\n  private state: StateMachineState = 'Idle';\n  private transitions: Transition[] = [\n    { from: 'Idle', to: 'Parsing', effect: this.parse },\n    { from: 'Parsing', to: 'Striking', guard: this.parsedOk, effect: this.strike },\n    { from: 'Striking', to: 'Persisting', guard: this.struckOk, effect: this.persist },\n    { from: 'Persisting', to: 'Done', guard: this.persistedOk },\n    { from: '*', to: 'Failed', guard: this.anyError },\n  ];\n\n  constructor(private ctx: MachineContext) {}\n\n  private async parse() {\n    this.ctx.store.setNodeStatus(this.ctx.nodeId, 'Loading', 20);\n    // heavy work offloaded to worker\n    await new Worker(new URL('./workers/parser.ts', import.meta.url), { type: 'module' });\n  }\n\n  private parsedOk() { return true; }\n  private async strike() {\n    this.ctx.store.setNodeStatus(this.ctx.nodeId, 'Loading', 60);\n  }\n  private struckOk() { return true; }\n\n  private async persist() {\n    this.ctx.store.setNodeStatus(this.ctx.nodeId, 'Loading', 90);\n    // Dexie write inside a transaction without blocking UI\n    await dexieWrapper.write(this.ctx.nodeId, this.ctx.tx);\n  }\n  private persistedOk() { return true; }\n  private anyError() { return false; }\n\n  public async send(event: string) {\n    const t = this.transitions.find(\n      (tr) =>\n        (tr.from === this.state || tr.from === '*') &&\n        (tr.guard?.(this.ctx) ?? true)\n    );\n    if (!t) return;\n    if (t.effect) await t.effect(this.ctx);\n    this.state = t.to;\n    const statusMap: Record<StateMachineState, NodeStatus> = {\n      Idle: 'Idle',\n      Parsing: 'Loading',\n      Striking: 'Loading',\n      Persisting: 'Loading',\n      Done: 'Success',\n      Failed: 'Error',\n    };\n    this.ctx.store.setNodeStatus(this.ctx.nodeId, statusMap[this.state]);\n  }\n}\n\n// ==========================================================\n// 4.  DEXIE WRAPPER – Non-blocking persistence helpers\n// ==========================================================\nimport Dexie, { Table } from 'dexie';\n\nclass BlueprintDexie extends Dexie {\n  nodes!: Table<NodeState>;\n\n  constructor() {\n    super('BlueprintDB');\n    this.version(1).stores({ nodes: 'id, lastUpdate' });\n  }\n}\n\nexport const dexieWrapper = new BlueprintDexie();\n\ndexieWrapper.nodes.hook('creating', (id, obj) => {\n  // keep Zustand in sync without freezing UI\n  requestIdleCallback(() => useStore.getState().setNodeStatus(obj.id, obj.status, obj.progress));\n});\n```",
    "eagle": "",
    "owl": "",
    "hawk": ""
  },
  "telemetry": {
    "spark": {
      "status": "success"
    },
    "falcon": {
      "status": "success"
    },
    "eagle": {
      "status": "idle"
    },
    "owl": {
      "status": "idle"
    },
    "hawk": {
      "status": "idle"
    }
  },
  "activePrompts": {
    "spark": "02_spark_design",
    "falcon": "03_falcon_architecture",
    "eagle": "04_eagle_implementation",
    "owl": "owl_v21",
    "hawk": "05_hawk_qa"
  },
  "owlQueue": [],
  "name": "AVIARY_INIT",
  "id": "OP_1768633133775"
}
{
  "inputs": {
    "spark": "```json\n{\n  \"app_name\": \"CaseFlow Pro\",\n  \"core_concept\": \"A lightning-fast, offline-first legal research search engine that indexes and provides AI-powered summaries for a massive database of court documents.\",\n  \"problem_solved\": \"Provides an accessible, categorized, and searchable interface for over 1,100 legal documents that are otherwise difficult to navigate, offering AI-generated summaries and cross-references to speed up legal discovery.\",\n  \"user_workflow\": \"1. User launches the local Python server. 2. User accesses the web interface via localhost. 3. The application loads a pre-processed JavaScript-based document database into memory. 4. User enters search terms (e.g., 'motion', 'DNA', 'court order'). 5. The app filters the database in real-time. 6. User reviews document cards containing AI summaries and metadata. 7. User clicks a link to view the full PDF hosted on a remote API/server.\",\n  \"features\": {\n    \"core\": [\n      \"Full-text search across document names, AI summaries, document types, and key terms.\",\n      \"Categorized browsing by County (e.g., Ada, Latah) and Year.\",\n      \"Metadata display including Importance level, Document Type, and Year.\",\n      \"Direct deep-linking to remote PDF storage (api.mountmaster.pro).\",\n      \"Real-time database connection status indicator.\"\n    ],\n    \"secondary\": [\n      \"Cross-referencing between related legal cases (7,460+ connections).\",\n      \"Dark-mode 'Hacker' aesthetic UI using JetBrains Mono fonts.\",\n      \"Mobile-responsive layout for field research.\",\n      \"AI-generated summaries for every document to reduce reading time.\"\n    ],\n    \"future\": [\n      \"Strategic ad placement for monetization.\",\n      \"Progressive Web App (PWA) capabilities for full offline installation.\",\n      \"Advanced semantic search modes (6 specialized modes mentioned).\",\n      \"Performance analytics for search queries.\"\n    ]\n  },\n  \"technical_spec\": {\n    \"recommended_stack\": {\n      \"frontend\": \"Vanilla JavaScript (ES6+), HTML5, CSS3 (Custom Properties/Variables).\",\n      \"backend\": \"Python 3 (http.server for local serving).\",\n      \"data_storage\": \"Flat JSON/JS objects (enhanced_document_database.js) for zero-latency local searching.\"\n    },\n    \"database\": \"File-based JSON structure nested by [County][Year][Document_Array].\",\n    \"apis\": [\n      \"Remote PDF hosting: http://api.mountmaster.pro/ada/...\"\n    ],\n    \"authentication\": \"None (Localhost/Internal tool focus).\",\n    \"performance\": \"Instantaneous search (under 100ms) by keeping the 1,135-document index in client-side memory.\",\n    \"security\": \"Localhost execution; no sensitive data transmitted to third parties.\"\n  },\n  \"constraints\": [\n    \"Must run on MX Linux environment.\",\n    \"Must handle specific file pathing: /home/flintx/kobanger/webapp/.\",\n    \"Must function without a traditional SQL/NoSQL database (relying on JS files).\",\n    \"Documents are hosted remotely; requires internet access to view PDFs but not to search index.\"\n  ],\n  \"ui_ux\": {\n    \"layout\": \"Centralized search bar with a results feed below. Metadata tags for quick scanning.\",\n    \"aesthetic\": \"High-contrast dark mode. Primary: #0a0a0f, Accent: #00d4ff (Cyberpunk/Legal Tech style).\",\n    \"key_screens\": [\n      \"Main Search Dashboard\",\n      \"Document Result Feed\",\n      \"Database Status/Diagnostics View\"\n    ]\n  },\n  \"assumptions_made\": [\n    \"The document database (enhanced_document_database.js) is correctly formatted as a nested object: county -> year -> array of docs. [ASSUMED - CONFIRM]\",\n    \"Python 3 is the standard environment on the target machine. [ASSUMED - CONFIRM]\",\n    \"The search index is pre-computed and does not need to be built at runtime. [ASSUMED - CONFIRM]\"\n  ],\n  \"missing_info\": [\n    \"The specific logic for the '6 specialized search modes' mentioned in the server logs.\",\n    \"The specific structure of the 'cross-reference' mapping in search_index.json.\",\n    \"Details on the 'Strategic ad placement' implementation (placeholders or actual ad network integration).\"\n  ],\n  \"completeness_score\": 85,\n  \"peacock_ready\": true,\n  \"build_difficulty\": \"moderate\"\n}\n```",
    "falcon": "SPARK – Live Circuit Visual Language  \n(Everything below is copy-paste ready)\n\n--------------------------------------------------\n1.  COLOR TOKENS (Tailwind plugin)\n--------------------------------------------------\n```js\n// tailwind.config.js\nconst { plugin } = require('twin.macro')\n\nplugin(({ addBase, theme }) => {\n  addBase({\n    ':root': {\n      '--void': '#050505',\n      '--matrix': '#00FF41',\n      '--alert': '#FF2A55',\n      '--yellow': '#FFD400',\n      '--glow-matrix': '0 0 4px #00FF41, 0 0 8px #00FF41',\n      '--glow-alert': '0 0 4px #FF2A55, 0 0 8px #FF2A55',\n      '--glow-yellow': '0 0 4px #FFD400, 0 0 8px #FFD400',\n    },\n  })\n})\n```\n\n--------------------------------------------------\n2.  GLOBAL CLASSES\n--------------------------------------------------\n```css\n/* CRT scanlines & phosphor glow */\n.crt::before {\n  content: '';\n  position: fixed;\n  inset: 0;\n  background: repeating-linear-gradient(\n    0deg,\n    rgba(255,255,255,0.03) 0,\n    rgba(255,255,255,0.03) 1px,\n    transparent 1px,\n    transparent 2px\n  );\n  pointer-events: none;\n  z-index: 9999;\n  animation: flicker 8s infinite;\n}\n@keyframes flicker {\n  0%, 100% { opacity: 0.9; }\n  50% { opacity: 0.65; }\n}\n\n/* Monospace text glow */\n.mono-glow {\n  font-family: 'JetBrains Mono', monospace;\n  text-shadow: 0 0 2px var(--matrix), 0 0 4px var(--matrix);\n}\n```\n\n--------------------------------------------------\n3.  SVG WIRE (The Nervous System)\n--------------------------------------------------\n```tsx\n<svg className=\"w-full h-full\">\n  <defs>\n    <filter id=\"glow\">\n      <feGaussianBlur stdDeviation=\"2.5\" result=\"coloredBlur\" />\n      <feMerge>\n        <feMergeNode in=\"coloredBlur\" />\n        <feMergeNode in=\"SourceGraphic\" />\n      </feMerge>\n    </filter>\n  </defs>\n\n  <motion.path\n    d={pathData}\n    fill=\"none\"\n    strokeWidth=\"2\"\n    className=\"wire\"\n    initial=\"idle\"\n    animate={status}\n    variants={wireVariants}\n    style={{ filter: 'url(#glow)' }}\n  />\n</svg>\n```\n\n--------------------------------------------------\n4.  FRAMER MOTION VARIANTS\n--------------------------------------------------\n```ts\nconst wireVariants = {\n  idle:   { stroke: '#00FF41', pathLength: 1, opacity: 0.3 },\n  run:    { stroke: '#00FF41', pathLength: 1, opacity: 1 },\n  pulse:  {\n    stroke: '#FFD400',\n    pathLength: 1,\n    opacity: [0.8, 1, 0.8],\n    transition: { repeat: Infinity, duration: 0.6, ease: 'easeInOut' },\n  },\n  fail:   {\n    stroke: '#FF2A55',\n    pathLength: 0.4,               // break point\n    opacity: [1, 0, 1],\n    transition: { repeat: 3, duration: 0.2 },\n  },\n}\n```\n\n--------------------------------------------------\n5.  TAILWIND UTILITY MAP\n--------------------------------------------------\n```html\n<!-- Container -->\n<div className=\"bg-void text-matrix font-mono crt\">\n\n<!-- Text -->\n<span className=\"mono-glow text-sm leading-none\">\n\n<!-- Success line -->\n<svg className=\"w-full h-px\">\n  <motion.path className=\"wire\" variants={wireVariants} animate=\"run\" />\n</svg>\n\n<!-- Failure line -->\n<svg className=\"w-full h-px\">\n  <motion.path className=\"wire\" variants={wireVariants} animate=\"fail\" />\n</svg>\n\n<!-- Blinking cursor -->\n<span className=\"inline-block w-2 h-3 bg-matrix animate-pulse\" />\n```\n\n--------------------------------------------------\n6.  ACCESSIBILITY HOOK\n--------------------------------------------------\n```tsx\nconst status = useStatus() // 'idle' | 'run' | 'pulse' | 'fail'\nuseAnnouncer(status)        // aria-live region for screen-readers\n```\n\n--------------------------------------------------\n7.  DROP-IN REACT HELPER\n--------------------------------------------------\n```tsx\nexport const LiveWire = ({ status }: { status: keyof typeof wireVariants }) => (\n  <svg className=\"w-full h-px\">\n    <motion.path\n      d=\"M0 1 H100%\"\n      className=\"wire\"\n      variants={wireVariants}\n      animate={status}\n    />\n  </svg>\n)\n```\n\nCopy, paste, mutate—your interface now has a living nervous system.",
    "eagle": "```typescript\n/****************************************************************************************\n * 1.  DOMAIN INTERFACES – what we persist, what we render, what we animate\n ****************************************************************************************/\nexport type NodeStatus = 'Idle' | 'Loading' | 'Success' | 'Error';\n\nexport interface BlueprintNode {\n  id: string;                       // unique inside the blueprint\n  label: string;                  // human friendly\n  inputs: string[];             // semantic names (not wiring)\n  outputs: string[];            // semantic names\n  states: string[];               // ordered list of micro-stages (Parsing, Striking…)\n}\n\nexport interface RuntimeNode extends BlueprintNode {\n  status: NodeStatus;\n  currentStateIdx: number;        // which state inside `states` is active right now\n  error?: string;                   // populated when status === 'Error'\n}\n\n/****************************************************************************************\n * 2.  GLOBAL STORE – Zustand (tiny, sliceable, works in Web-Worker if needed)\n ****************************************************************************************/\nimport { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\ninterface BlueprintState {\n  nodes: Map<string, RuntimeNode>; // O(1) lookup by id\n  setNodeStatus: (\n    id: string,\n    status: NodeStatus,\n    opts?: { error?: string; stateIdx?: number }\n  ) => void;\n  resetBlueprint: () => void;\n}\n\nexport const useBlueprintStore = create<BlueprintState>()(\n  subscribeWithSelector((set) => ({\n    nodes: new Map(),\n\n    setNodeStatus: (id, status, opts) =>\n      set((s) => {\n        const clone = new Map(s.nodes);\n        const node = clone.get(id);\n        if (!node) return s; // defensive\n        clone.set(id, {\n          ...node,\n          status,\n          error: opts?.error,\n          currentStateIdx: opts?.stateIdx ?? node.currentStateIdx,\n        });\n        return { nodes: clone };\n      }),\n\n    resetBlueprint: () => set({ nodes: new Map() }),\n  }))\n);\n\n/****************************************************************************************\n * 3.  STATE-MACHINE – per-node micro-stages + global orchestration\n *     (works on top of the store, no extra deps)\n ****************************************************************************************/\nexport class NodeStateMachine {\n  constructor(private nodeId: string) {}\n\n  private transit(status: NodeStatus, stateIdx?: number, error?: string) {\n    useBlueprintStore.getState().setNodeStatus(this.nodeId, status, { error, stateIdx });\n  }\n\n  async run(states: string[], worker: () => Promise<void>) {\n    this.transit('Loading', 0);\n    try {\n      for (let i = 0; i < states.length; i++) {\n        this.transit('Loading', i);\n        await worker();            // real work happens here (can be a Web-Worker message)\n      }\n      this.transit('Success', states.length - 1);\n    } catch (e: any) {\n      this.transit('Error', undefined, e.message || 'Unknown');\n    }\n  }\n}\n\n/****************************************************************************************\n * 4.  PERSISTENCE – Dexie + non-blocking bulk ops\n *     Dexie runs in the main thread but uses IndexedDB’s async API → no freeze\n ****************************************************************************************/\nimport Dexie, { Table } from 'dexie';\n\nclass BlueprintDB extends Dexie {\n  nodes!: Table<RuntimeNode, string>;\n\n  constructor() {\n    super('BlueprintDB');\n    this.version(1).stores({ nodes: 'id' });\n  }\n}\n\nexport const db = new BlueprintDB();\n\n/* thin helper – load once on mount, write on every store change (throttled 500 ms) */\nlet flushHandle: number | null = null;\nuseBlueprintStore.subscribe(\n  (s) => s.nodes,\n  (nodes) => {\n    if (flushHandle) clearTimeout(flushHandle);\n    flushHandle = self.setTimeout(async () => {\n      await db.nodes.bulkPut([...nodes.values()]); // non-blocking\n    }, 500);\n  },\n  { fireImmediately: false }\n);\n\nexport async function hydrateFromDB() {\n  const saved = await db.nodes.toArray();\n  const map = new Map<string, RuntimeNode>();\n  saved.forEach((n) => map.set(n.id, n));\n  useBlueprintStore.setState({ nodes: map });\n}\n\n/****************************************************************************************\n * 5.  USAGE EXAMPLE (React component side)\n ****************************************************************************************/\n/*\nimport { useBlueprintStore } from './store';\nimport { NodeStateMachine } from './stateMachine';\n\nfunction BatchProcessor({ nodeId }: { nodeId: string }) {\n  const node = useBlueprintStore((s) => s.nodes.get(nodeId));\n\n  useEffect(() => {\n    if (!node || node.status !== 'Idle') return;\n\n    const sm = new NodeStateMachine(nodeId);\n    sm.run(node.states, async () => {\n      // fake work – replace with real Web-Worker postMessage\n      await new Promise((r) => setTimeout(r, 800));\n    });\n  }, [node]);\n\n  return (\n    <div className={node?.status.toLowerCase()}>\n      {node?.label} – {node?.states[node?.currentStateIdx]}\n    </div>\n  );\n}\n*/\n```",
    "owl": "```bash\n#!/usr/bin/env bash\n# ------------------------------------------------------------------\n# EAGLE – Senior Full-Stack Developer\n# Nexus Strategy · Falcon Architecture\n# ------------------------------------------------------------------\n# 1. TestBench.tsx  – The Mechanic’s Bay\n# 2. CircuitBoard.tsx – SVG lines & Nodes\n# 3. BlueprintOverlay.tsx – Clickable spec overlay\n# ------------------------------------------------------------------\n\ncat << 'EOF' > src/components/debug/TestBench.tsx\nimport React, { useState } from 'react';\n\n/* ------------------------------------------------------------------\n * The Mechanic’s Bay – raw buttons for API / DB / Batch verification\n * No styling until functionality is 100% verified.\n * ------------------------------------------------------------------ */\n\ntype Status = 'idle' | 'loading' | 'success' | 'error';\n\nconst TestBench: React.FC = () => {\n  const [apiStatus, setApiStatus] = useState<Status>('idle');\n  const [dbStatus, setDbStatus]   = useState<Status>('idle');\n  const [batchStatus, setBatchStatus] = useState<Status>('idle');\n\n  /* ---------- Helpers ---------- */\n  const run = async (action: () => Promise<void>, set: (s: Status) => void) => {\n    set('loading');\n    try {\n      await action();\n      set('success');\n    } catch {\n      set('error');\n    }\n  };\n\n  /* ---------- Actions ---------- */\n  const testApi = async () => {\n    const res = await fetch('/api/health');\n    if (!res.ok) throw new Error('API unreachable');\n  };\n\n  const testDb = async () => {\n    const res = await fetch('/api/db/ping');\n    if (!res.ok) throw new Error('DB unreachable');\n  };\n\n  const testBatch = async () => {\n    const res = await fetch('/api/batch/demo', { method: 'POST' });\n    if (!res.ok) throw new Error('Batch failed');\n  };\n\n  /* ---------- UI ---------- */\n  return (\n    <section aria-label=\"Test Bench\">\n      <h2>Test Bench</h2>\n\n      <button disabled={apiStatus === 'loading'} onClick={() => run(testApi, setApiStatus)}>\n        API Health\n      </button>\n      <span data-status={apiStatus}>{apiStatus}</span>\n\n      <button disabled={dbStatus === 'loading'} onClick={() => run(testDb, setDbStatus)}>\n        DB Ping\n      </button>\n      <span data-status={dbStatus}>{dbStatus}</span>\n\n      <button disabled={batchStatus === 'loading'} onClick={() => run(testBatch, setBatchStatus)}>\n        Batch Demo\n      </button>\n      <span data-status={batchStatus}>{batchStatus}</span>\n    </section>\n  );\n};\n\nexport default TestBench;\nEOF\n\ncat << 'EOF' > src/components/visual/CircuitBoard.tsx\nimport React, { useEffect, useRef } from 'react';\nimport { useTestBench } from '../../hooks/useTestBench';\n\n/* ------------------------------------------------------------------\n * SVG Circuit Board – draws lines & nodes\n * Wires TestBench logic into visual nodes\n * ------------------------------------------------------------------ */\n\nexport interface Node {\n  id: string;\n  x: number;\n  y: number;\n  label: 'API' | 'DB' | 'Batch';\n}\n\nconst NODES: Node[] = [\n  { id: 'api',   x: 100, y: 100, label: 'API' },\n  { id: 'db',    x: 300, y: 100, label: 'DB' },\n  { id: 'batch', x: 200, y: 250, label: 'Batch' },\n];\n\nconst CircuitBoard: React.FC = () => {\n  const svgRef = useRef<SVGSVGElement>(null);\n  const { statuses } = useTestBench(); // { api:'success', db:'error', ... }\n\n  useEffect(() => {\n    const svg = svgRef.current;\n    if (!svg) return;\n\n    /* ---------- Draw Lines ---------- */\n    const lines = [\n      { from: NODES[0], to: NODES[2] },\n      { from: NODES[1], to: NODES[2] },\n    ];\n\n    lines.forEach(({ from, to }) => {\n      const el = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n      el.setAttribute('x1', String(from.x));\n      el.setAttribute('y1', String(from.y));\n      el.setAttribute('x2', String(to.x));\n      el.setAttribute('y2', String(to.y));\n      el.setAttribute('stroke', '#0ff');\n      el.setAttribute('stroke-width', '2');\n      svg.appendChild(el);\n    });\n\n    /* ---------- Draw Nodes ---------- */\n    NODES.forEach(n => {\n      const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n      g.setAttribute('cursor', 'pointer');\n      g.setAttribute('data-nodeid', n.id);\n\n      const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n      circle.setAttribute('cx', String(n.x));\n      circle.setAttribute('cy', String(n.y));\n      circle.setAttribute('r', '20');\n      circle.setAttribute('fill', statuses[n.id] === 'success' ? '#0f0' : '#f00');\n\n      const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n      text.setAttribute('x', String(n.x));\n      text.setAttribute('y', String(n.y + 5));\n      text.setAttribute('text-anchor', 'middle');\n      text.setAttribute('fill', '#fff');\n      text.textContent = n.label;\n\n      g.appendChild(circle);\n      g.appendChild(text);\n      svg.appendChild(g);\n    });\n  }, [statuses]);\n\n  return (\n    <div>\n      <h3>Circuit Board</h3>\n      <svg ref={svgRef} width=\"400\" height=\"300\" />\n    </div>\n  );\n};\n\nexport default CircuitBoard;\nEOF\n\ncat << 'EOF' > src/components/visual/BlueprintOverlay.tsx\nimport React, { useState } from 'react';\nimport { createPortal } from 'react-dom';\n\n/* ------------------------------------------------------------------\n * Blueprint Overlay – reveals internal logic specs on node click\n * ------------------------------------------------------------------ */\n\ninterface Spec {\n  nodeId: string;\n  logic: string;\n  params: Record<string, unknown>;\n}\n\nconst SPECS: Spec[] = [\n  { nodeId: 'api', logic: 'RESTful health check', params: { timeout: 5000 } },\n  { nodeId: 'db',  logic: 'SELECT 1', params: {} },\n  { nodeId: 'batch', logic: 'ETL demo pipeline', params: { chunk: 1000 } },\n];\n\nconst BlueprintOverlay: React.FC = () => {\n  const [selected, setSelected] = useState<Spec | null>(null);\n\n  useEffect(() => {\n    const handler = (e: Event) => {\n      const target = e.target as HTMLElement;\n      const nodeId = target.closest('g')?.getAttribute('data-nodeid');\n      if (!nodeId) return;\n      const spec = SPECS.find(s => s.nodeId === nodeId);\n      setSelected(spec ?? null);\n    };\n    document.addEventListener('click', handler);\n    return () => document.removeEventListener('click', handler);\n  }, []);\n\n  if (!selected) return null;\n\n  return createPortal(\n    <aside\n      style={{\n        position: 'fixed',\n        inset: 0,\n        background: 'rgba(0,0,0,0.7)',\n        color: '#0ff',\n        padding: '2rem',\n      }}\n      onClick={() => setSelected(null)}\n    >\n      <h4>Blueprint – {selected.nodeId.toUpperCase()}</h4>\n      <pre>{JSON.stringify(selected, null, 2)}</pre>\n    </aside>,\n    document.body\n  );\n};\n\nexport default BlueprintOverlay;\nEOF\n\ncat << 'EOF' > src/hooks/useTestBench.ts\nimport { useEffect, useState } from 'react';\n\n/* ------------------------------------------------------------------\n * Minimal bridge between TestBench & CircuitBoard\n * ------------------------------------------------------------------ */\n\nexport type Status = 'idle' | 'loading' | 'success' | 'error';\n\ninterface Statuses { api: Status; db: Status; batch: Status; }\n\nexport const useTestBench = () => {\n  const [statuses, setStatuses] = useState<Statuses>({ api: 'idle', db: 'idle', batch: 'idle' });\n\n  useEffect(() => {\n    const onStatus = (e: CustomEvent<{ node: keyof Statuses; status: Status }>) => {\n      setStatuses(s => ({ ...s, [e.detail.node]: e.detail.status }));\n    };\n    window.addEventListener('testbench-status', onStatus as EventListener);\n    return () => window.removeEventListener('testbench-status', onStatus as EventListener);\n  }, []);\n\n  return { statuses };\n};\nEOF\n```",
    "hawk": ""
  },
  "outputs": {
    "spark": "SPARK – Live Circuit Visual Language  \n(Everything below is copy-paste ready)\n\n--------------------------------------------------\n1.  COLOR TOKENS (Tailwind plugin)\n--------------------------------------------------\n```js\n// tailwind.config.js\nconst { plugin } = require('twin.macro')\n\nplugin(({ addBase, theme }) => {\n  addBase({\n    ':root': {\n      '--void': '#050505',\n      '--matrix': '#00FF41',\n      '--alert': '#FF2A55',\n      '--yellow': '#FFD400',\n      '--glow-matrix': '0 0 4px #00FF41, 0 0 8px #00FF41',\n      '--glow-alert': '0 0 4px #FF2A55, 0 0 8px #FF2A55',\n      '--glow-yellow': '0 0 4px #FFD400, 0 0 8px #FFD400',\n    },\n  })\n})\n```\n\n--------------------------------------------------\n2.  GLOBAL CLASSES\n--------------------------------------------------\n```css\n/* CRT scanlines & phosphor glow */\n.crt::before {\n  content: '';\n  position: fixed;\n  inset: 0;\n  background: repeating-linear-gradient(\n    0deg,\n    rgba(255,255,255,0.03) 0,\n    rgba(255,255,255,0.03) 1px,\n    transparent 1px,\n    transparent 2px\n  );\n  pointer-events: none;\n  z-index: 9999;\n  animation: flicker 8s infinite;\n}\n@keyframes flicker {\n  0%, 100% { opacity: 0.9; }\n  50% { opacity: 0.65; }\n}\n\n/* Monospace text glow */\n.mono-glow {\n  font-family: 'JetBrains Mono', monospace;\n  text-shadow: 0 0 2px var(--matrix), 0 0 4px var(--matrix);\n}\n```\n\n--------------------------------------------------\n3.  SVG WIRE (The Nervous System)\n--------------------------------------------------\n```tsx\n<svg className=\"w-full h-full\">\n  <defs>\n    <filter id=\"glow\">\n      <feGaussianBlur stdDeviation=\"2.5\" result=\"coloredBlur\" />\n      <feMerge>\n        <feMergeNode in=\"coloredBlur\" />\n        <feMergeNode in=\"SourceGraphic\" />\n      </feMerge>\n    </filter>\n  </defs>\n\n  <motion.path\n    d={pathData}\n    fill=\"none\"\n    strokeWidth=\"2\"\n    className=\"wire\"\n    initial=\"idle\"\n    animate={status}\n    variants={wireVariants}\n    style={{ filter: 'url(#glow)' }}\n  />\n</svg>\n```\n\n--------------------------------------------------\n4.  FRAMER MOTION VARIANTS\n--------------------------------------------------\n```ts\nconst wireVariants = {\n  idle:   { stroke: '#00FF41', pathLength: 1, opacity: 0.3 },\n  run:    { stroke: '#00FF41', pathLength: 1, opacity: 1 },\n  pulse:  {\n    stroke: '#FFD400',\n    pathLength: 1,\n    opacity: [0.8, 1, 0.8],\n    transition: { repeat: Infinity, duration: 0.6, ease: 'easeInOut' },\n  },\n  fail:   {\n    stroke: '#FF2A55',\n    pathLength: 0.4,               // break point\n    opacity: [1, 0, 1],\n    transition: { repeat: 3, duration: 0.2 },\n  },\n}\n```\n\n--------------------------------------------------\n5.  TAILWIND UTILITY MAP\n--------------------------------------------------\n```html\n<!-- Container -->\n<div className=\"bg-void text-matrix font-mono crt\">\n\n<!-- Text -->\n<span className=\"mono-glow text-sm leading-none\">\n\n<!-- Success line -->\n<svg className=\"w-full h-px\">\n  <motion.path className=\"wire\" variants={wireVariants} animate=\"run\" />\n</svg>\n\n<!-- Failure line -->\n<svg className=\"w-full h-px\">\n  <motion.path className=\"wire\" variants={wireVariants} animate=\"fail\" />\n</svg>\n\n<!-- Blinking cursor -->\n<span className=\"inline-block w-2 h-3 bg-matrix animate-pulse\" />\n```\n\n--------------------------------------------------\n6.  ACCESSIBILITY HOOK\n--------------------------------------------------\n```tsx\nconst status = useStatus() // 'idle' | 'run' | 'pulse' | 'fail'\nuseAnnouncer(status)        // aria-live region for screen-readers\n```\n\n--------------------------------------------------\n7.  DROP-IN REACT HELPER\n--------------------------------------------------\n```tsx\nexport const LiveWire = ({ status }: { status: keyof typeof wireVariants }) => (\n  <svg className=\"w-full h-px\">\n    <motion.path\n      d=\"M0 1 H100%\"\n      className=\"wire\"\n      variants={wireVariants}\n      animate={status}\n    />\n  </svg>\n)\n```\n\nCopy, paste, mutate—your interface now has a living nervous system.",
    "falcon": "```typescript\n/****************************************************************************************\n * 1.  DOMAIN INTERFACES – what we persist, what we render, what we animate\n ****************************************************************************************/\nexport type NodeStatus = 'Idle' | 'Loading' | 'Success' | 'Error';\n\nexport interface BlueprintNode {\n  id: string;                       // unique inside the blueprint\n  label: string;                  // human friendly\n  inputs: string[];             // semantic names (not wiring)\n  outputs: string[];            // semantic names\n  states: string[];               // ordered list of micro-stages (Parsing, Striking…)\n}\n\nexport interface RuntimeNode extends BlueprintNode {\n  status: NodeStatus;\n  currentStateIdx: number;        // which state inside `states` is active right now\n  error?: string;                   // populated when status === 'Error'\n}\n\n/****************************************************************************************\n * 2.  GLOBAL STORE – Zustand (tiny, sliceable, works in Web-Worker if needed)\n ****************************************************************************************/\nimport { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\ninterface BlueprintState {\n  nodes: Map<string, RuntimeNode>; // O(1) lookup by id\n  setNodeStatus: (\n    id: string,\n    status: NodeStatus,\n    opts?: { error?: string; stateIdx?: number }\n  ) => void;\n  resetBlueprint: () => void;\n}\n\nexport const useBlueprintStore = create<BlueprintState>()(\n  subscribeWithSelector((set) => ({\n    nodes: new Map(),\n\n    setNodeStatus: (id, status, opts) =>\n      set((s) => {\n        const clone = new Map(s.nodes);\n        const node = clone.get(id);\n        if (!node) return s; // defensive\n        clone.set(id, {\n          ...node,\n          status,\n          error: opts?.error,\n          currentStateIdx: opts?.stateIdx ?? node.currentStateIdx,\n        });\n        return { nodes: clone };\n      }),\n\n    resetBlueprint: () => set({ nodes: new Map() }),\n  }))\n);\n\n/****************************************************************************************\n * 3.  STATE-MACHINE – per-node micro-stages + global orchestration\n *     (works on top of the store, no extra deps)\n ****************************************************************************************/\nexport class NodeStateMachine {\n  constructor(private nodeId: string) {}\n\n  private transit(status: NodeStatus, stateIdx?: number, error?: string) {\n    useBlueprintStore.getState().setNodeStatus(this.nodeId, status, { error, stateIdx });\n  }\n\n  async run(states: string[], worker: () => Promise<void>) {\n    this.transit('Loading', 0);\n    try {\n      for (let i = 0; i < states.length; i++) {\n        this.transit('Loading', i);\n        await worker();            // real work happens here (can be a Web-Worker message)\n      }\n      this.transit('Success', states.length - 1);\n    } catch (e: any) {\n      this.transit('Error', undefined, e.message || 'Unknown');\n    }\n  }\n}\n\n/****************************************************************************************\n * 4.  PERSISTENCE – Dexie + non-blocking bulk ops\n *     Dexie runs in the main thread but uses IndexedDB’s async API → no freeze\n ****************************************************************************************/\nimport Dexie, { Table } from 'dexie';\n\nclass BlueprintDB extends Dexie {\n  nodes!: Table<RuntimeNode, string>;\n\n  constructor() {\n    super('BlueprintDB');\n    this.version(1).stores({ nodes: 'id' });\n  }\n}\n\nexport const db = new BlueprintDB();\n\n/* thin helper – load once on mount, write on every store change (throttled 500 ms) */\nlet flushHandle: number | null = null;\nuseBlueprintStore.subscribe(\n  (s) => s.nodes,\n  (nodes) => {\n    if (flushHandle) clearTimeout(flushHandle);\n    flushHandle = self.setTimeout(async () => {\n      await db.nodes.bulkPut([...nodes.values()]); // non-blocking\n    }, 500);\n  },\n  { fireImmediately: false }\n);\n\nexport async function hydrateFromDB() {\n  const saved = await db.nodes.toArray();\n  const map = new Map<string, RuntimeNode>();\n  saved.forEach((n) => map.set(n.id, n));\n  useBlueprintStore.setState({ nodes: map });\n}\n\n/****************************************************************************************\n * 5.  USAGE EXAMPLE (React component side)\n ****************************************************************************************/\n/*\nimport { useBlueprintStore } from './store';\nimport { NodeStateMachine } from './stateMachine';\n\nfunction BatchProcessor({ nodeId }: { nodeId: string }) {\n  const node = useBlueprintStore((s) => s.nodes.get(nodeId));\n\n  useEffect(() => {\n    if (!node || node.status !== 'Idle') return;\n\n    const sm = new NodeStateMachine(nodeId);\n    sm.run(node.states, async () => {\n      // fake work – replace with real Web-Worker postMessage\n      await new Promise((r) => setTimeout(r, 800));\n    });\n  }, [node]);\n\n  return (\n    <div className={node?.status.toLowerCase()}>\n      {node?.label} – {node?.states[node?.currentStateIdx]}\n    </div>\n  );\n}\n*/\n```",
    "eagle": "```bash\n#!/usr/bin/env bash\n# ------------------------------------------------------------------\n# EAGLE – Senior Full-Stack Developer\n# Nexus Strategy · Falcon Architecture\n# ------------------------------------------------------------------\n# 1. TestBench.tsx  – The Mechanic’s Bay\n# 2. CircuitBoard.tsx – SVG lines & Nodes\n# 3. BlueprintOverlay.tsx – Clickable spec overlay\n# ------------------------------------------------------------------\n\ncat << 'EOF' > src/components/debug/TestBench.tsx\nimport React, { useState } from 'react';\n\n/* ------------------------------------------------------------------\n * The Mechanic’s Bay – raw buttons for API / DB / Batch verification\n * No styling until functionality is 100% verified.\n * ------------------------------------------------------------------ */\n\ntype Status = 'idle' | 'loading' | 'success' | 'error';\n\nconst TestBench: React.FC = () => {\n  const [apiStatus, setApiStatus] = useState<Status>('idle');\n  const [dbStatus, setDbStatus]   = useState<Status>('idle');\n  const [batchStatus, setBatchStatus] = useState<Status>('idle');\n\n  /* ---------- Helpers ---------- */\n  const run = async (action: () => Promise<void>, set: (s: Status) => void) => {\n    set('loading');\n    try {\n      await action();\n      set('success');\n    } catch {\n      set('error');\n    }\n  };\n\n  /* ---------- Actions ---------- */\n  const testApi = async () => {\n    const res = await fetch('/api/health');\n    if (!res.ok) throw new Error('API unreachable');\n  };\n\n  const testDb = async () => {\n    const res = await fetch('/api/db/ping');\n    if (!res.ok) throw new Error('DB unreachable');\n  };\n\n  const testBatch = async () => {\n    const res = await fetch('/api/batch/demo', { method: 'POST' });\n    if (!res.ok) throw new Error('Batch failed');\n  };\n\n  /* ---------- UI ---------- */\n  return (\n    <section aria-label=\"Test Bench\">\n      <h2>Test Bench</h2>\n\n      <button disabled={apiStatus === 'loading'} onClick={() => run(testApi, setApiStatus)}>\n        API Health\n      </button>\n      <span data-status={apiStatus}>{apiStatus}</span>\n\n      <button disabled={dbStatus === 'loading'} onClick={() => run(testDb, setDbStatus)}>\n        DB Ping\n      </button>\n      <span data-status={dbStatus}>{dbStatus}</span>\n\n      <button disabled={batchStatus === 'loading'} onClick={() => run(testBatch, setBatchStatus)}>\n        Batch Demo\n      </button>\n      <span data-status={batchStatus}>{batchStatus}</span>\n    </section>\n  );\n};\n\nexport default TestBench;\nEOF\n\ncat << 'EOF' > src/components/visual/CircuitBoard.tsx\nimport React, { useEffect, useRef } from 'react';\nimport { useTestBench } from '../../hooks/useTestBench';\n\n/* ------------------------------------------------------------------\n * SVG Circuit Board – draws lines & nodes\n * Wires TestBench logic into visual nodes\n * ------------------------------------------------------------------ */\n\nexport interface Node {\n  id: string;\n  x: number;\n  y: number;\n  label: 'API' | 'DB' | 'Batch';\n}\n\nconst NODES: Node[] = [\n  { id: 'api',   x: 100, y: 100, label: 'API' },\n  { id: 'db',    x: 300, y: 100, label: 'DB' },\n  { id: 'batch', x: 200, y: 250, label: 'Batch' },\n];\n\nconst CircuitBoard: React.FC = () => {\n  const svgRef = useRef<SVGSVGElement>(null);\n  const { statuses } = useTestBench(); // { api:'success', db:'error', ... }\n\n  useEffect(() => {\n    const svg = svgRef.current;\n    if (!svg) return;\n\n    /* ---------- Draw Lines ---------- */\n    const lines = [\n      { from: NODES[0], to: NODES[2] },\n      { from: NODES[1], to: NODES[2] },\n    ];\n\n    lines.forEach(({ from, to }) => {\n      const el = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n      el.setAttribute('x1', String(from.x));\n      el.setAttribute('y1', String(from.y));\n      el.setAttribute('x2', String(to.x));\n      el.setAttribute('y2', String(to.y));\n      el.setAttribute('stroke', '#0ff');\n      el.setAttribute('stroke-width', '2');\n      svg.appendChild(el);\n    });\n\n    /* ---------- Draw Nodes ---------- */\n    NODES.forEach(n => {\n      const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');\n      g.setAttribute('cursor', 'pointer');\n      g.setAttribute('data-nodeid', n.id);\n\n      const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n      circle.setAttribute('cx', String(n.x));\n      circle.setAttribute('cy', String(n.y));\n      circle.setAttribute('r', '20');\n      circle.setAttribute('fill', statuses[n.id] === 'success' ? '#0f0' : '#f00');\n\n      const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n      text.setAttribute('x', String(n.x));\n      text.setAttribute('y', String(n.y + 5));\n      text.setAttribute('text-anchor', 'middle');\n      text.setAttribute('fill', '#fff');\n      text.textContent = n.label;\n\n      g.appendChild(circle);\n      g.appendChild(text);\n      svg.appendChild(g);\n    });\n  }, [statuses]);\n\n  return (\n    <div>\n      <h3>Circuit Board</h3>\n      <svg ref={svgRef} width=\"400\" height=\"300\" />\n    </div>\n  );\n};\n\nexport default CircuitBoard;\nEOF\n\ncat << 'EOF' > src/components/visual/BlueprintOverlay.tsx\nimport React, { useState } from 'react';\nimport { createPortal } from 'react-dom';\n\n/* ------------------------------------------------------------------\n * Blueprint Overlay – reveals internal logic specs on node click\n * ------------------------------------------------------------------ */\n\ninterface Spec {\n  nodeId: string;\n  logic: string;\n  params: Record<string, unknown>;\n}\n\nconst SPECS: Spec[] = [\n  { nodeId: 'api', logic: 'RESTful health check', params: { timeout: 5000 } },\n  { nodeId: 'db',  logic: 'SELECT 1', params: {} },\n  { nodeId: 'batch', logic: 'ETL demo pipeline', params: { chunk: 1000 } },\n];\n\nconst BlueprintOverlay: React.FC = () => {\n  const [selected, setSelected] = useState<Spec | null>(null);\n\n  useEffect(() => {\n    const handler = (e: Event) => {\n      const target = e.target as HTMLElement;\n      const nodeId = target.closest('g')?.getAttribute('data-nodeid');\n      if (!nodeId) return;\n      const spec = SPECS.find(s => s.nodeId === nodeId);\n      setSelected(spec ?? null);\n    };\n    document.addEventListener('click', handler);\n    return () => document.removeEventListener('click', handler);\n  }, []);\n\n  if (!selected) return null;\n\n  return createPortal(\n    <aside\n      style={{\n        position: 'fixed',\n        inset: 0,\n        background: 'rgba(0,0,0,0.7)',\n        color: '#0ff',\n        padding: '2rem',\n      }}\n      onClick={() => setSelected(null)}\n    >\n      <h4>Blueprint – {selected.nodeId.toUpperCase()}</h4>\n      <pre>{JSON.stringify(selected, null, 2)}</pre>\n    </aside>,\n    document.body\n  );\n};\n\nexport default BlueprintOverlay;\nEOF\n\ncat << 'EOF' > src/hooks/useTestBench.ts\nimport { useEffect, useState } from 'react';\n\n/* ------------------------------------------------------------------\n * Minimal bridge between TestBench & CircuitBoard\n * ------------------------------------------------------------------ */\n\nexport type Status = 'idle' | 'loading' | 'success' | 'error';\n\ninterface Statuses { api: Status; db: Status; batch: Status; }\n\nexport const useTestBench = () => {\n  const [statuses, setStatuses] = useState<Statuses>({ api: 'idle', db: 'idle', batch: 'idle' });\n\n  useEffect(() => {\n    const onStatus = (e: CustomEvent<{ node: keyof Statuses; status: Status }>) => {\n      setStatuses(s => ({ ...s, [e.detail.node]: e.detail.status }));\n    };\n    window.addEventListener('testbench-status', onStatus as EventListener);\n    return () => window.removeEventListener('testbench-status', onStatus as EventListener);\n  }, []);\n\n  return { statuses };\n};\nEOF\n```",
    "owl": "",
    "hawk": ""
  },
  "telemetry": {
    "spark": {
      "status": "success"
    },
    "falcon": {
      "status": "success"
    },
    "eagle": {
      "status": "success"
    },
    "owl": {
      "status": "idle"
    },
    "hawk": {
      "status": "idle"
    }
  },
  "activePrompts": {
    "spark": "02_spark_design",
    "falcon": "03_falcon_architecture",
    "eagle": "04_eagle_implementation",
    "owl": "owl_v21",
    "hawk": "05_hawk_qa"
  },
  "owlQueue": [],
  "name": "ZERO_FRICTION_OP"
}
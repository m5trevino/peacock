{
  "inputs": {
    "spark": "",
    "falcon": "SPARK | VISUAL LANGUAGE SPEC  \n“Live Circuit – Nervous System”\n\n-------------------------------------------------\n1. COLOR TOKENS (Tailwind)\n-------------------------------------------------\n/* base */\n--void-950: #050505;               /* bg-void-950 */\n--matrix-400: #00FF41;             /* text-matrix-400 / border-matrix-400 */\n--alert-500: #FF3B30;               /* text-alert-500 / border-alert-500 */\n--process-300: #FFEB3B;           /* text-process-300 / border-process-300 */\n\n/* glows (drop-shadow) */\n--glow-matrix: 0 0 4px #00FF41, 0 0 12px #00FF41;\n--glow-alert: 0 0 4px #FF3B30, 0 0 12px #FF3B30;\n--glow-process: 0 0 4px #FFEB3B, 0 0 12px #FFEB3B;\n\n-------------------------------------------------\n2. TYPOGRAPHY\n-------------------------------------------------\nfont-mono text-matrix-400 text-xs leading-tight tracking-tight  \n/* 12-px JetBrains Mono, 1.1 line-height, –0.02em letter-spacing */\n\n-------------------------------------------------\n3. CRT OVERLAY (pseudo-element)\n-------------------------------------------------\n.crt::after {\n  content: \"\";\n  position: fixed;\n  inset: 0;\n  background: repeating-linear-gradient(\n    0deg,\n    rgba(255,255,255,0.03) 0,\n    rgba(255,255,255,0.03) 1px,\n    transparent 1px,\n    transparent 2px\n  );\n  pointer-events: none;\n  z-index: 9999;\n  animation: scanline 8s linear infinite;\n}\n@keyframes scanline { to { transform: translateY(100vh); } }\n\n-------------------------------------------------\n4. THE NERVOUS SYSTEM – SVG WIRE\n-------------------------------------------------\n<svg class=\"w-full h-full\">\n  <path\n    id=\"wire\"\n    class=\"stroke-current\"\n    vector-effect=\"non-scaling-stroke\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    fill=\"none\"\n  />\n</svg>\n\nTailwind utility:\n.text-matrix-400 { stroke: #00FF41; }\n.drop-shadow-glow-matrix { filter: drop-shadow(var(--glow-matrix)); }\n\n-------------------------------------------------\n5. FRAMER MOTION STATES\n-------------------------------------------------\nconst wireStates = {\n  idle: {\n    pathLength: 1,\n    opacity: 0.4,\n    filter: \"drop-shadow(none)\",\n  },\n  processing: {\n    pathLength: 1,\n    opacity: 1,\n    filter: \"drop-shadow(var(--glow-process))\",\n    stroke: \"#FFEB3B\",\n    transition: {\n      stroke: { duration: 0.3 },\n      opacity: { repeat: Infinity, repeatType: \"reverse\", duration: 0.6 },\n    },\n  },\n  success: {\n    pathLength: 1,\n    opacity: 1,\n    stroke: \"#00FF41\",\n    filter: \"drop-shadow(var(--glow-matrix))\",\n    transition: { type: \"spring\", stiffness: 400, damping: 20 },\n  },\n  failure: {\n    pathLength: 0.6,               // break at 60 %\n    opacity: [1, 0, 1],\n    stroke: \"#FF3B30\",\n    filter: \"drop-shadow(var(--glow-alert))\",\n    transition: {\n      opacity: { repeat: Infinity, duration: 0.4 },\n    },\n  },\n};\n\n/* Light-pulse travel */\nconst pulseVariants = {\n  initial: { pathOffset: 0, opacity: 0 },\n  travel: {\n    pathOffset: 1,\n    opacity: [0, 1, 0],\n    transition: { duration: 1.2, ease: \"linear\" },\n  },\n};\n\n-------------------------------------------------\n6. REACT USAGE PATTERN\n-------------------------------------------------\n<motion.path\n  d={pathData}\n  variants={wireStates}\n  initial=\"idle\"\n  animate={status}          // 'idle' | 'processing' | 'success' | 'failure'\n/>\n\n{status === \"processing\" && (\n  <motion.circle\n    r=\"3\"\n    fill=\"#FFEB3B\"\n    filter=\"url(#glow)\"\n    variants={pulseVariants}\n    initial=\"initial\"\n    animate=\"travel\"\n  />\n)}\n\n-------------------------------------------------\n7. ACCESSORY CLASSES\n-------------------------------------------------\n/* blinking cursor */\n.blink::after {\n  content: \"_\";\n  display: inline-block;\n  animation: blink 1s step-end infinite;\n}\n@keyframes blink { 50% { opacity: 0; } }\n\n/* matrix glow text */\n.text-glow {\n  text-shadow: 0 0 2px #00FF41, 0 0 6px #00FF41;\n}\n\n-------------------------------------------------\n8. SUMMARY SNIPPET\n-------------------------------------------------\n<div className=\"crt bg-void-950 font-mono text-matrix-400 text-xs\">\n  <svg className=\"w-full h-full\">\n    <motion.path\n      className=\"stroke-current\"\n      variants={wireStates}\n      initial=\"idle\"\n      animate={status}\n    />\n  </svg>\n</div>\n\n-------------------------------------------------\nDrop these tokens & states into Tailwind config, toggle the motion “status” prop, and the schematic lives—green when clean, red when broken, yellow pulse while thinking.",
    "eagle": "Falcon (Solutions Architect & Data Engineer) – clearance granted.  \nBelow is the minimal, thread-safe spec that keeps the main loop at 60 fps while Dexie does the heavy lifting in a Web Worker.\n\n--------------------------------------------------\n1. GLOBAL STORE – Zustand slice\n--------------------------------------------------\n```ts\n// store/useBlueprintStore.ts\nimport { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\nexport type NodeStatus = 'Idle' | 'Loading' | 'Success' | 'Error';\n\nexport interface NodeRuntime {\n  id: string;               // same key as in BlueprintLayer\n  status: NodeStatus;\n  progress?: number;        // 0-1 optional\n  error?: string;             // populated when status === Error\n}\n\ninterface BlueprintState {\n  nodes: Record<string, NodeRuntime>;   // O(1) lookup\n  setNode: (id: string, patch: Partial<NodeRuntime>) => void;\n  setBulk: (updates: Record<string, Partial<NodeRuntime>>) => void;\n}\n\nexport const useBlueprintStore = create<BlueprintState>()(\n  subscribeWithSelector((set) => ({\n    nodes: {},\n    setNode: (id, patch) =>\n      set((s) => ({ nodes: { ...s.nodes, [id]: { ...s.nodes[id], ...patch } } })),\n    setBulk: (updates) =>\n      set((s) => ({\n        nodes: Object.entries(updates).reduce((acc, [k, v]) => {\n          acc[k] = { ...acc[k], ...v };\n          return acc;\n        }, { ...s.nodes }),\n      })),\n  }))\n);\n```\n\n--------------------------------------------------\n2. BLUEPRINT LAYER – static documentation\n--------------------------------------------------\n```ts\n// blueprint/contract.ts\nexport interface Port {\n  name: string;\n  type: 'Files' | 'IndexedDB' | 'JSON' | 'Blob'; // extend as needed\n}\n\nexport interface BlueprintNode {\n  id: string;\n  inputs: Port[];\n  outputs: Port[];\n  states: string[];          // human-readable steps (Parsing, Striking…)\n  worker: string;            // Worker script name (e.g. /workers/batchProcessor.js)\n}\n\nexport interface BlueprintLayer {\n  nodes: Record<string, BlueprintNode>;\n  edges: Array<{ from: string; to: string; port: string }>;\n}\n\n// singleton – imported once, never mutated at runtime\nexport const BLUEPRINT: BlueprintLayer = (await import('./blueprint.json')).default;\n```\n\n--------------------------------------------------\n3. DEXIE SCHEMA + OFF-THREAD ACCESS\n--------------------------------------------------\n```ts\n// db/dexieWorker.ts  (runs inside a Web Worker)\nimport Dexie from 'dexie';\n\nconst db = new Dexie('InteractiveBlueprint');\ndb.version(1).stores({\n  nodes: 'id,status,progress,error', // same fields as NodeRuntime\n  payloads: 'nodeId,createdAt',     // optional large blobs\n});\n\n// listen to main thread\nself.onmessage = async (e: MessageEvent) => {\n  const { op, args } = e.data;\n  let result;\n  switch (op) {\n    case 'getAll':\n      result = await db.nodes.toArray();\n      break;\n    case 'set':\n      await db.nodes.put(args);\n      break;\n    case 'setBulk':\n      await db.nodes.bulkPut(Object.values(args));\n      break;\n  }\n  self.postMessage({ id: e.data.id, result });\n};\n```\n\n--------------------------------------------------\n4. STATE-MACHINE LOGIC – UI side\n--------------------------------------------------\n```ts\n// machines/nodeMachine.ts\nimport { useBlueprintStore, NodeStatus } from '../store/useBlueprintStore';\nimport { BLUEPRINT } from '../blueprint/contract';\n\nconst workerCache = new Map<string, Worker>();\n\nexport function spawnNode(nodeId: string) {\n  const def = BLUEPRINT.nodes[nodeId];\n  if (!def) throw new Error(`Unknown node ${nodeId}`);\n\n  // 1. Update store → Loading\n  useBlueprintStore.getState().setNode(nodeId, { status: 'Loading', progress: 0 });\n\n  // 2. Spin up (or reuse) worker\n  let worker = workerCache.get(def.worker);\n  if (!worker) {\n    worker = new Worker(new URL(`../workers/${def.worker}`, import.meta.url), { type: 'module' });\n    workerCache.set(def.worker, worker);\n  }\n\n  worker.postMessage({ nodeId, inputs: def.inputs });\n\n  worker.onmessage = ({ data }) => {\n    const { type, payload } = data;\n    switch (type) {\n      case 'progress':\n        useBlueprintStore.getState().setNode(nodeId, { progress: payload });\n        break;\n      case 'success':\n        useBlueprintStore.getState().setNode(nodeId, { status: 'Success', progress: 1 });\n        break;\n      case 'error':\n        useBlueprintStore.getState().setNode(nodeId, { status: 'Error', error: payload });\n        break;\n    }\n  };\n}\n```\n\n--------------------------------------------------\n5. REACT HOOK – keep Dexie in sync without blocking\n--------------------------------------------------\n```ts\n// hooks/usePersistNodes.ts\nimport { useEffect } from 'react';\nimport { useBlueprintStore } from '../store/useBlueprintStore';\n\nconst worker = new Worker(new URL('../db/dexieWorker.ts', import.meta.url), { type: 'module' });\n\nlet msgId = 0;\nfunction dexiePost<T>(op: string, args?: any): Promise<T> {\n  return new Promise((resolve) => {\n    const id = ++msgId;\n    worker.postMessage({ id, op, args });\n    const handler = (e: MessageEvent) => {\n      if (e.data.id === id) {\n        worker.removeEventListener('message', handler);\n        resolve(e.data.result);\n      }\n    };\n    worker.addEventListener('message', handler);\n  });\n}\n\nexport function usePersistNodes() {\n  const nodes = useBlueprintStore((s) => s.nodes);\n  const setBulk = useBlueprintStore((s) => s.setBulk);\n\n  // write debounced (RAF) – keeps UI smooth\n  useEffect(() => {\n    const t = requestIdleCallback(() => dexiePost('setBulk', nodes));\n    return () => cancelIdleCallback(t);\n  }, [nodes]);\n\n  // hydrate once on mount\n  useEffect(() => {\n    dexiePost<Record<string, any>>('getAll').then((rows) => {\n      const updates = rows.reduce((acc, cur) => ({ ...acc, [cur.id]: cur }), {});\n      setBulk(updates);\n    });\n  }, []);\n}\n```\n\n--------------------------------------------------\n6. USAGE EXAMPLE – inside React\n--------------------------------------------------\n```tsx\nimport { useBlueprintStore } from './store/useBlueprintStore';\nimport { usePersistNodes } from './hooks/usePersistNodes';\nimport { spawnNode } from './machines/nodeMachine';\n\nexport default function Canvas() {\n  usePersistNodes(); // keeps Dexie in sync\n\n  const nodes = useBlueprintStore((s) => s.nodes);\n\n  return (\n    <svg>\n      {Object.entries(nodes).map(([id, runtime]) => (\n        <Node\n          key={id}\n          id={id}\n          status={runtime.status}\n          progress={runtime.progress}\n          onStart={() => spawnNode(id)}\n        />\n      ))}\n    </svg>\n  );\n}\n```\n\n--------------------------------------------------\n7. WORKER TEMPLATE (example)\n--------------------------------------------------\n```ts\n// workers/batchProcessor.ts\nself.onmessage = async (e) => {\n  const { nodeId } = e.data;\n  try {\n    for (let i = 0; i <= 10; i++) {\n      await new Promise((r) => setTimeout(r, 200)); // fake work\n      self.postMessage({ type: 'progress', payload: i / 10 });\n    }\n    self.postMessage({ type: 'success' });\n  } catch (err) {\n    self.postMessage({ type: 'error', payload: (err as Error).message });\n  }\n};\n```\n\n--------------------------------------------------\nEND OF TRANSMISSION",
    "owl": "",
    "hawk": ""
  },
  "outputs": {
    "spark": "SPARK | VISUAL LANGUAGE SPEC  \n“Live Circuit – Nervous System”\n\n-------------------------------------------------\n1. COLOR TOKENS (Tailwind)\n-------------------------------------------------\n/* base */\n--void-950: #050505;               /* bg-void-950 */\n--matrix-400: #00FF41;             /* text-matrix-400 / border-matrix-400 */\n--alert-500: #FF3B30;               /* text-alert-500 / border-alert-500 */\n--process-300: #FFEB3B;           /* text-process-300 / border-process-300 */\n\n/* glows (drop-shadow) */\n--glow-matrix: 0 0 4px #00FF41, 0 0 12px #00FF41;\n--glow-alert: 0 0 4px #FF3B30, 0 0 12px #FF3B30;\n--glow-process: 0 0 4px #FFEB3B, 0 0 12px #FFEB3B;\n\n-------------------------------------------------\n2. TYPOGRAPHY\n-------------------------------------------------\nfont-mono text-matrix-400 text-xs leading-tight tracking-tight  \n/* 12-px JetBrains Mono, 1.1 line-height, –0.02em letter-spacing */\n\n-------------------------------------------------\n3. CRT OVERLAY (pseudo-element)\n-------------------------------------------------\n.crt::after {\n  content: \"\";\n  position: fixed;\n  inset: 0;\n  background: repeating-linear-gradient(\n    0deg,\n    rgba(255,255,255,0.03) 0,\n    rgba(255,255,255,0.03) 1px,\n    transparent 1px,\n    transparent 2px\n  );\n  pointer-events: none;\n  z-index: 9999;\n  animation: scanline 8s linear infinite;\n}\n@keyframes scanline { to { transform: translateY(100vh); } }\n\n-------------------------------------------------\n4. THE NERVOUS SYSTEM – SVG WIRE\n-------------------------------------------------\n<svg class=\"w-full h-full\">\n  <path\n    id=\"wire\"\n    class=\"stroke-current\"\n    vector-effect=\"non-scaling-stroke\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    fill=\"none\"\n  />\n</svg>\n\nTailwind utility:\n.text-matrix-400 { stroke: #00FF41; }\n.drop-shadow-glow-matrix { filter: drop-shadow(var(--glow-matrix)); }\n\n-------------------------------------------------\n5. FRAMER MOTION STATES\n-------------------------------------------------\nconst wireStates = {\n  idle: {\n    pathLength: 1,\n    opacity: 0.4,\n    filter: \"drop-shadow(none)\",\n  },\n  processing: {\n    pathLength: 1,\n    opacity: 1,\n    filter: \"drop-shadow(var(--glow-process))\",\n    stroke: \"#FFEB3B\",\n    transition: {\n      stroke: { duration: 0.3 },\n      opacity: { repeat: Infinity, repeatType: \"reverse\", duration: 0.6 },\n    },\n  },\n  success: {\n    pathLength: 1,\n    opacity: 1,\n    stroke: \"#00FF41\",\n    filter: \"drop-shadow(var(--glow-matrix))\",\n    transition: { type: \"spring\", stiffness: 400, damping: 20 },\n  },\n  failure: {\n    pathLength: 0.6,               // break at 60 %\n    opacity: [1, 0, 1],\n    stroke: \"#FF3B30\",\n    filter: \"drop-shadow(var(--glow-alert))\",\n    transition: {\n      opacity: { repeat: Infinity, duration: 0.4 },\n    },\n  },\n};\n\n/* Light-pulse travel */\nconst pulseVariants = {\n  initial: { pathOffset: 0, opacity: 0 },\n  travel: {\n    pathOffset: 1,\n    opacity: [0, 1, 0],\n    transition: { duration: 1.2, ease: \"linear\" },\n  },\n};\n\n-------------------------------------------------\n6. REACT USAGE PATTERN\n-------------------------------------------------\n<motion.path\n  d={pathData}\n  variants={wireStates}\n  initial=\"idle\"\n  animate={status}          // 'idle' | 'processing' | 'success' | 'failure'\n/>\n\n{status === \"processing\" && (\n  <motion.circle\n    r=\"3\"\n    fill=\"#FFEB3B\"\n    filter=\"url(#glow)\"\n    variants={pulseVariants}\n    initial=\"initial\"\n    animate=\"travel\"\n  />\n)}\n\n-------------------------------------------------\n7. ACCESSORY CLASSES\n-------------------------------------------------\n/* blinking cursor */\n.blink::after {\n  content: \"_\";\n  display: inline-block;\n  animation: blink 1s step-end infinite;\n}\n@keyframes blink { 50% { opacity: 0; } }\n\n/* matrix glow text */\n.text-glow {\n  text-shadow: 0 0 2px #00FF41, 0 0 6px #00FF41;\n}\n\n-------------------------------------------------\n8. SUMMARY SNIPPET\n-------------------------------------------------\n<div className=\"crt bg-void-950 font-mono text-matrix-400 text-xs\">\n  <svg className=\"w-full h-full\">\n    <motion.path\n      className=\"stroke-current\"\n      variants={wireStates}\n      initial=\"idle\"\n      animate={status}\n    />\n  </svg>\n</div>\n\n-------------------------------------------------\nDrop these tokens & states into Tailwind config, toggle the motion “status” prop, and the schematic lives—green when clean, red when broken, yellow pulse while thinking.",
    "falcon": "Falcon (Solutions Architect & Data Engineer) – clearance granted.  \nBelow is the minimal, thread-safe spec that keeps the main loop at 60 fps while Dexie does the heavy lifting in a Web Worker.\n\n--------------------------------------------------\n1. GLOBAL STORE – Zustand slice\n--------------------------------------------------\n```ts\n// store/useBlueprintStore.ts\nimport { create } from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\nexport type NodeStatus = 'Idle' | 'Loading' | 'Success' | 'Error';\n\nexport interface NodeRuntime {\n  id: string;               // same key as in BlueprintLayer\n  status: NodeStatus;\n  progress?: number;        // 0-1 optional\n  error?: string;             // populated when status === Error\n}\n\ninterface BlueprintState {\n  nodes: Record<string, NodeRuntime>;   // O(1) lookup\n  setNode: (id: string, patch: Partial<NodeRuntime>) => void;\n  setBulk: (updates: Record<string, Partial<NodeRuntime>>) => void;\n}\n\nexport const useBlueprintStore = create<BlueprintState>()(\n  subscribeWithSelector((set) => ({\n    nodes: {},\n    setNode: (id, patch) =>\n      set((s) => ({ nodes: { ...s.nodes, [id]: { ...s.nodes[id], ...patch } } })),\n    setBulk: (updates) =>\n      set((s) => ({\n        nodes: Object.entries(updates).reduce((acc, [k, v]) => {\n          acc[k] = { ...acc[k], ...v };\n          return acc;\n        }, { ...s.nodes }),\n      })),\n  }))\n);\n```\n\n--------------------------------------------------\n2. BLUEPRINT LAYER – static documentation\n--------------------------------------------------\n```ts\n// blueprint/contract.ts\nexport interface Port {\n  name: string;\n  type: 'Files' | 'IndexedDB' | 'JSON' | 'Blob'; // extend as needed\n}\n\nexport interface BlueprintNode {\n  id: string;\n  inputs: Port[];\n  outputs: Port[];\n  states: string[];          // human-readable steps (Parsing, Striking…)\n  worker: string;            // Worker script name (e.g. /workers/batchProcessor.js)\n}\n\nexport interface BlueprintLayer {\n  nodes: Record<string, BlueprintNode>;\n  edges: Array<{ from: string; to: string; port: string }>;\n}\n\n// singleton – imported once, never mutated at runtime\nexport const BLUEPRINT: BlueprintLayer = (await import('./blueprint.json')).default;\n```\n\n--------------------------------------------------\n3. DEXIE SCHEMA + OFF-THREAD ACCESS\n--------------------------------------------------\n```ts\n// db/dexieWorker.ts  (runs inside a Web Worker)\nimport Dexie from 'dexie';\n\nconst db = new Dexie('InteractiveBlueprint');\ndb.version(1).stores({\n  nodes: 'id,status,progress,error', // same fields as NodeRuntime\n  payloads: 'nodeId,createdAt',     // optional large blobs\n});\n\n// listen to main thread\nself.onmessage = async (e: MessageEvent) => {\n  const { op, args } = e.data;\n  let result;\n  switch (op) {\n    case 'getAll':\n      result = await db.nodes.toArray();\n      break;\n    case 'set':\n      await db.nodes.put(args);\n      break;\n    case 'setBulk':\n      await db.nodes.bulkPut(Object.values(args));\n      break;\n  }\n  self.postMessage({ id: e.data.id, result });\n};\n```\n\n--------------------------------------------------\n4. STATE-MACHINE LOGIC – UI side\n--------------------------------------------------\n```ts\n// machines/nodeMachine.ts\nimport { useBlueprintStore, NodeStatus } from '../store/useBlueprintStore';\nimport { BLUEPRINT } from '../blueprint/contract';\n\nconst workerCache = new Map<string, Worker>();\n\nexport function spawnNode(nodeId: string) {\n  const def = BLUEPRINT.nodes[nodeId];\n  if (!def) throw new Error(`Unknown node ${nodeId}`);\n\n  // 1. Update store → Loading\n  useBlueprintStore.getState().setNode(nodeId, { status: 'Loading', progress: 0 });\n\n  // 2. Spin up (or reuse) worker\n  let worker = workerCache.get(def.worker);\n  if (!worker) {\n    worker = new Worker(new URL(`../workers/${def.worker}`, import.meta.url), { type: 'module' });\n    workerCache.set(def.worker, worker);\n  }\n\n  worker.postMessage({ nodeId, inputs: def.inputs });\n\n  worker.onmessage = ({ data }) => {\n    const { type, payload } = data;\n    switch (type) {\n      case 'progress':\n        useBlueprintStore.getState().setNode(nodeId, { progress: payload });\n        break;\n      case 'success':\n        useBlueprintStore.getState().setNode(nodeId, { status: 'Success', progress: 1 });\n        break;\n      case 'error':\n        useBlueprintStore.getState().setNode(nodeId, { status: 'Error', error: payload });\n        break;\n    }\n  };\n}\n```\n\n--------------------------------------------------\n5. REACT HOOK – keep Dexie in sync without blocking\n--------------------------------------------------\n```ts\n// hooks/usePersistNodes.ts\nimport { useEffect } from 'react';\nimport { useBlueprintStore } from '../store/useBlueprintStore';\n\nconst worker = new Worker(new URL('../db/dexieWorker.ts', import.meta.url), { type: 'module' });\n\nlet msgId = 0;\nfunction dexiePost<T>(op: string, args?: any): Promise<T> {\n  return new Promise((resolve) => {\n    const id = ++msgId;\n    worker.postMessage({ id, op, args });\n    const handler = (e: MessageEvent) => {\n      if (e.data.id === id) {\n        worker.removeEventListener('message', handler);\n        resolve(e.data.result);\n      }\n    };\n    worker.addEventListener('message', handler);\n  });\n}\n\nexport function usePersistNodes() {\n  const nodes = useBlueprintStore((s) => s.nodes);\n  const setBulk = useBlueprintStore((s) => s.setBulk);\n\n  // write debounced (RAF) – keeps UI smooth\n  useEffect(() => {\n    const t = requestIdleCallback(() => dexiePost('setBulk', nodes));\n    return () => cancelIdleCallback(t);\n  }, [nodes]);\n\n  // hydrate once on mount\n  useEffect(() => {\n    dexiePost<Record<string, any>>('getAll').then((rows) => {\n      const updates = rows.reduce((acc, cur) => ({ ...acc, [cur.id]: cur }), {});\n      setBulk(updates);\n    });\n  }, []);\n}\n```\n\n--------------------------------------------------\n6. USAGE EXAMPLE – inside React\n--------------------------------------------------\n```tsx\nimport { useBlueprintStore } from './store/useBlueprintStore';\nimport { usePersistNodes } from './hooks/usePersistNodes';\nimport { spawnNode } from './machines/nodeMachine';\n\nexport default function Canvas() {\n  usePersistNodes(); // keeps Dexie in sync\n\n  const nodes = useBlueprintStore((s) => s.nodes);\n\n  return (\n    <svg>\n      {Object.entries(nodes).map(([id, runtime]) => (\n        <Node\n          key={id}\n          id={id}\n          status={runtime.status}\n          progress={runtime.progress}\n          onStart={() => spawnNode(id)}\n        />\n      ))}\n    </svg>\n  );\n}\n```\n\n--------------------------------------------------\n7. WORKER TEMPLATE (example)\n--------------------------------------------------\n```ts\n// workers/batchProcessor.ts\nself.onmessage = async (e) => {\n  const { nodeId } = e.data;\n  try {\n    for (let i = 0; i <= 10; i++) {\n      await new Promise((r) => setTimeout(r, 200)); // fake work\n      self.postMessage({ type: 'progress', payload: i / 10 });\n    }\n    self.postMessage({ type: 'success' });\n  } catch (err) {\n    self.postMessage({ type: 'error', payload: (err as Error).message });\n  }\n};\n```\n\n--------------------------------------------------\nEND OF TRANSMISSION",
    "eagle": "",
    "owl": "",
    "hawk": ""
  },
  "telemetry": {
    "spark": {
      "status": "success"
    },
    "falcon": {
      "status": "success"
    },
    "eagle": {
      "status": "idle"
    },
    "owl": {
      "status": "idle"
    },
    "hawk": {
      "status": "idle"
    }
  },
  "activePrompts": {
    "spark": "02_spark_design",
    "falcon": "03_falcon_architecture",
    "eagle": "04_eagle_implementation",
    "owl": "owl_v21",
    "hawk": "05_hawk_qa"
  },
  "owlQueue": [],
  "name": "AVIARY_INIT",
  "id": "OP_1768627375776"
}
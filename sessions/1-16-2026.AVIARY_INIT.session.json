{
  "inputs": {
    "spark": "",
    "falcon": "SPARK // VISUAL LANGUAGE SPEC  \n“Live Circuit – Nervous System”  \n(anti-vibe / industrial-sci-fi / hacker console)\n\n--------------------------------------------------\n1. GLOBAL TOKENS (Tailwind plug-and-play)\n--------------------------------------------------\n/** tailwind.config.js **/\nmodule.exports = {\n  theme: {\n    extend: {\n      colors: {\n        'void': '#050505',\n        'matrix': { DEFAULT: '#00FF41', glow: 'rgba(0,255,65,.6)' },\n        'alert': '#FF2A2A',\n        'process': '#FFD60A',\n      },\n      fontFamily: {\n        mono: ['JetBrains Mono', 'monospace'],\n      },\n      boxShadow: {\n        'matrix': '0 0 4px 1px rgba(0,255,65,.6)',\n        'alert': '0 0 6px 2px rgba(255,42,42,.8)',\n        'process': '0 0 6px 2px rgba(255,214,10,.7)',\n      },\n      animation: {\n        'pulse-wire': 'pulse-wire 1.2s cubic-bezier(.4,0,.6,1) infinite',\n        'flash-red': 'flash-red .6s steps(2,end) infinite',\n        'crt-scan': 'scanline 8s linear infinite',\n        'text-flicker': 'flicker 3s steps(2,end) infinite',\n      },\n      keyframes: {\n        'pulse-wire': {\n          '0%,100%': { boxShadow: '0 0 2px 0px rgba(0,255,65,.3)' },\n          '50%': { boxShadow: '0 0 12px 4px rgba(0,255,65,.8)' },\n        },\n        'flash-red': {\n          '0%,100%': { backgroundColor: 'transparent' },\n          '50%': { backgroundColor: '#FF2A2A' },\n        },\n        scanline: {\n          '0%': { transform: 'translateY(-100%)' },\n          '100%': { transform: 'translateY(100%)' },\n        },\n        flicker: {\n          '0%,19%,21%,62%,64%,100%': { opacity: 1 },\n          '20%,63%': { opacity: .4 },\n        },\n      },\n    },\n  },\n  plugins: [],\n}\n\n--------------------------------------------------\n2. COMPONENT CLASSES\n--------------------------------------------------\n/** Root container **/\n<div class=\"bg-void text-matrix font-mono text-xs leading-none antialiased relative overflow-hidden\">\n\n  /** CRT scanlines overlay **/\n  <div class=\"pointer-events-none absolute inset-0 z-0 before:absolute before:inset-0 before:bg-gradient-to-b before:from-transparent before:via-white/5 before:to-transparent before:animate-crt-scan\" />\n\n  /** High-density text **/\n  <pre class=\"text-matrix animate-text-flicker\">$ ./execute_neuron.sh</pre>\n\n  /** Cursor blink **/\n  <span class=\"inline-block w-2 h-3 bg-matrix animate-pulse\" />\n</div>\n\n--------------------------------------------------\n3. “THE NERVOUS SYSTEM” – SVG WIRE\n--------------------------------------------------\n<svg\n  viewBox=\"0 0 800 2\"\n  class=\"w-full h-px\"\n>\n  <defs>\n    <filter id=\"glow\" x=\"-50%\" y=\"-500%\" width=\"200%\" height=\"1000%\">\n      <feGaussianBlur stdDeviation=\"3\" result=\"blur\" />\n      <feMerge>\n        <feMergeNode in=\"blur\"/>\n        <feMergeNode in=\"SourceGraphic\"/>\n      </feMerge>\n    </filter>\n  </defs>\n\n  {/* Base wire */}\n  <path\n    id=\"wire\"\n    d=\"M0 1 H 800\"\n    stroke=\"#00FF41\"\n    strokeWidth=\"1\"\n    filter=\"url(#glow)\"\n    class=\"transition-all duration-300\"\n  />\n</svg>\n\n--------------------------------------------------\n4. FRAMER MOTION STATES (React)\n--------------------------------------------------\nconst wireStates = {\n  idle: { stroke: '#00FF41', strokeWidth: 1 },\n  success: { stroke: '#00FF41', strokeWidth: 2 },\n  failure: { stroke: '#FF2A2A', strokeWidth: 3 },\n  processing: { stroke: '#FFD60A', strokeWidth: 2 },\n};\n\nconst pulseVariants = {\n  processing: {\n    strokeDasharray: '10 5',\n    strokeDashoffset: [0, -15],\n    transition: {\n      strokeDashoffset: {\n        repeat: Infinity,\n        duration: .8,\n        ease: 'linear',\n      },\n    },\n  },\n};\n\nconst glowVariants = {\n  success: {\n    filter: 'drop-shadow(0 0 4px #00FF41)',\n    transition: { duration: .2 },\n  },\n  failure: {\n    filter: 'drop-shadow(0 0 8px #FF2A2A)',\n    transition: { duration: .1, repeat: Infinity, repeatType: 'reverse' },\n  },\n};\n\n/** Usage **/\n<motion.path\n  d=\"M0 1 H 800\"\n  variants={wireStates}\n  animate={status}  // 'idle' | 'success' | 'failure' | 'processing'\n/>\n\n--------------------------------------------------\n5. MICRO-INTERACTIONS\n--------------------------------------------------\n- On success: trigger a single green pulse along the wire (useMotionValue + useSpring to slide a radialGlow clipPath).\n- On failure: split the path at the break-point and flash-red only that segment (SVG linecap=\"round\" + animate opacity).\n- Processing: animate strokeDashoffset to create “data-flowing” light packet.\n\n--------------------------------------------------\n6. ACCESSIBILITY NOTES\n--------------------------------------------------\n- Respect prefers-reduced-motion: swap infinite animations for static state.\n- Use aria-live region to announce “Neuron fired” / “Synapse failure” for screen-readers.\n\n--------------------------------------------------\n7. COPY-PASTE SNIPPET (React + Tailwind + Framer)\n--------------------------------------------------\nexport const NeuronWire = ({ status }) => (\n  <motion.svg\n    viewBox=\"0 0 800 2\"\n    className=\"w-full h-px\"\n  >\n    <motion.path\n      d=\"M0 1 H 800\"\n      strokeWidth={1}\n      initial=\"idle\"\n      animate={status}\n      variants={wireStates}\n      className=\"transition-all\"\n    />\n    {status === 'processing' && (\n      <motion.path\n        d=\"M0 1 H 800\"\n        stroke=\"#FFD60A\"\n        strokeWidth={2}\n        strokeDasharray=\"10 5\"\n        variants={pulseVariants}\n        animate=\"processing\"\n      />\n    )}\n  </motion.svg>\n);\n\n--------------------------------------------------\n8. FINAL SPARK TOUCH\n--------------------------------------------------\nLayer a subtle monochrome noise PNG (.05 opacity) over the whole viewport—gives the console that “dust-on-crt” patina.  \nNoise texture: 256×256, base64 inlined to avoid extra fetch.\n\nNow the schematic breathes—green when alive, red when severed, yellow while thinking.",
    "eagle": "FALCON  /  SOLUTION ARCHITECT  &  DATA ENGINEER  \nMISSION: “Interactive Blueprint” – Data-Flow Map  \n\n--------------------------------------------------\n1.  GLOBAL STORE  (Zustand)\n--------------------------------------------------\n```ts\n// store.ts\nimport create from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\nexport type NodeStatus = 'Idle' | 'Loading' | 'Success' | 'Error';\n\nexport interface NodeState {\n  id: string;                 // unique across blueprint\n  status: NodeStatus;\n  progress?: number;          // 0-100 when Loading\n  error?: string;             // populated when Error\n  lastUpdate: number;         // Date.now() – for optimistic UI\n}\n\nexport interface BlueprintStore {\n  nodes: Record<string, NodeState>;\n  setNode(id: string, patch: Partial<NodeState>): void;\n  setBulk(updates: Record<string, Partial<NodeState>>): void;\n  reset(): void;\n}\n\nexport const useBlueprintStore = create<BlueprintStore>()(\n  subscribeWithSelector((set) => ({\n    nodes: {},\n    setNode: (id, patch) =>\n      set((s) => ({\n        nodes: {\n          ...s.nodes,\n          [id]: { ...s.nodes[id], ...patch, lastUpdate: Date.now() },\n        },\n      })),\n    setBulk: (updates) =>\n      set((s) => {\n        const next = { ...s.nodes };\n        Object.entries(updates).forEach(([id, patch]) => {\n          next[id] = { ...next[id], ...patch, lastUpdate: Date.now() };\n        });\n        return { nodes: next };\n      }),\n    reset: () => set({ nodes: {} }),\n  }))\n);\n```\n\n--------------------------------------------------\n2.  BLUEPRINT LAYER  (Documentation & Runtime)\n--------------------------------------------------\n```ts\n// blueprint.ts\nexport interface NodeDoc {\n  id: string;\n  name: string;\n  inputs: string[];   // human-readable types\n  outputs: string[];\n  states: string[]; // ordered list of internal steps\n}\n\nexport interface BlueprintGraph {\n  nodes: NodeDoc[];\n  edges: Array<{ from: string; to: string; label?: string }>;\n}\n\n/* Example constant used by UI to render legend & tooltips */\nexport const BATCH_PROCESSOR: NodeDoc = {\n  id: 'BATCH_PROCESSOR',\n  name: 'Batch Processor',\n  inputs: ['Files'],\n  outputs: ['IndexedDB'],\n  states: ['Parsing', 'Striking'],\n};\n```\n\n--------------------------------------------------\n3.  DEXIE (IndexedDB) – NON-BLOCKING ACCESS\n--------------------------------------------------\n```ts\n// db.ts\nimport Dexie, { Table } from 'dexie';\nimport { NodeState } from './store';\n\nexport class BlueprintDexie extends Dexie {\n  public nodes!: Table<NodeState>;\n\n  constructor() {\n    super('BlueprintDB');\n    this.version(1).stores({\n      nodes: 'id, lastUpdate', // indexed for range queries\n    });\n  }\n}\n\nexport const db = new BlueprintDexie();\n\n/* Persist a single node without blocking UI */\nexport async function persistNode(state: NodeState) {\n  // wrapped in requestIdleCallback to yield to render\n  await new Promise<void>((res) =>\n    requestIdleCallback(async () => {\n      await db.nodes.put(state);\n      res();\n    })\n  );\n}\n\n/* Hydrate store on app bootstrap – runs in a web-worker if desired */\nexport async function hydrateStore() {\n  const raw = await db.nodes.toArray();\n  const record = raw.reduce((acc, cur) => ({ ...acc, [cur.id]: cur }), {});\n  useBlueprintStore.getState().setBulk(record);\n}\n```\n\n--------------------------------------------------\n4.  STATE-MACHINE  (Finite-State driving UI)\n--------------------------------------------------\n```ts\n// machine.ts\nimport { NodeStatus } from './store';\n\ntype Event =\n  | { type: 'START'; nodeId: string }\n  | { type: 'STEP'; nodeId: string; progress?: number }\n  | { type: 'SUCCESS'; nodeId: string }\n  | { type: 'FAIL'; nodeId: string; error: string }\n  | { type: 'RESET'; nodeId?: string }; // nodeId absent => global reset\n\nconst transitions: Record<NodeStatus, Partial<Record<Event['type'], NodeStatus>>> = {\n  Idle: { START: 'Loading' },\n  Loading: { STEP: 'Loading', SUCCESS: 'Success', FAIL: 'Error' },\n  Success: { START: 'Loading', RESET: 'Idle' },\n  Error: { START: 'Loading', RESET: 'Idle' },\n};\n\nexport function nextStatus(current: NodeStatus, event: Event['type]): NodeStatus {\n  return transitions[current]?.[event] ?? current;\n}\n```\n\n--------------------------------------------------\n5.  GLUE  (Listen to machine & persist)\n--------------------------------------------------\n```ts\n// listener.ts\nimport { useEffect } from 'react';\nimport { useBlueprintStore, NodeState } from './store';\nimport { persistNode } from './db';\n\nexport function usePersistNode(nodeId: string) {\n  const node = useBlueprintStore((s) => s.nodes[nodeId]);\n  useEffect(() => {\n    if (node) persistNode(node);\n  }, [node]);\n}\n```\n\n--------------------------------------------------\nUSAGE  (React component)\n--------------------------------------------------\n```tsx\nconst node = useBlueprintStore((s) => s.nodes[id]);\nconst setNode = useBlueprintStore((s) => s.setNode);\nusePersistNode(id);\n\nconst run = () => {\n  setNode(id, { status: nextStatus(node.status, 'START') });\n  worker.postMessage({ nodeId: id });\n};\n```\n\nThe above interfaces & state machine give a deterministic, observable, and non-blocking data-flow for the Interactive Blueprint.",
    "owl": "```typescript\n// ============================================================================\n// 1. TestBench.tsx – The Mechanic’s Bay\n// ============================================================================\ncat << 'EOF'\nimport React, { useState } from 'react';\nimport { apiPing } from '../../lib/api';\nimport { dbPing } from '../../lib/db';\nimport { runBatch } from '../../lib/batch';\n\nexport const TestBench: React.FC = () => {\n  const [log, setLog] = useState<string[]>([]);\n\n  const append = (msg: string) => setLog((prev) => [...prev, `[${new Date().toISOString()}] ${msg}`]);\n\n  const handleApi = async () => {\n    try {\n      const res = await apiPing();\n      append(`API OK → ${JSON.stringify(res)}`);\n    } catch (e: any) {\n      append(`API ERR → ${e.message}`);\n    }\n  };\n\n  const handleDb = async () => {\n    try {\n      await dbPing();\n      append('DB OK');\n    } catch (e: any) {\n      append(`DB ERR → ${e.message}`);\n    }\n  };\n\n  const handleBatch = async () => {\n    try {\n      const summary = await runBatch();\n      append(`BATCH OK → ${summary}`);\n    } catch (e: any) {\n      append(`BATCH ERR → ${e.message}`);\n    }\n  };\n\n  return (\n    <div className=\"p-4 bg-gray-900 text-gray-100 rounded-lg shadow-lg\">\n      <h2 className=\"text-xl font-bold mb-3\">TestBench – Mechanic’s Bay</h2>\n\n      <div className=\"flex gap-3 mb-4\">\n        <button onClick={handleApi} className=\"px-4 py-2 bg-blue-600 rounded hover:bg-blue-500\">\n          Ping API\n        </button>\n        <button onClick={handleDb} className=\"px-4 py-2 bg-green-600 rounded hover:bg-green-500\">\n          Ping DB\n        </button>\n        <button onClick={handleBatch} className=\"px-4 py-2 bg-purple-600 rounded hover:bg-purple-500\">\n          Run Batch\n        </button>\n      </div>\n\n      <pre className=\"h-48 overflow-auto p-2 bg-gray-800 rounded text-sm\">{log.join('\\n')}</pre>\n    </div>\n  );\n};\nEOF\n\n// ============================================================================\n// 2. CircuitBoard.tsx – SVG Nodes & Lines\n// ============================================================================\ncat << 'EOF'\nimport React, { useEffect, useRef } from 'react';\nimport { TestBench } from '../debug/TestBench';\n\ntype NodeType = 'api' | 'db' | 'batch';\n\ninterface Node {\n  id: NodeType;\n  x: number;\n  y: number;\n  label: string;\n}\n\nconst NODES: Node[] = [\n  { id: 'api', x: 100, y: 100, label: 'API' },\n  { id: 'db', x: 300, y: 100, label: 'DB' },\n  { id: 'batch', x: 200, y: 250, label: 'Batch' },\n];\n\nexport const CircuitBoard: React.FC = () => {\n  const svgRef = useRef<SVGSVGElement>(null);\n\n  useEffect(() => {\n    // Draw lines between nodes\n    const svg = svgRef.current;\n    if (!svg) return;\n    svg.innerHTML = ''; // reset\n\n    const api = NODES.find((n) => n.id === 'api')!;\n    const db = NODES.find((n) => n.id === 'db')!;\n    const batch = NODES.find((n) => n.id === 'batch')!;\n\n    const line = (a: Node, b: Node, stroke = '#38bdf8') => {\n      const el = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n      el.setAttribute('x1', String(a.x));\n      el.setAttribute('y1', String(a.y));\n      el.setAttribute('x2', String(b.x));\n      el.setAttribute('y2', String(b.y));\n      el.setAttribute('stroke', stroke);\n      el.setAttribute('stroke-width', '2');\n      svg.appendChild(el);\n    };\n\n    line(api, db);\n    line(api, batch);\n    line(db, batch);\n  }, []);\n\n  const handleNodeClick = (id: NodeType) => {\n    // Dispatch custom event for BlueprintOverlay to listen\n    window.dispatchEvent(new CustomEvent('nodeClick', { detail: { id } }));\n  };\n\n  return (\n    <div className=\"relative\">\n      <svg ref={svgRef} width=\"400\" height=\"400\" className=\"border border-gray-700 rounded bg-gray-950\">\n        {NODES.map((n) => (\n          <g key={n.id} onClick={() => handleNodeClick(n.id)} className=\"cursor-pointer\">\n            <circle cx={n.x} cy={n.y} r=\"24\" fill=\"#0ea5e9\" />\n            <text x={n.x} y={n.y + 5} textAnchor=\"middle\" fill=\"#fff\" className=\"text-xs select-none\">\n              {n.label}\n            </text>\n          </g>\n        ))}\n      </svg>\n\n      <div className=\"mt-4\">\n        <TestBench />\n      </div>\n    </div>\n  );\n};\nEOF\n\n// ============================================================================\n// 3. BlueprintOverlay.tsx – Clickable Specs\n// ============================================================================\ncat << 'EOF'\nimport React, { useEffect, useState } from 'react';\n\ntype NodeType = 'api' | 'db' | 'batch';\n\nconst SPECS: Record<NodeType, { title: string; desc: string }> = {\n  api: {\n    title: 'API Node',\n    desc: 'Handles RESTful endpoints. Validates JWT, rate-limits, and proxies to micro-services.',\n  },\n  db: {\n    title: 'DB Node',\n    desc: 'Postgres cluster with read-replicas. Uses pg-boss for job queue and row-level security.',\n  },\n  batch: {\n    title: 'Batch Node',\n    desc: 'Node-cron scheduler. Chains ETL jobs, rolls back on failure, and emails summary reports.',\n  },\n};\n\nexport const BlueprintOverlay: React.FC = () => {\n  const [open, setOpen] = useState(false);\n  const [node, setNode] = useState<NodeType | null>(null);\n\n  useEffect(() => {\n    const onClick = (e: any) => {\n      setNode(e.detail.id);\n      setOpen(true);\n    };\n    window.addEventListener('nodeClick', onClick);\n    return () => window.removeEventListener('nodeClick', onClick);\n  }, []);\n\n  const spec = node ? SPECS[node] : null;\n\n  return open && spec ? (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-gray-900 text-gray-100 rounded-lg p-6 max-w-md w-full shadow-xl\">\n        <h3 className=\"text-lg font-bold mb-2\">{spec.title}</h3>\n        <p className=\"text-sm mb-4\">{spec.desc}</p>\n        <button\n          onClick={() => setOpen(false)}\n          className=\"px-4 py-2 bg-blue-600 rounded hover:bg-blue-500\"\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  ) : null;\n};\nEOF\n```",
    "hawk": "cat << 'PEACOCK_EOF' > src/utils/logger.ts\nimport { createLogger, format, transports, Logger } from 'winston';\nimport { GlobalConfig } from '../config/global';\n\nconst { combine, timestamp, printf, colorize, errors } = format;\n\nconst customFormat = printf(({ level, message, timestamp, stack }) => {\n  return `${timestamp} [${level}]: ${stack || message}`;\n});\n\nlet logger: Logger;\n\nexport const initLogger = (): Logger => {\n  if (logger) return logger;\n\n  logger = createLogger({\n    level: GlobalConfig.LOG_LEVEL,\n    format: combine(\n      colorize(),\n      timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),\n      errors({ stack: true }),\n      customFormat\n    ),\n    transports: [new transports.Console()],\n    exitOnError: false,\n  });\n\n  return logger;\n};\n\nexport const getLogger = (): Logger => {\n  if (!logger) initLogger();\n  return logger;\n};\nPEACOCK_EOF"
  },
  "outputs": {
    "spark": "SPARK // VISUAL LANGUAGE SPEC  \n“Live Circuit – Nervous System”  \n(anti-vibe / industrial-sci-fi / hacker console)\n\n--------------------------------------------------\n1. GLOBAL TOKENS (Tailwind plug-and-play)\n--------------------------------------------------\n/** tailwind.config.js **/\nmodule.exports = {\n  theme: {\n    extend: {\n      colors: {\n        'void': '#050505',\n        'matrix': { DEFAULT: '#00FF41', glow: 'rgba(0,255,65,.6)' },\n        'alert': '#FF2A2A',\n        'process': '#FFD60A',\n      },\n      fontFamily: {\n        mono: ['JetBrains Mono', 'monospace'],\n      },\n      boxShadow: {\n        'matrix': '0 0 4px 1px rgba(0,255,65,.6)',\n        'alert': '0 0 6px 2px rgba(255,42,42,.8)',\n        'process': '0 0 6px 2px rgba(255,214,10,.7)',\n      },\n      animation: {\n        'pulse-wire': 'pulse-wire 1.2s cubic-bezier(.4,0,.6,1) infinite',\n        'flash-red': 'flash-red .6s steps(2,end) infinite',\n        'crt-scan': 'scanline 8s linear infinite',\n        'text-flicker': 'flicker 3s steps(2,end) infinite',\n      },\n      keyframes: {\n        'pulse-wire': {\n          '0%,100%': { boxShadow: '0 0 2px 0px rgba(0,255,65,.3)' },\n          '50%': { boxShadow: '0 0 12px 4px rgba(0,255,65,.8)' },\n        },\n        'flash-red': {\n          '0%,100%': { backgroundColor: 'transparent' },\n          '50%': { backgroundColor: '#FF2A2A' },\n        },\n        scanline: {\n          '0%': { transform: 'translateY(-100%)' },\n          '100%': { transform: 'translateY(100%)' },\n        },\n        flicker: {\n          '0%,19%,21%,62%,64%,100%': { opacity: 1 },\n          '20%,63%': { opacity: .4 },\n        },\n      },\n    },\n  },\n  plugins: [],\n}\n\n--------------------------------------------------\n2. COMPONENT CLASSES\n--------------------------------------------------\n/** Root container **/\n<div class=\"bg-void text-matrix font-mono text-xs leading-none antialiased relative overflow-hidden\">\n\n  /** CRT scanlines overlay **/\n  <div class=\"pointer-events-none absolute inset-0 z-0 before:absolute before:inset-0 before:bg-gradient-to-b before:from-transparent before:via-white/5 before:to-transparent before:animate-crt-scan\" />\n\n  /** High-density text **/\n  <pre class=\"text-matrix animate-text-flicker\">$ ./execute_neuron.sh</pre>\n\n  /** Cursor blink **/\n  <span class=\"inline-block w-2 h-3 bg-matrix animate-pulse\" />\n</div>\n\n--------------------------------------------------\n3. “THE NERVOUS SYSTEM” – SVG WIRE\n--------------------------------------------------\n<svg\n  viewBox=\"0 0 800 2\"\n  class=\"w-full h-px\"\n>\n  <defs>\n    <filter id=\"glow\" x=\"-50%\" y=\"-500%\" width=\"200%\" height=\"1000%\">\n      <feGaussianBlur stdDeviation=\"3\" result=\"blur\" />\n      <feMerge>\n        <feMergeNode in=\"blur\"/>\n        <feMergeNode in=\"SourceGraphic\"/>\n      </feMerge>\n    </filter>\n  </defs>\n\n  {/* Base wire */}\n  <path\n    id=\"wire\"\n    d=\"M0 1 H 800\"\n    stroke=\"#00FF41\"\n    strokeWidth=\"1\"\n    filter=\"url(#glow)\"\n    class=\"transition-all duration-300\"\n  />\n</svg>\n\n--------------------------------------------------\n4. FRAMER MOTION STATES (React)\n--------------------------------------------------\nconst wireStates = {\n  idle: { stroke: '#00FF41', strokeWidth: 1 },\n  success: { stroke: '#00FF41', strokeWidth: 2 },\n  failure: { stroke: '#FF2A2A', strokeWidth: 3 },\n  processing: { stroke: '#FFD60A', strokeWidth: 2 },\n};\n\nconst pulseVariants = {\n  processing: {\n    strokeDasharray: '10 5',\n    strokeDashoffset: [0, -15],\n    transition: {\n      strokeDashoffset: {\n        repeat: Infinity,\n        duration: .8,\n        ease: 'linear',\n      },\n    },\n  },\n};\n\nconst glowVariants = {\n  success: {\n    filter: 'drop-shadow(0 0 4px #00FF41)',\n    transition: { duration: .2 },\n  },\n  failure: {\n    filter: 'drop-shadow(0 0 8px #FF2A2A)',\n    transition: { duration: .1, repeat: Infinity, repeatType: 'reverse' },\n  },\n};\n\n/** Usage **/\n<motion.path\n  d=\"M0 1 H 800\"\n  variants={wireStates}\n  animate={status}  // 'idle' | 'success' | 'failure' | 'processing'\n/>\n\n--------------------------------------------------\n5. MICRO-INTERACTIONS\n--------------------------------------------------\n- On success: trigger a single green pulse along the wire (useMotionValue + useSpring to slide a radialGlow clipPath).\n- On failure: split the path at the break-point and flash-red only that segment (SVG linecap=\"round\" + animate opacity).\n- Processing: animate strokeDashoffset to create “data-flowing” light packet.\n\n--------------------------------------------------\n6. ACCESSIBILITY NOTES\n--------------------------------------------------\n- Respect prefers-reduced-motion: swap infinite animations for static state.\n- Use aria-live region to announce “Neuron fired” / “Synapse failure” for screen-readers.\n\n--------------------------------------------------\n7. COPY-PASTE SNIPPET (React + Tailwind + Framer)\n--------------------------------------------------\nexport const NeuronWire = ({ status }) => (\n  <motion.svg\n    viewBox=\"0 0 800 2\"\n    className=\"w-full h-px\"\n  >\n    <motion.path\n      d=\"M0 1 H 800\"\n      strokeWidth={1}\n      initial=\"idle\"\n      animate={status}\n      variants={wireStates}\n      className=\"transition-all\"\n    />\n    {status === 'processing' && (\n      <motion.path\n        d=\"M0 1 H 800\"\n        stroke=\"#FFD60A\"\n        strokeWidth={2}\n        strokeDasharray=\"10 5\"\n        variants={pulseVariants}\n        animate=\"processing\"\n      />\n    )}\n  </motion.svg>\n);\n\n--------------------------------------------------\n8. FINAL SPARK TOUCH\n--------------------------------------------------\nLayer a subtle monochrome noise PNG (.05 opacity) over the whole viewport—gives the console that “dust-on-crt” patina.  \nNoise texture: 256×256, base64 inlined to avoid extra fetch.\n\nNow the schematic breathes—green when alive, red when severed, yellow while thinking.",
    "falcon": "FALCON  /  SOLUTION ARCHITECT  &  DATA ENGINEER  \nMISSION: “Interactive Blueprint” – Data-Flow Map  \n\n--------------------------------------------------\n1.  GLOBAL STORE  (Zustand)\n--------------------------------------------------\n```ts\n// store.ts\nimport create from 'zustand';\nimport { subscribeWithSelector } from 'zustand/middleware';\n\nexport type NodeStatus = 'Idle' | 'Loading' | 'Success' | 'Error';\n\nexport interface NodeState {\n  id: string;                 // unique across blueprint\n  status: NodeStatus;\n  progress?: number;          // 0-100 when Loading\n  error?: string;             // populated when Error\n  lastUpdate: number;         // Date.now() – for optimistic UI\n}\n\nexport interface BlueprintStore {\n  nodes: Record<string, NodeState>;\n  setNode(id: string, patch: Partial<NodeState>): void;\n  setBulk(updates: Record<string, Partial<NodeState>>): void;\n  reset(): void;\n}\n\nexport const useBlueprintStore = create<BlueprintStore>()(\n  subscribeWithSelector((set) => ({\n    nodes: {},\n    setNode: (id, patch) =>\n      set((s) => ({\n        nodes: {\n          ...s.nodes,\n          [id]: { ...s.nodes[id], ...patch, lastUpdate: Date.now() },\n        },\n      })),\n    setBulk: (updates) =>\n      set((s) => {\n        const next = { ...s.nodes };\n        Object.entries(updates).forEach(([id, patch]) => {\n          next[id] = { ...next[id], ...patch, lastUpdate: Date.now() };\n        });\n        return { nodes: next };\n      }),\n    reset: () => set({ nodes: {} }),\n  }))\n);\n```\n\n--------------------------------------------------\n2.  BLUEPRINT LAYER  (Documentation & Runtime)\n--------------------------------------------------\n```ts\n// blueprint.ts\nexport interface NodeDoc {\n  id: string;\n  name: string;\n  inputs: string[];   // human-readable types\n  outputs: string[];\n  states: string[]; // ordered list of internal steps\n}\n\nexport interface BlueprintGraph {\n  nodes: NodeDoc[];\n  edges: Array<{ from: string; to: string; label?: string }>;\n}\n\n/* Example constant used by UI to render legend & tooltips */\nexport const BATCH_PROCESSOR: NodeDoc = {\n  id: 'BATCH_PROCESSOR',\n  name: 'Batch Processor',\n  inputs: ['Files'],\n  outputs: ['IndexedDB'],\n  states: ['Parsing', 'Striking'],\n};\n```\n\n--------------------------------------------------\n3.  DEXIE (IndexedDB) – NON-BLOCKING ACCESS\n--------------------------------------------------\n```ts\n// db.ts\nimport Dexie, { Table } from 'dexie';\nimport { NodeState } from './store';\n\nexport class BlueprintDexie extends Dexie {\n  public nodes!: Table<NodeState>;\n\n  constructor() {\n    super('BlueprintDB');\n    this.version(1).stores({\n      nodes: 'id, lastUpdate', // indexed for range queries\n    });\n  }\n}\n\nexport const db = new BlueprintDexie();\n\n/* Persist a single node without blocking UI */\nexport async function persistNode(state: NodeState) {\n  // wrapped in requestIdleCallback to yield to render\n  await new Promise<void>((res) =>\n    requestIdleCallback(async () => {\n      await db.nodes.put(state);\n      res();\n    })\n  );\n}\n\n/* Hydrate store on app bootstrap – runs in a web-worker if desired */\nexport async function hydrateStore() {\n  const raw = await db.nodes.toArray();\n  const record = raw.reduce((acc, cur) => ({ ...acc, [cur.id]: cur }), {});\n  useBlueprintStore.getState().setBulk(record);\n}\n```\n\n--------------------------------------------------\n4.  STATE-MACHINE  (Finite-State driving UI)\n--------------------------------------------------\n```ts\n// machine.ts\nimport { NodeStatus } from './store';\n\ntype Event =\n  | { type: 'START'; nodeId: string }\n  | { type: 'STEP'; nodeId: string; progress?: number }\n  | { type: 'SUCCESS'; nodeId: string }\n  | { type: 'FAIL'; nodeId: string; error: string }\n  | { type: 'RESET'; nodeId?: string }; // nodeId absent => global reset\n\nconst transitions: Record<NodeStatus, Partial<Record<Event['type'], NodeStatus>>> = {\n  Idle: { START: 'Loading' },\n  Loading: { STEP: 'Loading', SUCCESS: 'Success', FAIL: 'Error' },\n  Success: { START: 'Loading', RESET: 'Idle' },\n  Error: { START: 'Loading', RESET: 'Idle' },\n};\n\nexport function nextStatus(current: NodeStatus, event: Event['type]): NodeStatus {\n  return transitions[current]?.[event] ?? current;\n}\n```\n\n--------------------------------------------------\n5.  GLUE  (Listen to machine & persist)\n--------------------------------------------------\n```ts\n// listener.ts\nimport { useEffect } from 'react';\nimport { useBlueprintStore, NodeState } from './store';\nimport { persistNode } from './db';\n\nexport function usePersistNode(nodeId: string) {\n  const node = useBlueprintStore((s) => s.nodes[nodeId]);\n  useEffect(() => {\n    if (node) persistNode(node);\n  }, [node]);\n}\n```\n\n--------------------------------------------------\nUSAGE  (React component)\n--------------------------------------------------\n```tsx\nconst node = useBlueprintStore((s) => s.nodes[id]);\nconst setNode = useBlueprintStore((s) => s.setNode);\nusePersistNode(id);\n\nconst run = () => {\n  setNode(id, { status: nextStatus(node.status, 'START') });\n  worker.postMessage({ nodeId: id });\n};\n```\n\nThe above interfaces & state machine give a deterministic, observable, and non-blocking data-flow for the Interactive Blueprint.",
    "eagle": "```typescript\n// ============================================================================\n// 1. TestBench.tsx – The Mechanic’s Bay\n// ============================================================================\ncat << 'EOF'\nimport React, { useState } from 'react';\nimport { apiPing } from '../../lib/api';\nimport { dbPing } from '../../lib/db';\nimport { runBatch } from '../../lib/batch';\n\nexport const TestBench: React.FC = () => {\n  const [log, setLog] = useState<string[]>([]);\n\n  const append = (msg: string) => setLog((prev) => [...prev, `[${new Date().toISOString()}] ${msg}`]);\n\n  const handleApi = async () => {\n    try {\n      const res = await apiPing();\n      append(`API OK → ${JSON.stringify(res)}`);\n    } catch (e: any) {\n      append(`API ERR → ${e.message}`);\n    }\n  };\n\n  const handleDb = async () => {\n    try {\n      await dbPing();\n      append('DB OK');\n    } catch (e: any) {\n      append(`DB ERR → ${e.message}`);\n    }\n  };\n\n  const handleBatch = async () => {\n    try {\n      const summary = await runBatch();\n      append(`BATCH OK → ${summary}`);\n    } catch (e: any) {\n      append(`BATCH ERR → ${e.message}`);\n    }\n  };\n\n  return (\n    <div className=\"p-4 bg-gray-900 text-gray-100 rounded-lg shadow-lg\">\n      <h2 className=\"text-xl font-bold mb-3\">TestBench – Mechanic’s Bay</h2>\n\n      <div className=\"flex gap-3 mb-4\">\n        <button onClick={handleApi} className=\"px-4 py-2 bg-blue-600 rounded hover:bg-blue-500\">\n          Ping API\n        </button>\n        <button onClick={handleDb} className=\"px-4 py-2 bg-green-600 rounded hover:bg-green-500\">\n          Ping DB\n        </button>\n        <button onClick={handleBatch} className=\"px-4 py-2 bg-purple-600 rounded hover:bg-purple-500\">\n          Run Batch\n        </button>\n      </div>\n\n      <pre className=\"h-48 overflow-auto p-2 bg-gray-800 rounded text-sm\">{log.join('\\n')}</pre>\n    </div>\n  );\n};\nEOF\n\n// ============================================================================\n// 2. CircuitBoard.tsx – SVG Nodes & Lines\n// ============================================================================\ncat << 'EOF'\nimport React, { useEffect, useRef } from 'react';\nimport { TestBench } from '../debug/TestBench';\n\ntype NodeType = 'api' | 'db' | 'batch';\n\ninterface Node {\n  id: NodeType;\n  x: number;\n  y: number;\n  label: string;\n}\n\nconst NODES: Node[] = [\n  { id: 'api', x: 100, y: 100, label: 'API' },\n  { id: 'db', x: 300, y: 100, label: 'DB' },\n  { id: 'batch', x: 200, y: 250, label: 'Batch' },\n];\n\nexport const CircuitBoard: React.FC = () => {\n  const svgRef = useRef<SVGSVGElement>(null);\n\n  useEffect(() => {\n    // Draw lines between nodes\n    const svg = svgRef.current;\n    if (!svg) return;\n    svg.innerHTML = ''; // reset\n\n    const api = NODES.find((n) => n.id === 'api')!;\n    const db = NODES.find((n) => n.id === 'db')!;\n    const batch = NODES.find((n) => n.id === 'batch')!;\n\n    const line = (a: Node, b: Node, stroke = '#38bdf8') => {\n      const el = document.createElementNS('http://www.w3.org/2000/svg', 'line');\n      el.setAttribute('x1', String(a.x));\n      el.setAttribute('y1', String(a.y));\n      el.setAttribute('x2', String(b.x));\n      el.setAttribute('y2', String(b.y));\n      el.setAttribute('stroke', stroke);\n      el.setAttribute('stroke-width', '2');\n      svg.appendChild(el);\n    };\n\n    line(api, db);\n    line(api, batch);\n    line(db, batch);\n  }, []);\n\n  const handleNodeClick = (id: NodeType) => {\n    // Dispatch custom event for BlueprintOverlay to listen\n    window.dispatchEvent(new CustomEvent('nodeClick', { detail: { id } }));\n  };\n\n  return (\n    <div className=\"relative\">\n      <svg ref={svgRef} width=\"400\" height=\"400\" className=\"border border-gray-700 rounded bg-gray-950\">\n        {NODES.map((n) => (\n          <g key={n.id} onClick={() => handleNodeClick(n.id)} className=\"cursor-pointer\">\n            <circle cx={n.x} cy={n.y} r=\"24\" fill=\"#0ea5e9\" />\n            <text x={n.x} y={n.y + 5} textAnchor=\"middle\" fill=\"#fff\" className=\"text-xs select-none\">\n              {n.label}\n            </text>\n          </g>\n        ))}\n      </svg>\n\n      <div className=\"mt-4\">\n        <TestBench />\n      </div>\n    </div>\n  );\n};\nEOF\n\n// ============================================================================\n// 3. BlueprintOverlay.tsx – Clickable Specs\n// ============================================================================\ncat << 'EOF'\nimport React, { useEffect, useState } from 'react';\n\ntype NodeType = 'api' | 'db' | 'batch';\n\nconst SPECS: Record<NodeType, { title: string; desc: string }> = {\n  api: {\n    title: 'API Node',\n    desc: 'Handles RESTful endpoints. Validates JWT, rate-limits, and proxies to micro-services.',\n  },\n  db: {\n    title: 'DB Node',\n    desc: 'Postgres cluster with read-replicas. Uses pg-boss for job queue and row-level security.',\n  },\n  batch: {\n    title: 'Batch Node',\n    desc: 'Node-cron scheduler. Chains ETL jobs, rolls back on failure, and emails summary reports.',\n  },\n};\n\nexport const BlueprintOverlay: React.FC = () => {\n  const [open, setOpen] = useState(false);\n  const [node, setNode] = useState<NodeType | null>(null);\n\n  useEffect(() => {\n    const onClick = (e: any) => {\n      setNode(e.detail.id);\n      setOpen(true);\n    };\n    window.addEventListener('nodeClick', onClick);\n    return () => window.removeEventListener('nodeClick', onClick);\n  }, []);\n\n  const spec = node ? SPECS[node] : null;\n\n  return open && spec ? (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-gray-900 text-gray-100 rounded-lg p-6 max-w-md w-full shadow-xl\">\n        <h3 className=\"text-lg font-bold mb-2\">{spec.title}</h3>\n        <p className=\"text-sm mb-4\">{spec.desc}</p>\n        <button\n          onClick={() => setOpen(false)}\n          className=\"px-4 py-2 bg-blue-600 rounded hover:bg-blue-500\"\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  ) : null;\n};\nEOF\n```",
    "owl": "cat << 'PEACOCK_EOF' > src/utils/logger.ts\nimport { createLogger, format, transports, Logger } from 'winston';\nimport { GlobalConfig } from '../config/global';\n\nconst { combine, timestamp, printf, colorize, errors } = format;\n\nconst customFormat = printf(({ level, message, timestamp, stack }) => {\n  return `${timestamp} [${level}]: ${stack || message}`;\n});\n\nlet logger: Logger;\n\nexport const initLogger = (): Logger => {\n  if (logger) return logger;\n\n  logger = createLogger({\n    level: GlobalConfig.LOG_LEVEL,\n    format: combine(\n      colorize(),\n      timestamp({ format: 'YYYY-MM-DD HH:mm:ss' }),\n      errors({ stack: true }),\n      customFormat\n    ),\n    transports: [new transports.Console()],\n    exitOnError: false,\n  });\n\n  return logger;\n};\n\nexport const getLogger = (): Logger => {\n  if (!logger) initLogger();\n  return logger;\n};\nPEACOCK_EOF",
    "hawk": ""
  },
  "telemetry": {
    "spark": {
      "status": "success"
    },
    "falcon": {
      "status": "success"
    },
    "eagle": {
      "status": "success"
    },
    "owl": {
      "status": "success"
    },
    "hawk": {
      "status": "idle"
    }
  },
  "activePrompts": {
    "spark": "02_spark_design",
    "falcon": "03_falcon_architecture",
    "eagle": "04_eagle_implementation",
    "owl": "owl_v21",
    "hawk": "05_hawk_qa"
  },
  "owlQueue": [],
  "name": "AVIARY_INIT",
  "id": "OP_1768624582049"
}
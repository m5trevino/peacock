<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü¶ö Peacock XEdit Interface (Optimized)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'SF Mono', monospace; background: #0d1117; color: #e6edf3; height: 100vh; overflow: hidden; }
        .header { background: #161b22; border-bottom: 1px solid #30363d; padding: 12px 20px; display: flex; justify-content: space-between; align-items: center; }
        .peacock-logo { font-size: 18px; font-weight: bold; color: #ff6b35; }
        .nav-links { display: flex; gap: 16px; align-items: center; }
        .nav-link { background: #21262d; border: 1px solid #30363d; color: #e6edf3; padding: 8px 16px; border-radius: 6px; font-size: 12px; font-weight: 600; cursor: pointer; }
        .nav-link.active { background: #ff6b35; color: #0d1117; }
        .project-info { color: #8b949e; font-size: 14px; }
        .session-info { background: rgba(0, 255, 136, 0.1); border: 1px solid #00ff88; border-radius: 6px; padding: 4px 8px; font-size: 12px; color: #00ff88; }
        .optimization-badge { background: rgba(255, 107, 53, 0.1); border: 1px solid #ff6b35; border-radius: 6px; padding: 4px 8px; font-size: 12px; color: #ff6b35; margin-left: 8px; }
        .main-container { display: flex; height: calc(100vh - 60px); }
        .left-panel { width: 320px; background: #161b22; border-right: 1px solid #30363d; display: flex; flex-direction: column; }
        .panel-header { background: #21262d; padding: 12px 16px; border-bottom: 1px solid #30363d; font-weight: 600; font-size: 13px; color: #7c3aed; display: flex; justify-content: space-between; align-items: center; }
        .optimization-info { font-size: 11px; color: #ff6b35; }
        .functions-list { flex: 1; overflow-y: auto; padding: 8px; }
        .function-item { background: #21262d; border: 1px solid #30363d; border-radius: 6px; padding: 12px; margin-bottom: 8px; cursor: pointer; transition: all 0.2s; position: relative; }
        .function-item:hover { border-color: #ff6b35; background: #2d333b; transform: translateX(3px); }
        .function-item.selected { border-color: #ff6b35; background: #2d333b; box-shadow: 0 0 0 1px #ff6b35; }
        .function-info { display: flex; align-items: center; gap: 8px; }
        .function-name { font-weight: 600; color: #79c0ff; }
        .function-type { background: #30363d; color: #8b949e; padding: 2px 6px; border-radius: 3px; font-size: 10px; text-transform: uppercase; }
        .model-indicator { background: #ff6b35; color: #0d1117; padding: 2px 4px; border-radius: 3px; font-size: 10px; margin-left: auto; }
        .add-btn { position: absolute; top: 8px; right: 8px; background: #238636; border: none; color: white; width: 24px; height: 24px; border-radius: 4px; cursor: pointer; font-size: 14px; opacity: 0; transition: opacity 0.2s; }
        .function-item:hover .add-btn { opacity: 1; }
        .middle-panel { width: 340px; background: #161b22; border-right: 1px solid #30363d; display: flex; flex-direction: column; }
        .payload-header { background: #238636; color: white; padding: 12px 16px; font-weight: 600; font-size: 14px; text-align: center; }
        .payload-container { flex: 1; padding: 16px; display: flex; flex-direction: column; }
        .payload-list { flex: 1; background: #21262d; border: 1px solid #30363d; border-radius: 8px; padding: 16px; margin-bottom: 16px; overflow-y: auto; min-height: 200px; }
        .payload-empty { color: #6e7681; text-align: center; font-style: italic; margin-top: 50px; }
        .payload-item { background: #2d333b; border: 1px solid #30363d; border-radius: 6px; padding: 12px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; }
        .payload-item-info { display: flex; flex-direction: column; gap: 4px; }
        .xedit-id { font-family: 'SF Mono', monospace; background: #30363d; color: #ff6b35; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
        .payload-model { font-size: 10px; color: #8b949e; }
        .remove-btn { background: #da3633; border: none; color: white; width: 20px; height: 20px; border-radius: 3px; cursor: pointer; font-size: 12px; }
        .strategy-overview { background: rgba(255, 107, 53, 0.1); border: 1px solid #ff6b35; border-radius: 8px; padding: 12px; margin-bottom: 16px; }
        .strategy-title { color: #ff6b35; font-size: 12px; font-weight: 600; margin-bottom: 8px; }
        .strategy-models { font-size: 10px; color: #8b949e; line-height: 1.4; }
        .send-button { width: 100%; background: #238636; border: none; color: white; padding: 15px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s; margin-bottom: 15px; }
        .send-button:disabled { background: #30363d; color: #8b949e; cursor: not-allowed; }
        .deploy-section { padding: 15px; background: rgba(46, 204, 113, 0.1); border: 1px solid #2ecc71; border-radius: 8px; }
        .deploy-title { color: #2ecc71; margin-bottom: 10px; font-weight: 600; }
        .deploy-info { background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; margin-bottom: 10px; font-size: 12px; color: #8b949e; }
        .deploy-button { width: 100%; padding: 12px; background: linear-gradient(45deg, #2ecc71, #27ae60); border: none; border-radius: 6px; color: white; font-weight: 600; cursor: pointer; }
        .right-panel { flex: 1; background: #0d1117; display: flex; flex-direction: column; }
        .code-header { background: #21262d; padding: 12px 16px; border-bottom: 1px solid #30363d; font-weight: 600; font-size: 13px; color: #f0883e; display: flex; justify-content: space-between; align-items: center; }
        .model-status { font-size: 11px; color: #ff6b35; }
        .code-container { flex: 1; overflow: auto; padding: 16px; }
        .code-content { background: #161b22; border: 1px solid #30363d; border-radius: 6px; padding: 16px; font-family: 'SF Mono', monospace; font-size: 13px; line-height: 1.6; }
        .code-line { display: flex; min-height: 20px; }
        .code-line.highlighted { background: #2d333b; border-left: 3px solid #ff6b35; padding-left: 13px; }
        .line-number { color: #6e7681; user-select: none; margin-right: 16px; min-width: 30px; text-align: right; }
        .line-content { color: #e6edf3; flex: 1; }
    </style>
</head>
<body>
    <div class="header">
        <div class="peacock-logo">ü¶ö Peacock XEdit Interface</div>
        <div class="nav-links">
            <div class="nav-link active">üìù XEdit</div>
            <div class="nav-link">ü§ñ Models</div>
            <div class="nav-link">üí¨ Senior Dev</div>
        </div>
        <div class="project-info">
            Project: Enterprise Data Management ‚Ä¢ Session: <span class="session-info">28-12-0259</span>
            <span class="optimization-badge">Multi-Model</span>
        </div>
    </div>

    <div class="main-container">
        <div class="left-panel">
            <div class="panel-header">
                üìã Functions & Classes
                <span class="optimization-info">Optimized</span>
            </div>
            <div class="functions-list">
                
            <div class="function-item" onclick="highlightFunction('7x001', 'authenticate', 4, 14)" data-id="7x001">
                <div class="function-info">
                    <span class="function-icon">‚ö°</span>
                    <span class="function-name">authenticate</span>
                    <span class="function-type">function</span>
                    <span class="model-indicator">‚ö°</span>
                </div>
                <button class="add-btn" onclick="event.stopPropagation(); addToPayload('authenticate', 'function', '7x001')" title="Add to payload">+</button>
            </div>
            
            <div class="function-item" onclick="highlightFunction('7x002', 'authorize', 19, 26)" data-id="7x002">
                <div class="function-info">
                    <span class="function-icon">‚ö°</span>
                    <span class="function-name">authorize</span>
                    <span class="function-type">function</span>
                    <span class="model-indicator">‚ö°</span>
                </div>
                <button class="add-btn" onclick="event.stopPropagation(); addToPayload('authorize', 'function', '7x002')" title="Add to payload">+</button>
            </div>
            
            <div class="function-item" onclick="highlightFunction('7x003', 'App', 7, 22)" data-id="7x003">
                <div class="function-info">
                    <span class="function-icon">‚ö°</span>
                    <span class="function-name">App</span>
                    <span class="function-type">function</span>
                    <span class="model-indicator">‚ö°</span>
                </div>
                <button class="add-btn" onclick="event.stopPropagation(); addToPayload('App', 'function', '7x003')" title="Add to payload">+</button>
            </div>
            
            <div class="function-item" onclick="highlightFunction('7x004', 'Dashboard', 6, 16)" data-id="7x004">
                <div class="function-info">
                    <span class="function-icon">‚ö°</span>
                    <span class="function-name">Dashboard</span>
                    <span class="function-type">function</span>
                    <span class="model-indicator">‚ö°</span>
                </div>
                <button class="add-btn" onclick="event.stopPropagation(); addToPayload('Dashboard', 'function', '7x004')" title="Add to payload">+</button>
            </div>
            
            <div class="function-item" onclick="highlightFunction('7x005', 'PrivateRoute', 5, 10)" data-id="7x005">
                <div class="function-info">
                    <span class="function-icon">‚ö°</span>
                    <span class="function-name">PrivateRoute</span>
                    <span class="function-type">function</span>
                    <span class="model-indicator">‚ö°</span>
                </div>
                <button class="add-btn" onclick="event.stopPropagation(); addToPayload('PrivateRoute', 'function', '7x005')" title="Add to payload">+</button>
            </div>
            
            <div class="function-item" onclick="highlightFunction('7x006', 'DataEntry', 6, 16)" data-id="7x006">
                <div class="function-info">
                    <span class="function-icon">‚ö°</span>
                    <span class="function-name">DataEntry</span>
                    <span class="function-type">function</span>
                    <span class="model-indicator">‚ö°</span>
                </div>
                <button class="add-btn" onclick="event.stopPropagation(); addToPayload('DataEntry', 'function', '7x006')" title="Add to payload">+</button>
            </div>
            
            <div class="function-item" onclick="highlightFunction('7x007', 'handleSubmit', 11, 21)" data-id="7x007">
                <div class="function-info">
                    <span class="function-icon">‚ö°</span>
                    <span class="function-name">handleSubmit</span>
                    <span class="function-type">function</span>
                    <span class="model-indicator">‚ö°</span>
                </div>
                <button class="add-btn" onclick="event.stopPropagation(); addToPayload('handleSubmit', 'function', '7x007')" title="Add to payload">+</button>
            </div>
            
            <div class="function-item" onclick="highlightFunction('7x008', 'Reports', 5, 15)" data-id="7x008">
                <div class="function-info">
                    <span class="function-icon">‚ö°</span>
                    <span class="function-name">Reports</span>
                    <span class="function-type">function</span>
                    <span class="model-indicator">‚ö°</span>
                </div>
                <button class="add-btn" onclick="event.stopPropagation(); addToPayload('Reports', 'function', '7x008')" title="Add to payload">+</button>
            </div>
            
            <div class="function-item" onclick="highlightFunction('7x009', 'MobileView', 4, 10)" data-id="7x009">
                <div class="function-info">
                    <span class="function-icon">‚ö°</span>
                    <span class="function-name">MobileView</span>
                    <span class="function-type">function</span>
                    <span class="model-indicator">‚ö°</span>
                </div>
                <button class="add-btn" onclick="event.stopPropagation(); addToPayload('MobileView', 'function', '7x009')" title="Add to payload">+</button>
            </div>
            
            </div>
        </div>

        <div class="middle-panel">
            <div class="payload-header">Optimized Payload</div>
            <div class="payload-container">
                <div class="strategy-overview">
                    <div class="strategy-title">üß† Model Strategy</div>
                    <div class="strategy-models">
                        <strong>Code Analysis:</strong> llama3-8b-8192<br>
                        <strong>Structure:</strong> gemma2-9b-it<br>
                        <strong>Speed:</strong> llama3-8b-8192
                    </div>
                </div>
                
                <div class="payload-list" id="payload-list">
                    <div class="payload-empty">Click functions to add XEdit-Paths</div>
                </div>
                <button class="send-button" id="send-button" disabled>
                    üöÄ Send 0 to Optimized Pipeline
                </button>
                
                <div class="deploy-section">
                    <div class="deploy-title">üöÄ Deploy & Download</div>
                    <div class="deploy-info">
                        <strong>Project:</strong> Enterprise Data Management<br>
                        <strong>Session:</strong> 28-12-0259<br>
                        <strong>Strategy:</strong> Multi-Model Optimized
                    </div>
                    <button class="deploy-button" onclick="deployToPcock()">üì¶ Download Optimized Setup</button>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <div class="code-header">
                üìÅ Enterprise Data Management: Generated Code
                <span class="model-status">Multi-Model Ready</span>
            </div>
            <div class="code-container">
                <div class="code-content">
<div class="code-line" data-line="1"><span class="line-number">  1</span><span class="line-content">{</span></div>
<div class="code-line" data-line="2"><span class="line-number">  2</span><span class="line-content">  "name": "enterprise-data-management",</span></div>
<div class="code-line" data-line="3"><span class="line-number">  3</span><span class="line-content">  "version": "1.0.0",</span></div>
<div class="code-line" data-line="4"><span class="line-number">  4</span><span class="line-content">  "description": "Enterprise Data Management System",</span></div>
<div class="code-line" data-line="5"><span class="line-number">  5</span><span class="line-content">  "main": "backend/server.js",</span></div>
<div class="code-line" data-line="6"><span class="line-number">  6</span><span class="line-content">  "scripts": {</span></div>
<div class="code-line" data-line="7"><span class="line-number">  7</span><span class="line-content">    "start": "node backend/server.js",</span></div>
<div class="code-line" data-line="8"><span class="line-number">  8</span><span class="line-content">    "dev": "concurrently \"nodemon backend/server.js\" \"cd frontend &amp;&amp; npm start\"",</span></div>
<div class="code-line" data-line="9"><span class="line-number">  9</span><span class="line-content">    "build": "cd frontend &amp;&amp; npm run build",</span></div>
<div class="code-line" data-line="10"><span class="line-number"> 10</span><span class="line-content">    "test": "jest",</span></div>
<div class="code-line" data-line="11"><span class="line-number"> 11</span><span class="line-content">    "test:unit": "jest --testRegex=unit",</span></div>
<div class="code-line" data-line="12"><span class="line-number"> 12</span><span class="line-content">    "test:integration": "jest --testRegex=integration",</span></div>
<div class="code-line" data-line="13"><span class="line-number"> 13</span><span class="line-content">    "db:migrate": "sequelize db:migrate",</span></div>
<div class="code-line" data-line="14"><span class="line-number"> 14</span><span class="line-content">    "db:seed": "sequelize db:seed:all",</span></div>
<div class="code-line" data-line="15"><span class="line-number"> 15</span><span class="line-content">    "lint": "eslint .",</span></div>
<div class="code-line" data-line="16"><span class="line-number"> 16</span><span class="line-content">    "format": "prettier --write ."</span></div>
<div class="code-line" data-line="17"><span class="line-number"> 17</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="18"><span class="line-number"> 18</span><span class="line-content">  "dependencies": {</span></div>
<div class="code-line" data-line="19"><span class="line-number"> 19</span><span class="line-content">    "express": "^4.18.2",</span></div>
<div class="code-line" data-line="20"><span class="line-number"> 20</span><span class="line-content">    "pg": "^8.8.0",</span></div>
<div class="code-line" data-line="21"><span class="line-number"> 21</span><span class="line-content">    "sequelize": "^6.21.5",</span></div>
<div class="code-line" data-line="22"><span class="line-number"> 22</span><span class="line-content">    "jsonwebtoken": "^9.0.0",</span></div>
<div class="code-line" data-line="23"><span class="line-number"> 23</span><span class="line-content">    "bcryptjs": "^2.4.3",</span></div>
<div class="code-line" data-line="24"><span class="line-number"> 24</span><span class="line-content">    "redis": "^4.3.1",</span></div>
<div class="code-line" data-line="25"><span class="line-number"> 25</span><span class="line-content">    "winston": "^3.11.0",</span></div>
<div class="code-line" data-line="26"><span class="line-number"> 26</span><span class="line-content">    "dotenv": "^16.0.3"</span></div>
<div class="code-line" data-line="27"><span class="line-number"> 27</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="28"><span class="line-number"> 28</span><span class="line-content">  "devDependencies": {</span></div>
<div class="code-line" data-line="29"><span class="line-number"> 29</span><span class="line-content">    "jest": "^29.5.0",</span></div>
<div class="code-line" data-line="30"><span class="line-number"> 30</span><span class="line-content">    "supertest": "^6.3.3",</span></div>
<div class="code-line" data-line="31"><span class="line-number"> 31</span><span class="line-content">    "eslint": "^8.54.0",</span></div>
<div class="code-line" data-line="32"><span class="line-number"> 32</span><span class="line-content">    "prettier": "^3.2.4",</span></div>
<div class="code-line" data-line="33"><span class="line-number"> 33</span><span class="line-content">    "nodemon": "^2.0.20",</span></div>
<div class="code-line" data-line="34"><span class="line-number"> 34</span><span class="line-content">    "concurrently": "^8.0.1"</span></div>
<div class="code-line" data-line="35"><span class="line-number"> 35</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="36"><span class="line-number"> 36</span><span class="line-content">}</span></div>
<div class="code-line" data-line="37"><span class="line-number"> 37</span><span class="line-content">require('dotenv').config();</span></div>
<div class="code-line" data-line="38"><span class="line-number"> 38</span><span class="line-content">const { Sequelize } = require('sequelize');</span></div>
<div class="code-line" data-line="39"><span class="line-number"> 39</span><span class="line-content"></span></div>
<div class="code-line" data-line="40"><span class="line-number"> 40</span><span class="line-content">const sequelize = new Sequelize(</span></div>
<div class="code-line" data-line="41"><span class="line-number"> 41</span><span class="line-content">  process.env.DB_NAME,</span></div>
<div class="code-line" data-line="42"><span class="line-number"> 42</span><span class="line-content">  process.env.DB_USER,</span></div>
<div class="code-line" data-line="43"><span class="line-number"> 43</span><span class="line-content">  process.env.DB_PASSWORD,</span></div>
<div class="code-line" data-line="44"><span class="line-number"> 44</span><span class="line-content">  {</span></div>
<div class="code-line" data-line="45"><span class="line-number"> 45</span><span class="line-content">    host: process.env.DB_HOST,</span></div>
<div class="code-line" data-line="46"><span class="line-number"> 46</span><span class="line-content">    dialect: 'postgres',</span></div>
<div class="code-line" data-line="47"><span class="line-number"> 47</span><span class="line-content">    logging: false</span></div>
<div class="code-line" data-line="48"><span class="line-number"> 48</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="49"><span class="line-number"> 49</span><span class="line-content">);</span></div>
<div class="code-line" data-line="50"><span class="line-number"> 50</span><span class="line-content"></span></div>
<div class="code-line" data-line="51"><span class="line-number"> 51</span><span class="line-content">const connectDB = async () =&gt; {</span></div>
<div class="code-line" data-line="52"><span class="line-number"> 52</span><span class="line-content">  try {</span></div>
<div class="code-line" data-line="53"><span class="line-number"> 53</span><span class="line-content">    await sequelize.authenticate();</span></div>
<div class="code-line" data-line="54"><span class="line-number"> 54</span><span class="line-content">    console.log('Database connection has been established successfully.');</span></div>
<div class="code-line" data-line="55"><span class="line-number"> 55</span><span class="line-content">  } catch (error) {</span></div>
<div class="code-line" data-line="56"><span class="line-number"> 56</span><span class="line-content">    console.error('Unable to connect to the database:', error);</span></div>
<div class="code-line" data-line="57"><span class="line-number"> 57</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="58"><span class="line-number"> 58</span><span class="line-content">};</span></div>
<div class="code-line" data-line="59"><span class="line-number"> 59</span><span class="line-content"></span></div>
<div class="code-line" data-line="60"><span class="line-number"> 60</span><span class="line-content">module.exports = { sequelize, connectDB };</span></div>
<div class="code-line" data-line="61"><span class="line-number"> 61</span><span class="line-content">const { DataTypes } = require('sequelize');</span></div>
<div class="code-line" data-line="62"><span class="line-number"> 62</span><span class="line-content">const sequelize = require('../config/db');</span></div>
<div class="code-line" data-line="63"><span class="line-number"> 63</span><span class="line-content"></span></div>
<div class="code-line" data-line="64"><span class="line-number"> 64</span><span class="line-content">const User = sequelize.define('User', {</span></div>
<div class="code-line" data-line="65"><span class="line-number"> 65</span><span class="line-content">  id: {</span></div>
<div class="code-line" data-line="66"><span class="line-number"> 66</span><span class="line-content">    type: DataTypes.INTEGER,</span></div>
<div class="code-line" data-line="67"><span class="line-number"> 67</span><span class="line-content">    primaryKey: true,</span></div>
<div class="code-line" data-line="68"><span class="line-number"> 68</span><span class="line-content">    autoIncrement: true</span></div>
<div class="code-line" data-line="69"><span class="line-number"> 69</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="70"><span class="line-number"> 70</span><span class="line-content">  username: {</span></div>
<div class="code-line" data-line="71"><span class="line-number"> 71</span><span class="line-content">    type: DataTypes.STRING,</span></div>
<div class="code-line" data-line="72"><span class="line-number"> 72</span><span class="line-content">    allowNull: false,</span></div>
<div class="code-line" data-line="73"><span class="line-number"> 73</span><span class="line-content">    unique: true</span></div>
<div class="code-line" data-line="74"><span class="line-number"> 74</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="75"><span class="line-number"> 75</span><span class="line-content">  email: {</span></div>
<div class="code-line" data-line="76"><span class="line-number"> 76</span><span class="line-content">    type: DataTypes.STRING,</span></div>
<div class="code-line" data-line="77"><span class="line-number"> 77</span><span class="line-content">    allowNull: false,</span></div>
<div class="code-line" data-line="78"><span class="line-number"> 78</span><span class="line-content">    unique: true,</span></div>
<div class="code-line" data-line="79"><span class="line-number"> 79</span><span class="line-content">    validate: {</span></div>
<div class="code-line" data-line="80"><span class="line-number"> 80</span><span class="line-content">      isEmail: true</span></div>
<div class="code-line" data-line="81"><span class="line-number"> 81</span><span class="line-content">    }</span></div>
<div class="code-line" data-line="82"><span class="line-number"> 82</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="83"><span class="line-number"> 83</span><span class="line-content">  password: {</span></div>
<div class="code-line" data-line="84"><span class="line-number"> 84</span><span class="line-content">    type: DataTypes.STRING,</span></div>
<div class="code-line" data-line="85"><span class="line-number"> 85</span><span class="line-content">    allowNull: false</span></div>
<div class="code-line" data-line="86"><span class="line-number"> 86</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="87"><span class="line-number"> 87</span><span class="line-content">  role: {</span></div>
<div class="code-line" data-line="88"><span class="line-number"> 88</span><span class="line-content">    type: DataTypes.ENUM('admin', 'user'),</span></div>
<div class="code-line" data-line="89"><span class="line-number"> 89</span><span class="line-content">    defaultValue: 'user'</span></div>
<div class="code-line" data-line="90"><span class="line-number"> 90</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="91"><span class="line-number"> 91</span><span class="line-content">}, {</span></div>
<div class="code-line" data-line="92"><span class="line-number"> 92</span><span class="line-content">  timestamps: true,</span></div>
<div class="code-line" data-line="93"><span class="line-number"> 93</span><span class="line-content">  paranoid: true</span></div>
<div class="code-line" data-line="94"><span class="line-number"> 94</span><span class="line-content">});</span></div>
<div class="code-line" data-line="95"><span class="line-number"> 95</span><span class="line-content"></span></div>
<div class="code-line" data-line="96"><span class="line-number"> 96</span><span class="line-content">module.exports = User;</span></div>
<div class="code-line" data-line="97"><span class="line-number"> 97</span><span class="line-content">const { DataTypes } = require('sequelize');</span></div>
<div class="code-line" data-line="98"><span class="line-number"> 98</span><span class="line-content">const sequelize = require('../config/db');</span></div>
<div class="code-line" data-line="99"><span class="line-number"> 99</span><span class="line-content"></span></div>
<div class="code-line" data-line="100"><span class="line-number">100</span><span class="line-content">const DataEntry = sequelize.define('DataEntry', {</span></div>
<div class="code-line" data-line="101"><span class="line-number">101</span><span class="line-content">  id: {</span></div>
<div class="code-line" data-line="102"><span class="line-number">102</span><span class="line-content">    type: DataTypes.INTEGER,</span></div>
<div class="code-line" data-line="103"><span class="line-number">103</span><span class="line-content">    primaryKey: true,</span></div>
<div class="code-line" data-line="104"><span class="line-number">104</span><span class="line-content">    autoIncrement: true</span></div>
<div class="code-line" data-line="105"><span class="line-number">105</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="106"><span class="line-number">106</span><span class="line-content">  source: {</span></div>
<div class="code-line" data-line="107"><span class="line-number">107</span><span class="line-content">    type: DataTypes.STRING,</span></div>
<div class="code-line" data-line="108"><span class="line-number">108</span><span class="line-content">    allowNull: false</span></div>
<div class="code-line" data-line="109"><span class="line-number">109</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="110"><span class="line-number">110</span><span class="line-content">  data: {</span></div>
<div class="code-line" data-line="111"><span class="line-number">111</span><span class="line-content">    type: DataTypes.JSON,</span></div>
<div class="code-line" data-line="112"><span class="line-number">112</span><span class="line-content">    allowNull: false</span></div>
<div class="code-line" data-line="113"><span class="line-number">113</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="114"><span class="line-number">114</span><span class="line-content">  status: {</span></div>
<div class="code-line" data-line="115"><span class="line-number">115</span><span class="line-content">    type: DataTypes.ENUM('pending', 'processed', 'failed'),</span></div>
<div class="code-line" data-line="116"><span class="line-number">116</span><span class="line-content">    defaultValue: 'pending'</span></div>
<div class="code-line" data-line="117"><span class="line-number">117</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="118"><span class="line-number">118</span><span class="line-content">}, {</span></div>
<div class="code-line" data-line="119"><span class="line-number">119</span><span class="line-content">  timestamps: true</span></div>
<div class="code-line" data-line="120"><span class="line-number">120</span><span class="line-content">});</span></div>
<div class="code-line" data-line="121"><span class="line-number">121</span><span class="line-content"></span></div>
<div class="code-line" data-line="122"><span class="line-number">122</span><span class="line-content">module.exports = DataEntry;</span></div>
<div class="code-line" data-line="123"><span class="line-number">123</span><span class="line-content">const { DataTypes } = require('sequelize');</span></div>
<div class="code-line" data-line="124"><span class="line-number">124</span><span class="line-content">const sequelize = require('../config/db');</span></div>
<div class="code-line" data-line="125"><span class="line-number">125</span><span class="line-content"></span></div>
<div class="code-line" data-line="126"><span class="line-number">126</span><span class="line-content">const Report = sequelize.define('Report', {</span></div>
<div class="code-line" data-line="127"><span class="line-number">127</span><span class="line-content">  id: {</span></div>
<div class="code-line" data-line="128"><span class="line-number">128</span><span class="line-content">    type: DataTypes.INTEGER,</span></div>
<div class="code-line" data-line="129"><span class="line-number">129</span><span class="line-content">    primaryKey: true,</span></div>
<div class="code-line" data-line="130"><span class="line-number">130</span><span class="line-content">    autoIncrement: true</span></div>
<div class="code-line" data-line="131"><span class="line-number">131</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="132"><span class="line-number">132</span><span class="line-content">  title: {</span></div>
<div class="code-line" data-line="133"><span class="line-number">133</span><span class="line-content">    type: DataTypes.STRING,</span></div>
<div class="code-line" data-line="134"><span class="line-number">134</span><span class="line-content">    allowNull: false</span></div>
<div class="code-line" data-line="135"><span class="line-number">135</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="136"><span class="line-number">136</span><span class="line-content">  content: {</span></div>
<div class="code-line" data-line="137"><span class="line-number">137</span><span class="line-content">    type: DataTypes.JSON,</span></div>
<div class="code-line" data-line="138"><span class="line-number">138</span><span class="line-content">    allowNull: false</span></div>
<div class="code-line" data-line="139"><span class="line-number">139</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="140"><span class="line-number">140</span><span class="line-content">  type: {</span></div>
<div class="code-line" data-line="141"><span class="line-number">141</span><span class="line-content">    type: DataTypes.ENUM('daily', 'weekly', 'monthly'),</span></div>
<div class="code-line" data-line="142"><span class="line-number">142</span><span class="line-content">    defaultValue: 'daily'</span></div>
<div class="code-line" data-line="143"><span class="line-number">143</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="144"><span class="line-number">144</span><span class="line-content">}, {</span></div>
<div class="code-line" data-line="145"><span class="line-number">145</span><span class="line-content">  timestamps: true</span></div>
<div class="code-line" data-line="146"><span class="line-number">146</span><span class="line-content">});</span></div>
<div class="code-line" data-line="147"><span class="line-number">147</span><span class="line-content"></span></div>
<div class="code-line" data-line="148"><span class="line-number">148</span><span class="line-content">module.exports = Report;</span></div>
<div class="code-line" data-line="149"><span class="line-number">149</span><span class="line-content">const bcrypt = require('bcryptjs');</span></div>
<div class="code-line" data-line="150"><span class="line-number">150</span><span class="line-content">const User = require('../models/User');</span></div>
<div class="code-line" data-line="151"><span class="line-number">151</span><span class="line-content"></span></div>
<div class="code-line" data-line="152"><span class="line-number">152</span><span class="line-content">const registerUser = async (username, email, password) =&gt; {</span></div>
<div class="code-line" data-line="153"><span class="line-number">153</span><span class="line-content">  const hashedPassword = await bcrypt.hash(password, 10);</span></div>
<div class="code-line" data-line="154"><span class="line-number">154</span><span class="line-content">  const user = await User.create({ username, email, password: hashedPassword });</span></div>
<div class="code-line" data-line="155"><span class="line-number">155</span><span class="line-content">  return user;</span></div>
<div class="code-line" data-line="156"><span class="line-number">156</span><span class="line-content">};</span></div>
<div class="code-line" data-line="157"><span class="line-number">157</span><span class="line-content"></span></div>
<div class="code-line" data-line="158"><span class="line-number">158</span><span class="line-content">const loginUser = async (email, password) =&gt; {</span></div>
<div class="code-line" data-line="159"><span class="line-number">159</span><span class="line-content">  const user = await User.findOne({ where: { email } });</span></div>
<div class="code-line" data-line="160"><span class="line-number">160</span><span class="line-content">  if (!user) {</span></div>
<div class="code-line" data-line="161"><span class="line-number">161</span><span class="line-content">    throw new Error('User not found');</span></div>
<div class="code-line" data-line="162"><span class="line-number">162</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="163"><span class="line-number">163</span><span class="line-content">  const isMatch = await bcrypt.compare(password, user.password);</span></div>
<div class="code-line" data-line="164"><span class="line-number">164</span><span class="line-content">  if (!isMatch) {</span></div>
<div class="code-line" data-line="165"><span class="line-number">165</span><span class="line-content">    throw new Error('Invalid credentials');</span></div>
<div class="code-line" data-line="166"><span class="line-number">166</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="167"><span class="line-number">167</span><span class="line-content">  return user;</span></div>
<div class="code-line" data-line="168"><span class="line-number">168</span><span class="line-content">};</span></div>
<div class="code-line" data-line="169"><span class="line-number">169</span><span class="line-content"></span></div>
<div class="code-line" data-line="170"><span class="line-number">170</span><span class="line-content">module.exports = { registerUser, loginUser };</span></div>
<div class="code-line" data-line="171"><span class="line-number">171</span><span class="line-content">const jwt = require('jsonwebtoken');</span></div>
<div class="code-line" data-line="172"><span class="line-number">172</span><span class="line-content">const { registerUser, loginUser } = require('../services/authService');</span></div>
<div class="code-line" data-line="173"><span class="line-number">173</span><span class="line-content">const { JWT_SECRET } = process.env;</span></div>
<div class="code-line" data-line="174"><span class="line-number">174</span><span class="line-content"></span></div>
<div class="code-line" data-line="175"><span class="line-number">175</span><span class="line-content">const register = async (req, res) =&gt; {</span></div>
<div class="code-line" data-line="176"><span class="line-number">176</span><span class="line-content">  try {</span></div>
<div class="code-line" data-line="177"><span class="line-number">177</span><span class="line-content">    const { username, email, password } = req.body;</span></div>
<div class="code-line" data-line="178"><span class="line-number">178</span><span class="line-content">    const user = await registerUser(username, email, password);</span></div>
<div class="code-line" data-line="179"><span class="line-number">179</span><span class="line-content">    const token = jwt.sign({ id: user.id, role: user.role }, JWT_SECRET, { expiresIn: '1h' });</span></div>
<div class="code-line" data-line="180"><span class="line-number">180</span><span class="line-content">    res.status(201).json({ token, user });</span></div>
<div class="code-line" data-line="181"><span class="line-number">181</span><span class="line-content">  } catch (error) {</span></div>
<div class="code-line" data-line="182"><span class="line-number">182</span><span class="line-content">    res.status(400).json({ error: error.message });</span></div>
<div class="code-line" data-line="183"><span class="line-number">183</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="184"><span class="line-number">184</span><span class="line-content">};</span></div>
<div class="code-line" data-line="185"><span class="line-number">185</span><span class="line-content"></span></div>
<div class="code-line" data-line="186"><span class="line-number">186</span><span class="line-content">const login = async (req, res) =&gt; {</span></div>
<div class="code-line" data-line="187"><span class="line-number">187</span><span class="line-content">  try {</span></div>
<div class="code-line" data-line="188"><span class="line-number">188</span><span class="line-content">    const { email, password } = req.body;</span></div>
<div class="code-line" data-line="189"><span class="line-number">189</span><span class="line-content">    const user = await loginUser(email, password);</span></div>
<div class="code-line" data-line="190"><span class="line-number">190</span><span class="line-content">    const token = jwt.sign({ id: user.id, role: user.role }, JWT_SECRET, { expiresIn: '1h' });</span></div>
<div class="code-line" data-line="191"><span class="line-number">191</span><span class="line-content">    res.json({ token, user });</span></div>
<div class="code-line" data-line="192"><span class="line-number">192</span><span class="line-content">  } catch (error) {</span></div>
<div class="code-line" data-line="193"><span class="line-number">193</span><span class="line-content">    res.status(401).json({ error: error.message });</span></div>
<div class="code-line" data-line="194"><span class="line-number">194</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="195"><span class="line-number">195</span><span class="line-content">};</span></div>
<div class="code-line" data-line="196"><span class="line-number">196</span><span class="line-content"></span></div>
<div class="code-line" data-line="197"><span class="line-number">197</span><span class="line-content">module.exports = { register, login };</span></div>
<div class="code-line" data-line="198"><span class="line-number">198</span><span class="line-content">const jwt = require('jsonwebtoken');</span></div>
<div class="code-line" data-line="199"><span class="line-number">199</span><span class="line-content">const { JWT_SECRET } = process.env;</span></div>
<div class="code-line" data-line="200"><span class="line-number">200</span><span class="line-content"></span></div>
<div class="code-line" data-line="201"><span class="line-number">201</span><span class="line-content">const authenticate = (req, res, next) =&gt; {</span></div>
<div class="code-line" data-line="202"><span class="line-number">202</span><span class="line-content">  const token = req.header('Authorization')?.replace('Bearer ', '');</span></div>
<div class="code-line" data-line="203"><span class="line-number">203</span><span class="line-content">  if (!token) {</span></div>
<div class="code-line" data-line="204"><span class="line-number">204</span><span class="line-content">    return res.status(401).json({ error: 'No token provided' });</span></div>
<div class="code-line" data-line="205"><span class="line-number">205</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="206"><span class="line-number">206</span><span class="line-content"></span></div>
<div class="code-line" data-line="207"><span class="line-number">207</span><span class="line-content">  try {</span></div>
<div class="code-line" data-line="208"><span class="line-number">208</span><span class="line-content">    const decoded = jwt.verify(token, JWT_SECRET);</span></div>
<div class="code-line" data-line="209"><span class="line-number">209</span><span class="line-content">    req.user = decoded;</span></div>
<div class="code-line" data-line="210"><span class="line-number">210</span><span class="line-content">    next();</span></div>
<div class="code-line" data-line="211"><span class="line-number">211</span><span class="line-content">  } catch (error) {</span></div>
<div class="code-line" data-line="212"><span class="line-number">212</span><span class="line-content">    res.status(401).json({ error: 'Invalid token' });</span></div>
<div class="code-line" data-line="213"><span class="line-number">213</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="214"><span class="line-number">214</span><span class="line-content">};</span></div>
<div class="code-line" data-line="215"><span class="line-number">215</span><span class="line-content"></span></div>
<div class="code-line" data-line="216"><span class="line-number">216</span><span class="line-content">const authorize = (role) =&gt; (req, res, next) =&gt; {</span></div>
<div class="code-line" data-line="217"><span class="line-number">217</span><span class="line-content">  if (req.user.role !== role) {</span></div>
<div class="code-line" data-line="218"><span class="line-number">218</span><span class="line-content">    return res.status(403).json({ error: 'Forbidden' });</span></div>
<div class="code-line" data-line="219"><span class="line-number">219</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="220"><span class="line-number">220</span><span class="line-content">  next();</span></div>
<div class="code-line" data-line="221"><span class="line-number">221</span><span class="line-content">};</span></div>
<div class="code-line" data-line="222"><span class="line-number">222</span><span class="line-content"></span></div>
<div class="code-line" data-line="223"><span class="line-number">223</span><span class="line-content">module.exports = { authenticate, authorize };</span></div>
<div class="code-line" data-line="224"><span class="line-number">224</span><span class="line-content">const express = require('express');</span></div>
<div class="code-line" data-line="225"><span class="line-number">225</span><span class="line-content">const cors = require('cors');</span></div>
<div class="code-line" data-line="226"><span class="line-number">226</span><span class="line-content">const dotenv = require('dotenv');</span></div>
<div class="code-line" data-line="227"><span class="line-number">227</span><span class="line-content">const connectDB = require('./config/db');</span></div>
<div class="code-line" data-line="228"><span class="line-number">228</span><span class="line-content">const authRoutes = require('./routes/authRoutes');</span></div>
<div class="code-line" data-line="229"><span class="line-number">229</span><span class="line-content">const dataRoutes = require('./routes/dataRoutes');</span></div>
<div class="code-line" data-line="230"><span class="line-number">230</span><span class="line-content">const reportRoutes = require('./routes/reportRoutes');</span></div>
<div class="code-line" data-line="231"><span class="line-number">231</span><span class="line-content">const errorMiddleware = require('./middleware/errorMiddleware');</span></div>
<div class="code-line" data-line="232"><span class="line-number">232</span><span class="line-content"></span></div>
<div class="code-line" data-line="233"><span class="line-number">233</span><span class="line-content">dotenv.config();</span></div>
<div class="code-line" data-line="234"><span class="line-number">234</span><span class="line-content"></span></div>
<div class="code-line" data-line="235"><span class="line-number">235</span><span class="line-content">const app = express();</span></div>
<div class="code-line" data-line="236"><span class="line-number">236</span><span class="line-content">const PORT = process.env.PORT || 3000;</span></div>
<div class="code-line" data-line="237"><span class="line-number">237</span><span class="line-content"></span></div>
<div class="code-line" data-line="238"><span class="line-number">238</span><span class="line-content">// Connect to database</span></div>
<div class="code-line" data-line="239"><span class="line-number">239</span><span class="line-content">connectDB();</span></div>
<div class="code-line" data-line="240"><span class="line-number">240</span><span class="line-content"></span></div>
<div class="code-line" data-line="241"><span class="line-number">241</span><span class="line-content">// Middleware</span></div>
<div class="code-line" data-line="242"><span class="line-number">242</span><span class="line-content">app.use(cors());</span></div>
<div class="code-line" data-line="243"><span class="line-number">243</span><span class="line-content">app.use(express.json());</span></div>
<div class="code-line" data-line="244"><span class="line-number">244</span><span class="line-content"></span></div>
<div class="code-line" data-line="245"><span class="line-number">245</span><span class="line-content">// Routes</span></div>
<div class="code-line" data-line="246"><span class="line-number">246</span><span class="line-content">app.use('/api/v1/auth', authRoutes);</span></div>
<div class="code-line" data-line="247"><span class="line-number">247</span><span class="line-content">app.use('/api/v1/data', dataRoutes);</span></div>
<div class="code-line" data-line="248"><span class="line-number">248</span><span class="line-content">app.use('/api/v1/reports', reportRoutes);</span></div>
<div class="code-line" data-line="249"><span class="line-number">249</span><span class="line-content"></span></div>
<div class="code-line" data-line="250"><span class="line-number">250</span><span class="line-content">// Error handling middleware</span></div>
<div class="code-line" data-line="251"><span class="line-number">251</span><span class="line-content">app.use(errorMiddleware);</span></div>
<div class="code-line" data-line="252"><span class="line-number">252</span><span class="line-content"></span></div>
<div class="code-line" data-line="253"><span class="line-number">253</span><span class="line-content">app.listen(PORT, () =&gt; {</span></div>
<div class="code-line" data-line="254"><span class="line-number">254</span><span class="line-content">  console.log(`Server running on port ${PORT}`);</span></div>
<div class="code-line" data-line="255"><span class="line-number">255</span><span class="line-content">});</span></div>
<div class="code-line" data-line="256"><span class="line-number">256</span><span class="line-content">const express = require('express');</span></div>
<div class="code-line" data-line="257"><span class="line-number">257</span><span class="line-content">const { register, login } = require('../controllers/authController');</span></div>
<div class="code-line" data-line="258"><span class="line-number">258</span><span class="line-content"></span></div>
<div class="code-line" data-line="259"><span class="line-number">259</span><span class="line-content">const router = express.Router();</span></div>
<div class="code-line" data-line="260"><span class="line-number">260</span><span class="line-content"></span></div>
<div class="code-line" data-line="261"><span class="line-number">261</span><span class="line-content">router.post('/register', register);</span></div>
<div class="code-line" data-line="262"><span class="line-number">262</span><span class="line-content">router.post('/login', login);</span></div>
<div class="code-line" data-line="263"><span class="line-number">263</span><span class="line-content"></span></div>
<div class="code-line" data-line="264"><span class="line-number">264</span><span class="line-content">module.exports = router;</span></div>
<div class="code-line" data-line="265"><span class="line-number">265</span><span class="line-content">const request = require('supertest');</span></div>
<div class="code-line" data-line="266"><span class="line-number">266</span><span class="line-content">const app = require('../server');</span></div>
<div class="code-line" data-line="267"><span class="line-number">267</span><span class="line-content">const User = require('../models/User');</span></div>
<div class="code-line" data-line="268"><span class="line-number">268</span><span class="line-content"></span></div>
<div class="code-line" data-line="269"><span class="line-number">269</span><span class="line-content">describe('Auth Controller Tests', () =&gt; {</span></div>
<div class="code-line" data-line="270"><span class="line-number">270</span><span class="line-content">  beforeEach(async () =&gt; {</span></div>
<div class="code-line" data-line="271"><span class="line-number">271</span><span class="line-content">    await User.destroy({ truncate: true });</span></div>
<div class="code-line" data-line="272"><span class="line-number">272</span><span class="line-content">  });</span></div>
<div class="code-line" data-line="273"><span class="line-number">273</span><span class="line-content"></span></div>
<div class="code-line" data-line="274"><span class="line-number">274</span><span class="line-content">  it('should register a new user', async () =&gt; {</span></div>
<div class="code-line" data-line="275"><span class="line-number">275</span><span class="line-content">    const res = await request(app)</span></div>
<div class="code-line" data-line="276"><span class="line-number">276</span><span class="line-content">      .post('/api/v1/auth/register')</span></div>
<div class="code-line" data-line="277"><span class="line-number">277</span><span class="line-content">      .send({</span></div>
<div class="code-line" data-line="278"><span class="line-number">278</span><span class="line-content">        username: 'testuser',</span></div>
<div class="code-line" data-line="279"><span class="line-number">279</span><span class="line-content">        email: 'test@example.com',</span></div>
<div class="code-line" data-line="280"><span class="line-number">280</span><span class="line-content">        password: 'password123'</span></div>
<div class="code-line" data-line="281"><span class="line-number">281</span><span class="line-content">      });</span></div>
<div class="code-line" data-line="282"><span class="line-number">282</span><span class="line-content"></span></div>
<div class="code-line" data-line="283"><span class="line-number">283</span><span class="line-content">    expect(res.status).toBe(201);</span></div>
<div class="code-line" data-line="284"><span class="line-number">284</span><span class="line-content">    expect(res.body.user).toHaveProperty('id');</span></div>
<div class="code-line" data-line="285"><span class="line-number">285</span><span class="line-content">    expect(res.body.token).toBeDefined();</span></div>
<div class="code-line" data-line="286"><span class="line-number">286</span><span class="line-content">  });</span></div>
<div class="code-line" data-line="287"><span class="line-number">287</span><span class="line-content"></span></div>
<div class="code-line" data-line="288"><span class="line-number">288</span><span class="line-content">  it('should login an existing user', async () =&gt; {</span></div>
<div class="code-line" data-line="289"><span class="line-number">289</span><span class="line-content">    await User.create({</span></div>
<div class="code-line" data-line="290"><span class="line-number">290</span><span class="line-content">      username: 'testuser',</span></div>
<div class="code-line" data-line="291"><span class="line-number">291</span><span class="line-content">      email: 'test@example.com',</span></div>
<div class="code-line" data-line="292"><span class="line-number">292</span><span class="line-content">      password: 'password123'</span></div>
<div class="code-line" data-line="293"><span class="line-number">293</span><span class="line-content">    });</span></div>
<div class="code-line" data-line="294"><span class="line-number">294</span><span class="line-content"></span></div>
<div class="code-line" data-line="295"><span class="line-number">295</span><span class="line-content">    const res = await request(app)</span></div>
<div class="code-line" data-line="296"><span class="line-number">296</span><span class="line-content">      .post('/api/v1/auth/login')</span></div>
<div class="code-line" data-line="297"><span class="line-number">297</span><span class="line-content">      .send({</span></div>
<div class="code-line" data-line="298"><span class="line-number">298</span><span class="line-content">        email: 'test@example.com',</span></div>
<div class="code-line" data-line="299"><span class="line-number">299</span><span class="line-content">        password: 'password123'</span></div>
<div class="code-line" data-line="300"><span class="line-number">300</span><span class="line-content">      });</span></div>
<div class="code-line" data-line="301"><span class="line-number">301</span><span class="line-content"></span></div>
<div class="code-line" data-line="302"><span class="line-number">302</span><span class="line-content">    expect(res.status).toBe(200);</span></div>
<div class="code-line" data-line="303"><span class="line-number">303</span><span class="line-content">    expect(res.body.user).toHaveProperty('id');</span></div>
<div class="code-line" data-line="304"><span class="line-number">304</span><span class="line-content">    expect(res.body.token).toBeDefined();</span></div>
<div class="code-line" data-line="305"><span class="line-number">305</span><span class="line-content">  });</span></div>
<div class="code-line" data-line="306"><span class="line-number">306</span><span class="line-content"></span></div>
<div class="code-line" data-line="307"><span class="line-number">307</span><span class="line-content">  it('should return error for invalid credentials', async () =&gt; {</span></div>
<div class="code-line" data-line="308"><span class="line-number">308</span><span class="line-content">    const res = await request(app)</span></div>
<div class="code-line" data-line="309"><span class="line-number">309</span><span class="line-content">      .post('/api/v1/auth/login')</span></div>
<div class="code-line" data-line="310"><span class="line-number">310</span><span class="line-content">      .send({</span></div>
<div class="code-line" data-line="311"><span class="line-number">311</span><span class="line-content">        email: 'test@example.com',</span></div>
<div class="code-line" data-line="312"><span class="line-number">312</span><span class="line-content">        password: 'wrongpassword'</span></div>
<div class="code-line" data-line="313"><span class="line-number">313</span><span class="line-content">      });</span></div>
<div class="code-line" data-line="314"><span class="line-number">314</span><span class="line-content"></span></div>
<div class="code-line" data-line="315"><span class="line-number">315</span><span class="line-content">    expect(res.status).toBe(401);</span></div>
<div class="code-line" data-line="316"><span class="line-number">316</span><span class="line-content">    expect(res.body.error).toBe('Invalid credentials');</span></div>
<div class="code-line" data-line="317"><span class="line-number">317</span><span class="line-content">  });</span></div>
<div class="code-line" data-line="318"><span class="line-number">318</span><span class="line-content">});</span></div>
<div class="code-line" data-line="319"><span class="line-number">319</span><span class="line-content">{</span></div>
<div class="code-line" data-line="320"><span class="line-number">320</span><span class="line-content">  "name": "edms-frontend",</span></div>
<div class="code-line" data-line="321"><span class="line-number">321</span><span class="line-content">  "version": "1.0.0",</span></div>
<div class="code-line" data-line="322"><span class="line-number">322</span><span class="line-content">  "description": "Enterprise Data Management System Frontend",</span></div>
<div class="code-line" data-line="323"><span class="line-number">323</span><span class="line-content">  "main": "index.js",</span></div>
<div class="code-line" data-line="324"><span class="line-number">324</span><span class="line-content">  "scripts": {</span></div>
<div class="code-line" data-line="325"><span class="line-number">325</span><span class="line-content">    "start": "react-scripts start",</span></div>
<div class="code-line" data-line="326"><span class="line-number">326</span><span class="line-content">    "build": "react-scripts build",</span></div>
<div class="code-line" data-line="327"><span class="line-number">327</span><span class="line-content">    "test": "react-scripts test",</span></div>
<div class="code-line" data-line="328"><span class="line-number">328</span><span class="line-content">    "eject": "react-scripts eject"</span></div>
<div class="code-line" data-line="329"><span class="line-number">329</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="330"><span class="line-number">330</span><span class="line-content">  "dependencies": {</span></div>
<div class="code-line" data-line="331"><span class="line-number">331</span><span class="line-content">    "react": "^18.2.0",</span></div>
<div class="code-line" data-line="332"><span class="line-number">332</span><span class="line-content">    "react-dom": "^18.2.0",</span></div>
<div class="code-line" data-line="333"><span class="line-number">333</span><span class="line-content">    "react-redux": "^8.0.5",</span></div>
<div class="code-line" data-line="334"><span class="line-number">334</span><span class="line-content">    "redux": "^8.1.0",</span></div>
<div class="code-line" data-line="335"><span class="line-number">335</span><span class="line-content">    "redux-thunk": "^2.4.2",</span></div>
<div class="code-line" data-line="336"><span class="line-number">336</span><span class="line-content">    "axios": "^1.4.0",</span></div>
<div class="code-line" data-line="337"><span class="line-number">337</span><span class="line-content">    "@mui/material": "^5.10.0",</span></div>
<div class="code-line" data-line="338"><span class="line-number">338</span><span class="line-content">    "@emotion/react": "^11.11.1",</span></div>
<div class="code-line" data-line="339"><span class="line-number">339</span><span class="line-content">    "@emotion/styled": "^11.11.0"</span></div>
<div class="code-line" data-line="340"><span class="line-number">340</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="341"><span class="line-number">341</span><span class="line-content">  "devDependencies": {</span></div>
<div class="code-line" data-line="342"><span class="line-number">342</span><span class="line-content">    "react-scripts": "5.0.1",</span></div>
<div class="code-line" data-line="343"><span class="line-number">343</span><span class="line-content">    "jest": "^29.5.0",</span></div>
<div class="code-line" data-line="344"><span class="line-number">344</span><span class="line-content">    "supertest": "^6.3.3"</span></div>
<div class="code-line" data-line="345"><span class="line-number">345</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="346"><span class="line-number">346</span><span class="line-content">}</span></div>
<div class="code-line" data-line="347"><span class="line-number">347</span><span class="line-content">import React from 'react';</span></div>
<div class="code-line" data-line="348"><span class="line-number">348</span><span class="line-content">import ReactDOM from 'react-dom/client';</span></div>
<div class="code-line" data-line="349"><span class="line-number">349</span><span class="line-content">import { Provider } from 'react-redux';</span></div>
<div class="code-line" data-line="350"><span class="line-number">350</span><span class="line-content">import { BrowserRouter as Router } from 'react-router-dom';</span></div>
<div class="code-line" data-line="351"><span class="line-number">351</span><span class="line-content">import App from './App';</span></div>
<div class="code-line" data-line="352"><span class="line-number">352</span><span class="line-content">import store from './store';</span></div>
<div class="code-line" data-line="353"><span class="line-number">353</span><span class="line-content"></span></div>
<div class="code-line" data-line="354"><span class="line-number">354</span><span class="line-content">const root = ReactDOM.createRoot(document.getElementById('root'));</span></div>
<div class="code-line" data-line="355"><span class="line-number">355</span><span class="line-content">root.render(</span></div>
<div class="code-line" data-line="356"><span class="line-number">356</span><span class="line-content">  &lt;Provider store={store}&gt;</span></div>
<div class="code-line" data-line="357"><span class="line-number">357</span><span class="line-content">    &lt;Router&gt;</span></div>
<div class="code-line" data-line="358"><span class="line-number">358</span><span class="line-content">      &lt;App /&gt;</span></div>
<div class="code-line" data-line="359"><span class="line-number">359</span><span class="line-content">    &lt;/Router&gt;</span></div>
<div class="code-line" data-line="360"><span class="line-number">360</span><span class="line-content">  &lt;/Provider&gt;</span></div>
<div class="code-line" data-line="361"><span class="line-number">361</span><span class="line-content">);</span></div>
<div class="code-line" data-line="362"><span class="line-number">362</span><span class="line-content">import { configureStore } from '@reduxjs/toolkit';</span></div>
<div class="code-line" data-line="363"><span class="line-number">363</span><span class="line-content">import authReducer from './features/auth/authSlice';</span></div>
<div class="code-line" data-line="364"><span class="line-number">364</span><span class="line-content">import dataReducer from './features/data/dataSlice';</span></div>
<div class="code-line" data-line="365"><span class="line-number">365</span><span class="line-content"></span></div>
<div class="code-line" data-line="366"><span class="line-number">366</span><span class="line-content">export default configureStore({</span></div>
<div class="code-line" data-line="367"><span class="line-number">367</span><span class="line-content">  reducer: {</span></div>
<div class="code-line" data-line="368"><span class="line-number">368</span><span class="line-content">    auth: authReducer,</span></div>
<div class="code-line" data-line="369"><span class="line-number">369</span><span class="line-content">    data: dataReducer</span></div>
<div class="code-line" data-line="370"><span class="line-number">370</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="371"><span class="line-number">371</span><span class="line-content">});</span></div>
<div class="code-line" data-line="372"><span class="line-number">372</span><span class="line-content">import React from 'react';</span></div>
<div class="code-line" data-line="373"><span class="line-number">373</span><span class="line-content">import { BrowserRouter as Router, Route, Routes } from 'react-router-dom';</span></div>
<div class="code-line" data-line="374"><span class="line-number">374</span><span class="line-content">import Dashboard from './components/Dashboard';</span></div>
<div class="code-line" data-line="375"><span class="line-number">375</span><span class="line-content">import Login from './features/auth/Login';</span></div>
<div class="code-line" data-line="376"><span class="line-number">376</span><span class="line-content">import PrivateRoute from './components/PrivateRoute';</span></div>
<div class="code-line" data-line="377"><span class="line-number">377</span><span class="line-content"></span></div>
<div class="code-line" data-line="378"><span class="line-number">378</span><span class="line-content">function App() {</span></div>
<div class="code-line" data-line="379"><span class="line-number">379</span><span class="line-content">  return (</span></div>
<div class="code-line" data-line="380"><span class="line-number">380</span><span class="line-content">    &lt;Router&gt;</span></div>
<div class="code-line" data-line="381"><span class="line-number">381</span><span class="line-content">      &lt;Routes&gt;</span></div>
<div class="code-line" data-line="382"><span class="line-number">382</span><span class="line-content">        &lt;Route path="/login" element={&lt;Login /&gt;} /&gt;</span></div>
<div class="code-line" data-line="383"><span class="line-number">383</span><span class="line-content">        &lt;Route </span></div>
<div class="code-line" data-line="384"><span class="line-number">384</span><span class="line-content">          path="*" </span></div>
<div class="code-line" data-line="385"><span class="line-number">385</span><span class="line-content">          element={</span></div>
<div class="code-line" data-line="386"><span class="line-number">386</span><span class="line-content">            &lt;PrivateRoute&gt;</span></div>
<div class="code-line" data-line="387"><span class="line-number">387</span><span class="line-content">              &lt;Dashboard /&gt;</span></div>
<div class="code-line" data-line="388"><span class="line-number">388</span><span class="line-content">            &lt;/PrivateRoute&gt;</span></div>
<div class="code-line" data-line="389"><span class="line-number">389</span><span class="line-content">          } </span></div>
<div class="code-line" data-line="390"><span class="line-number">390</span><span class="line-content">        /&gt;</span></div>
<div class="code-line" data-line="391"><span class="line-number">391</span><span class="line-content">      &lt;/Routes&gt;</span></div>
<div class="code-line" data-line="392"><span class="line-number">392</span><span class="line-content">    &lt;/Router&gt;</span></div>
<div class="code-line" data-line="393"><span class="line-number">393</span><span class="line-content">  );</span></div>
<div class="code-line" data-line="394"><span class="line-number">394</span><span class="line-content">}</span></div>
<div class="code-line" data-line="395"><span class="line-number">395</span><span class="line-content"></span></div>
<div class="code-line" data-line="396"><span class="line-number">396</span><span class="line-content">export default App;</span></div>
<div class="code-line" data-line="397"><span class="line-number">397</span><span class="line-content">import React, { useEffect } from 'react';</span></div>
<div class="code-line" data-line="398"><span class="line-number">398</span><span class="line-content">import { useSelector, useDispatch } from 'react-redux';</span></div>
<div class="code-line" data-line="399"><span class="line-number">399</span><span class="line-content">import { fetchReports } from '../features/data/dataSlice';</span></div>
<div class="code-line" data-line="400"><span class="line-number">400</span><span class="line-content">import { Typography, Container, Paper, List, ListItem } from '@mui/material';</span></div>
<div class="code-line" data-line="401"><span class="line-number">401</span><span class="line-content"></span></div>
<div class="code-line" data-line="402"><span class="line-number">402</span><span class="line-content">const Dashboard = () =&gt; {</span></div>
<div class="code-line" data-line="403"><span class="line-number">403</span><span class="line-content">  const dispatch = useDispatch();</span></div>
<div class="code-line" data-line="404"><span class="line-number">404</span><span class="line-content">  const { reports, loading, error } = useSelector((state) =&gt; state.data);</span></div>
<div class="code-line" data-line="405"><span class="line-number">405</span><span class="line-content"></span></div>
<div class="code-line" data-line="406"><span class="line-number">406</span><span class="line-content">  useEffect(() =&gt; {</span></div>
<div class="code-line" data-line="407"><span class="line-number">407</span><span class="line-content">    dispatch(fetchReports());</span></div>
<div class="code-line" data-line="408"><span class="line-number">408</span><span class="line-content">  }, [dispatch]);</span></div>
<div class="code-line" data-line="409"><span class="line-number">409</span><span class="line-content"></span></div>
<div class="code-line" data-line="410"><span class="line-number">410</span><span class="line-content">  if (loading) return &lt;Typography&gt;Loading...&lt;/Typography&gt;;</span></div>
<div class="code-line" data-line="411"><span class="line-number">411</span><span class="line-content">  if (error) return &lt;Typography color="error"&gt;{error}&lt;/Typography&gt;;</span></div>
<div class="code-line" data-line="412"><span class="line-number">412</span><span class="line-content"></span></div>
<div class="code-line" data-line="413"><span class="line-number">413</span><span class="line-content">  return (</span></div>
<div class="code-line" data-line="414"><span class="line-number">414</span><span class="line-content">    &lt;Container&gt;</span></div>
<div class="code-line" data-line="415"><span class="line-number">415</span><span class="line-content">      &lt;Typography variant="h4" gutterBottom&gt;Dashboard&lt;/Typography&gt;</span></div>
<div class="code-line" data-line="416"><span class="line-number">416</span><span class="line-content">      &lt;Paper&gt;</span></div>
<div class="code-line" data-line="417"><span class="line-number">417</span><span class="line-content">        &lt;Typography variant="h6" gutterBottom&gt;Latest Reports&lt;/Typography&gt;</span></div>
<div class="code-line" data-line="418"><span class="line-number">418</span><span class="line-content">        &lt;List&gt;</span></div>
<div class="code-line" data-line="419"><span class="line-number">419</span><span class="line-content">          {reports.map((report) =&gt; (</span></div>
<div class="code-line" data-line="420"><span class="line-number">420</span><span class="line-content">            &lt;ListItem key={report.id}&gt;{report.title}&lt;/ListItem&gt;</span></div>
<div class="code-line" data-line="421"><span class="line-number">421</span><span class="line-content">          ))}</span></div>
<div class="code-line" data-line="422"><span class="line-number">422</span><span class="line-content">        &lt;/List&gt;</span></div>
<div class="code-line" data-line="423"><span class="line-number">423</span><span class="line-content">      &lt;/Paper&gt;</span></div>
<div class="code-line" data-line="424"><span class="line-number">424</span><span class="line-content">    &lt;/Container&gt;</span></div>
<div class="code-line" data-line="425"><span class="line-number">425</span><span class="line-content">  );</span></div>
<div class="code-line" data-line="426"><span class="line-number">426</span><span class="line-content">};</span></div>
<div class="code-line" data-line="427"><span class="line-number">427</span><span class="line-content"></span></div>
<div class="code-line" data-line="428"><span class="line-number">428</span><span class="line-content">export default Dashboard;</span></div>
<div class="code-line" data-line="429"><span class="line-number">429</span><span class="line-content">import React from 'react';</span></div>
<div class="code-line" data-line="430"><span class="line-number">430</span><span class="line-content">import { Navigate } from 'react-router-dom';</span></div>
<div class="code-line" data-line="431"><span class="line-number">431</span><span class="line-content">import { useSelector } from 'react-redux';</span></div>
<div class="code-line" data-line="432"><span class="line-number">432</span><span class="line-content"></span></div>
<div class="code-line" data-line="433"><span class="line-number">433</span><span class="line-content">const PrivateRoute = ({ children }) =&gt; {</span></div>
<div class="code-line" data-line="434"><span class="line-number">434</span><span class="line-content">  const { user } = useSelector((state) =&gt; state.auth);</span></div>
<div class="code-line" data-line="435"><span class="line-number">435</span><span class="line-content">  return user ? children : &lt;Navigate to="/login" /&gt;;</span></div>
<div class="code-line" data-line="436"><span class="line-number">436</span><span class="line-content">};</span></div>
<div class="code-line" data-line="437"><span class="line-number">437</span><span class="line-content"></span></div>
<div class="code-line" data-line="438"><span class="line-number">438</span><span class="line-content">export default PrivateRoute;</span></div>
<div class="code-line" data-line="439"><span class="line-number">439</span><span class="line-content">import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';</span></div>
<div class="code-line" data-line="440"><span class="line-number">440</span><span class="line-content">import axios from 'axios';</span></div>
<div class="code-line" data-line="441"><span class="line-number">441</span><span class="line-content"></span></div>
<div class="code-line" data-line="442"><span class="line-number">442</span><span class="line-content">export const login = createAsyncThunk('auth/login', async (credentials) =&gt; {</span></div>
<div class="code-line" data-line="443"><span class="line-number">443</span><span class="line-content">  const response = await axios.post('/api/v1/auth/login', credentials);</span></div>
<div class="code-line" data-line="444"><span class="line-number">444</span><span class="line-content">  return response.data;</span></div>
<div class="code-line" data-line="445"><span class="line-number">445</span><span class="line-content">});</span></div>
<div class="code-line" data-line="446"><span class="line-number">446</span><span class="line-content"></span></div>
<div class="code-line" data-line="447"><span class="line-number">447</span><span class="line-content">export const register = createAsyncThunk('auth/register', async (userData) =&gt; {</span></div>
<div class="code-line" data-line="448"><span class="line-number">448</span><span class="line-content">  const response = await axios.post('/api/v1/auth/register', userData);</span></div>
<div class="code-line" data-line="449"><span class="line-number">449</span><span class="line-content">  return response.data;</span></div>
<div class="code-line" data-line="450"><span class="line-number">450</span><span class="line-content">});</span></div>
<div class="code-line" data-line="451"><span class="line-number">451</span><span class="line-content"></span></div>
<div class="code-line" data-line="452"><span class="line-number">452</span><span class="line-content">const authSlice = createSlice({</span></div>
<div class="code-line" data-line="453"><span class="line-number">453</span><span class="line-content">  name: 'auth',</span></div>
<div class="code-line" data-line="454"><span class="line-number">454</span><span class="line-content">  initialState: {</span></div>
<div class="code-line" data-line="455"><span class="line-number">455</span><span class="line-content">    user: null,</span></div>
<div class="code-line" data-line="456"><span class="line-number">456</span><span class="line-content">    token: null,</span></div>
<div class="code-line" data-line="457"><span class="line-number">457</span><span class="line-content">    loading: false,</span></div>
<div class="code-line" data-line="458"><span class="line-number">458</span><span class="line-content">    error: null</span></div>
<div class="code-line" data-line="459"><span class="line-number">459</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="460"><span class="line-number">460</span><span class="line-content">  reducers: {</span></div>
<div class="code-line" data-line="461"><span class="line-number">461</span><span class="line-content">    logout: (state) =&gt; {</span></div>
<div class="code-line" data-line="462"><span class="line-number">462</span><span class="line-content">      state.user = null;</span></div>
<div class="code-line" data-line="463"><span class="line-number">463</span><span class="line-content">      state.token = null;</span></div>
<div class="code-line" data-line="464"><span class="line-number">464</span><span class="line-content">    }</span></div>
<div class="code-line" data-line="465"><span class="line-number">465</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="466"><span class="line-number">466</span><span class="line-content">  extraReducers: (builder) =&gt; {</span></div>
<div class="code-line" data-line="467"><span class="line-number">467</span><span class="line-content">    builder</span></div>
<div class="code-line" data-line="468"><span class="line-number">468</span><span class="line-content">      .addCase(login.pending, (state) =&gt; {</span></div>
<div class="code-line" data-line="469"><span class="line-number">469</span><span class="line-content">        state.loading = true;</span></div>
<div class="code-line" data-line="470"><span class="line-number">470</span><span class="line-content">        state.error = null;</span></div>
<div class="code-line" data-line="471"><span class="line-number">471</span><span class="line-content">      })</span></div>
<div class="code-line" data-line="472"><span class="line-number">472</span><span class="line-content">      .addCase(login.fulfilled, (state, action) =&gt; {</span></div>
<div class="code-line" data-line="473"><span class="line-number">473</span><span class="line-content">        state.loading = false;</span></div>
<div class="code-line" data-line="474"><span class="line-number">474</span><span class="line-content">        state.user = action.payload.user;</span></div>
<div class="code-line" data-line="475"><span class="line-number">475</span><span class="line-content">        state.token = action.payload.token;</span></div>
<div class="code-line" data-line="476"><span class="line-number">476</span><span class="line-content">      })</span></div>
<div class="code-line" data-line="477"><span class="line-number">477</span><span class="line-content">      .addCase(login.rejected, (state, action) =&gt; {</span></div>
<div class="code-line" data-line="478"><span class="line-number">478</span><span class="line-content">        state.loading = false;</span></div>
<div class="code-line" data-line="479"><span class="line-number">479</span><span class="line-content">        state.error = action.error.message;</span></div>
<div class="code-line" data-line="480"><span class="line-number">480</span><span class="line-content">      })</span></div>
<div class="code-line" data-line="481"><span class="line-number">481</span><span class="line-content">      .addCase(register.pending, (state) =&gt; {</span></div>
<div class="code-line" data-line="482"><span class="line-number">482</span><span class="line-content">        state.loading = true;</span></div>
<div class="code-line" data-line="483"><span class="line-number">483</span><span class="line-content">        state.error = null;</span></div>
<div class="code-line" data-line="484"><span class="line-number">484</span><span class="line-content">      })</span></div>
<div class="code-line" data-line="485"><span class="line-number">485</span><span class="line-content">      .addCase(register.fulfilled, (state, action) =&gt; {</span></div>
<div class="code-line" data-line="486"><span class="line-number">486</span><span class="line-content">        state.loading = false;</span></div>
<div class="code-line" data-line="487"><span class="line-number">487</span><span class="line-content">        state.user = action.payload.user;</span></div>
<div class="code-line" data-line="488"><span class="line-number">488</span><span class="line-content">        state.token = action.payload.token;</span></div>
<div class="code-line" data-line="489"><span class="line-number">489</span><span class="line-content">      })</span></div>
<div class="code-line" data-line="490"><span class="line-number">490</span><span class="line-content">      .addCase(register.rejected, (state, action) =&gt; {</span></div>
<div class="code-line" data-line="491"><span class="line-number">491</span><span class="line-content">        state.loading = false;</span></div>
<div class="code-line" data-line="492"><span class="line-number">492</span><span class="line-content">        state.error = action.error.message;</span></div>
<div class="code-line" data-line="493"><span class="line-number">493</span><span class="line-content">      });</span></div>
<div class="code-line" data-line="494"><span class="line-number">494</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="495"><span class="line-number">495</span><span class="line-content">});</span></div>
<div class="code-line" data-line="496"><span class="line-number">496</span><span class="line-content"></span></div>
<div class="code-line" data-line="497"><span class="line-number">497</span><span class="line-content">export const { logout } = authSlice.actions;</span></div>
<div class="code-line" data-line="498"><span class="line-number">498</span><span class="line-content">export default authSlice.reducer;</span></div>
<div class="code-line" data-line="499"><span class="line-number">499</span><span class="line-content">import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';</span></div>
<div class="code-line" data-line="500"><span class="line-number">500</span><span class="line-content">import axios from 'axios';</span></div>
<div class="code-line" data-line="501"><span class="line-number">501</span><span class="line-content"></span></div>
<div class="code-line" data-line="502"><span class="line-number">502</span><span class="line-content">export const fetchReports = createAsyncThunk('data/fetchReports', async () =&gt; {</span></div>
<div class="code-line" data-line="503"><span class="line-number">503</span><span class="line-content">  const response = await axios.get('/api/v1/reports');</span></div>
<div class="code-line" data-line="504"><span class="line-number">504</span><span class="line-content">  return response.data;</span></div>
<div class="code-line" data-line="505"><span class="line-number">505</span><span class="line-content">});</span></div>
<div class="code-line" data-line="506"><span class="line-number">506</span><span class="line-content"></span></div>
<div class="code-line" data-line="507"><span class="line-number">507</span><span class="line-content">export const fetchDataEntries = createAsyncThunk('data/fetchDataEntries', async () =&gt; {</span></div>
<div class="code-line" data-line="508"><span class="line-number">508</span><span class="line-content">  const response = await axios.get('/api/v1/data');</span></div>
<div class="code-line" data-line="509"><span class="line-number">509</span><span class="line-content">  return response.data;</span></div>
<div class="code-line" data-line="510"><span class="line-number">510</span><span class="line-content">});</span></div>
<div class="code-line" data-line="511"><span class="line-number">511</span><span class="line-content"></span></div>
<div class="code-line" data-line="512"><span class="line-number">512</span><span class="line-content">const dataSlice = createSlice({</span></div>
<div class="code-line" data-line="513"><span class="line-number">513</span><span class="line-content">  name: 'data',</span></div>
<div class="code-line" data-line="514"><span class="line-number">514</span><span class="line-content">  initialState: {</span></div>
<div class="code-line" data-line="515"><span class="line-number">515</span><span class="line-content">    reports: [],</span></div>
<div class="code-line" data-line="516"><span class="line-number">516</span><span class="line-content">    dataEntries: [],</span></div>
<div class="code-line" data-line="517"><span class="line-number">517</span><span class="line-content">    loading: false,</span></div>
<div class="code-line" data-line="518"><span class="line-number">518</span><span class="line-content">    error: null</span></div>
<div class="code-line" data-line="519"><span class="line-number">519</span><span class="line-content">  },</span></div>
<div class="code-line" data-line="520"><span class="line-number">520</span><span class="line-content">  extraReducers: (builder) =&gt; {</span></div>
<div class="code-line" data-line="521"><span class="line-number">521</span><span class="line-content">    builder</span></div>
<div class="code-line" data-line="522"><span class="line-number">522</span><span class="line-content">      .addCase(fetchReports.pending, (state) =&gt; {</span></div>
<div class="code-line" data-line="523"><span class="line-number">523</span><span class="line-content">        state.loading = true;</span></div>
<div class="code-line" data-line="524"><span class="line-number">524</span><span class="line-content">        state.error = null;</span></div>
<div class="code-line" data-line="525"><span class="line-number">525</span><span class="line-content">      })</span></div>
<div class="code-line" data-line="526"><span class="line-number">526</span><span class="line-content">      .addCase(fetchReports.fulfilled, (state, action) =&gt; {</span></div>
<div class="code-line" data-line="527"><span class="line-number">527</span><span class="line-content">        state.loading = false;</span></div>
<div class="code-line" data-line="528"><span class="line-number">528</span><span class="line-content">        state.reports = action.payload;</span></div>
<div class="code-line" data-line="529"><span class="line-number">529</span><span class="line-content">      })</span></div>
<div class="code-line" data-line="530"><span class="line-number">530</span><span class="line-content">      .addCase(fetchReports.rejected, (state, action) =&gt; {</span></div>
<div class="code-line" data-line="531"><span class="line-number">531</span><span class="line-content">        state.loading = false;</span></div>
<div class="code-line" data-line="532"><span class="line-number">532</span><span class="line-content">        state.error = action.error.message;</span></div>
<div class="code-line" data-line="533"><span class="line-number">533</span><span class="line-content">      })</span></div>
<div class="code-line" data-line="534"><span class="line-number">534</span><span class="line-content">      .addCase(fetchDataEntries.pending, (state) =&gt; {</span></div>
<div class="code-line" data-line="535"><span class="line-number">535</span><span class="line-content">        state.loading = true;</span></div>
<div class="code-line" data-line="536"><span class="line-number">536</span><span class="line-content">        state.error = null;</span></div>
<div class="code-line" data-line="537"><span class="line-number">537</span><span class="line-content">      })</span></div>
<div class="code-line" data-line="538"><span class="line-number">538</span><span class="line-content">      .addCase(fetchDataEntries.fulfilled, (state, action) =&gt; {</span></div>
<div class="code-line" data-line="539"><span class="line-number">539</span><span class="line-content">        state.loading = false;</span></div>
<div class="code-line" data-line="540"><span class="line-number">540</span><span class="line-content">        state.dataEntries = action.payload;</span></div>
<div class="code-line" data-line="541"><span class="line-number">541</span><span class="line-content">      })</span></div>
<div class="code-line" data-line="542"><span class="line-number">542</span><span class="line-content">      .addCase(fetchDataEntries.rejected, (state, action) =&gt; {</span></div>
<div class="code-line" data-line="543"><span class="line-number">543</span><span class="line-content">        state.loading = false;</span></div>
<div class="code-line" data-line="544"><span class="line-number">544</span><span class="line-content">        state.error = action.error.message;</span></div>
<div class="code-line" data-line="545"><span class="line-number">545</span><span class="line-content">      });</span></div>
<div class="code-line" data-line="546"><span class="line-number">546</span><span class="line-content">  }</span></div>
<div class="code-line" data-line="547"><span class="line-number">547</span><span class="line-content">});</span></div>
<div class="code-line" data-line="548"><span class="line-number">548</span><span class="line-content"></span></div>
<div class="code-line" data-line="549"><span class="line-number">549</span><span class="line-content">export default dataSlice.reducer;</span></div>
<div class="code-line" data-line="550"><span class="line-number">550</span><span class="line-content">import React, { useState } from 'react';</span></div>
<div class="code-line" data-line="551"><span class="line-number">551</span><span class="line-content">import { useDispatch } from 'react-redux';</span></div>
<div class="code-line" data-line="552"><span class="line-number">552</span><span class="line-content">import { Button, TextField, Container, Typography, Paper } from '@mui/material';</span></div>
<div class="code-line" data-line="553"><span class="line-number">553</span><span class="line-content">import { addDataEntry } from '../features/data/dataSlice';</span></div>
<div class="code-line" data-line="554"><span class="line-number">554</span><span class="line-content"></span></div>
<div class="code-line" data-line="555"><span class="line-number">555</span><span class="line-content">const DataEntry = () =&gt; {</span></div>
<div class="code-line" data-line="556"><span class="line-number">556</span><span class="line-content">  const [source, setSource] = useState('');</span></div>
<div class="code-line" data-line="557"><span class="line-number">557</span><span class="line-content">  const [data, setData] = useState('');</span></div>
<div class="code-line" data-line="558"><span class="line-number">558</span><span class="line-content">  const dispatch = useDispatch();</span></div>
<div class="code-line" data-line="559"><span class="line-number">559</span><span class="line-content"></span></div>
<div class="code-line" data-line="560"><span class="line-number">560</span><span class="line-content">  const handleSubmit = (e) =&gt; {</span></div>
<div class="code-line" data-line="561"><span class="line-number">561</span><span class="line-content">    e.preventDefault();</span></div>
<div class="code-line" data-line="562"><span class="line-number">562</span><span class="line-content">    try {</span></div>
<div class="code-line" data-line="563"><span class="line-number">563</span><span class="line-content">      const parsedData = JSON.parse(data);</span></div>
<div class="code-line" data-line="564"><span class="line-number">564</span><span class="line-content">      dispatch(addDataEntry({ source, data: parsedData }));</span></div>
<div class="code-line" data-line="565"><span class="line-number">565</span><span class="line-content">      setSource('');</span></div>
<div class="code-line" data-line="566"><span class="line-number">566</span><span class="line-content">      setData('');</span></div>
<div class="code-line" data-line="567"><span class="line-number">567</span><span class="line-content">    } catch (error) {</span></div>
<div class="code-line" data-line="568"><span class="line-number">568</span><span class="line-content">      alert('Invalid JSON format');</span></div>
<div class="code-line" data-line="569"><span class="line-number">569</span><span class="line-content">    }</span></div>
<div class="code-line" data-line="570"><span class="line-number">570</span><span class="line-content">  };</span></div>
<div class="code-line" data-line="571"><span class="line-number">571</span><span class="line-content"></span></div>
<div class="code-line" data-line="572"><span class="line-number">572</span><span class="line-content">  return (</span></div>
<div class="code-line" data-line="573"><span class="line-number">573</span><span class="line-content">    &lt;Container&gt;</span></div>
<div class="code-line" data-line="574"><span class="line-number">574</span><span class="line-content">      &lt;Typography variant="h4" gutterBottom&gt;Data Entry&lt;/Typography&gt;</span></div>
<div class="code-line" data-line="575"><span class="line-number">575</span><span class="line-content">      &lt;Paper style={{ padding: 20 }}&gt;</span></div>
<div class="code-line" data-line="576"><span class="line-number">576</span><span class="line-content">        &lt;form onSubmit={handleSubmit}&gt;</span></div>
<div class="code-line" data-line="577"><span class="line-number">577</span><span class="line-content">          &lt;TextField</span></div>
<div class="code-line" data-line="578"><span class="line-number">578</span><span class="line-content">            label="Source"</span></div>
<div class="code-line" data-line="579"><span class="line-number">579</span><span class="line-content">            fullWidth</span></div>
<div class="code-line" data-line="580"><span class="line-number">580</span><span class="line-content">            margin="normal"</span></div>
<div class="code-line" data-line="581"><span class="line-number">581</span><span class="line-content">            value={source}</span></div>
<div class="code-line" data-line="582"><span class="line-number">582</span><span class="line-content">            onChange={(e) =&gt; setSource(e.target.value)}</span></div>
<div class="code-line" data-line="583"><span class="line-number">583</span><span class="line-content">            required</span></div>
<div class="code-line" data-line="584"><span class="line-number">584</span><span class="line-content">          /&gt;</span></div>
<div class="code-line" data-line="585"><span class="line-number">585</span><span class="line-content">          &lt;TextField</span></div>
<div class="code-line" data-line="586"><span class="line-number">586</span><span class="line-content">            label="Data (JSON)"</span></div>
<div class="code-line" data-line="587"><span class="line-number">587</span><span class="line-content">            fullWidth</span></div>
<div class="code-line" data-line="588"><span class="line-number">588</span><span class="line-content">            margin="normal"</span></div>
<div class="code-line" data-line="589"><span class="line-number">589</span><span class="line-content">            multiline</span></div>
<div class="code-line" data-line="590"><span class="line-number">590</span><span class="line-content">            rows={4}</span></div>
<div class="code-line" data-line="591"><span class="line-number">591</span><span class="line-content">            value={data}</span></div>
<div class="code-line" data-line="592"><span class="line-number">592</span><span class="line-content">            onChange={(e) =&gt; setData(e.target.value)}</span></div>
<div class="code-line" data-line="593"><span class="line-number">593</span><span class="line-content">            required</span></div>
<div class="code-line" data-line="594"><span class="line-number">594</span><span class="line-content">          /&gt;</span></div>
<div class="code-line" data-line="595"><span class="line-number">595</span><span class="line-content">          &lt;Button type="submit" variant="contained" color="primary" style={{ marginTop: 20 }}&gt;</span></div>
<div class="code-line" data-line="596"><span class="line-number">596</span><span class="line-content">            Submit</span></div>
<div class="code-line" data-line="597"><span class="line-number">597</span><span class="line-content">          &lt;/Button&gt;</span></div>
<div class="code-line" data-line="598"><span class="line-number">598</span><span class="line-content">        &lt;/form&gt;</span></div>
<div class="code-line" data-line="599"><span class="line-number">599</span><span class="line-content">      &lt;/Paper&gt;</span></div>
<div class="code-line" data-line="600"><span class="line-number">600</span><span class="line-content">    &lt;/Container&gt;</span></div>
<div class="code-line" data-line="601"><span class="line-number">601</span><span class="line-content">  );</span></div>
<div class="code-line" data-line="602"><span class="line-number">602</span><span class="line-content">};</span></div>
<div class="code-line" data-line="603"><span class="line-number">603</span><span class="line-content"></span></div>
<div class="code-line" data-line="604"><span class="line-number">604</span><span class="line-content">export default DataEntry;</span></div>
<div class="code-line" data-line="605"><span class="line-number">605</span><span class="line-content">import React from 'react';</span></div>
<div class="code-line" data-line="606"><span class="line-number">606</span><span class="line-content">import { useSelector } from 'react-redux';</span></div>
<div class="code-line" data-line="607"><span class="line-number">607</span><span class="line-content">import { Typography, Container, Paper, List, ListItem } from '@mui/material';</span></div>
<div class="code-line" data-line="608"><span class="line-number">608</span><span class="line-content"></span></div>
<div class="code-line" data-line="609"><span class="line-number">609</span><span class="line-content">const Reports = () =&gt; {</span></div>
<div class="code-line" data-line="610"><span class="line-number">610</span><span class="line-content">  const { reports, loading, error } = useSelector((state) =&gt; state.data);</span></div>
<div class="code-line" data-line="611"><span class="line-number">611</span><span class="line-content"></span></div>
<div class="code-line" data-line="612"><span class="line-number">612</span><span class="line-content">  if (loading) return &lt;Typography&gt;Loading...&lt;/Typography&gt;;</span></div>
<div class="code-line" data-line="613"><span class="line-number">613</span><span class="line-content">  if (error) return &lt;Typography color="error"&gt;{error}&lt;/Typography&gt;;</span></div>
<div class="code-line" data-line="614"><span class="line-number">614</span><span class="line-content"></span></div>
<div class="code-line" data-line="615"><span class="line-number">615</span><span class="line-content">  return (</span></div>
<div class="code-line" data-line="616"><span class="line-number">616</span><span class="line-content">    &lt;Container&gt;</span></div>
<div class="code-line" data-line="617"><span class="line-number">617</span><span class="line-content">      &lt;Typography variant="h4" gutterBottom&gt;Reports&lt;/Typography&gt;</span></div>
<div class="code-line" data-line="618"><span class="line-number">618</span><span class="line-content">      &lt;Paper&gt;</span></div>
<div class="code-line" data-line="619"><span class="line-number">619</span><span class="line-content">        &lt;List&gt;</span></div>
<div class="code-line" data-line="620"><span class="line-number">620</span><span class="line-content">          {reports.map((report) =&gt; (</span></div>
<div class="code-line" data-line="621"><span class="line-number">621</span><span class="line-content">            &lt;ListItem key={report.id}&gt;{report.title}&lt;/ListItem&gt;</span></div>
<div class="code-line" data-line="622"><span class="line-number">622</span><span class="line-content">          ))}</span></div>
<div class="code-line" data-line="623"><span class="line-number">623</span><span class="line-content">        &lt;/List&gt;</span></div>
<div class="code-line" data-line="624"><span class="line-number">624</span><span class="line-content">      &lt;/Paper&gt;</span></div>
<div class="code-line" data-line="625"><span class="line-number">625</span><span class="line-content">    &lt;/Container&gt;</span></div>
<div class="code-line" data-line="626"><span class="line-number">626</span><span class="line-content">  );</span></div>
<div class="code-line" data-line="627"><span class="line-number">627</span><span class="line-content">};</span></div>
<div class="code-line" data-line="628"><span class="line-number">628</span><span class="line-content"></span></div>
<div class="code-line" data-line="629"><span class="line-number">629</span><span class="line-content">export default Reports;</span></div>
<div class="code-line" data-line="630"><span class="line-number">630</span><span class="line-content">import React from 'react';</span></div>
<div class="code-line" data-line="631"><span class="line-number">631</span><span class="line-content">import { useMediaQuery } from '@mui/material';</span></div>
<div class="code-line" data-line="632"><span class="line-number">632</span><span class="line-content"></span></div>
<div class="code-line" data-line="633"><span class="line-number">633</span><span class="line-content">const MobileView = ({ children }) =&gt; {</span></div>
<div class="code-line" data-line="634"><span class="line-number">634</span><span class="line-content">  const isMobile = useMediaQuery('(max-width:600px)');</span></div>
<div class="code-line" data-line="635"><span class="line-number">635</span><span class="line-content"></span></div>
<div class="code-line" data-line="636"><span class="line-number">636</span><span class="line-content">  return isMobile ? &lt;div style={{ padding: '20px' }}&gt;{children}&lt;/div&gt; : null;</span></div>
<div class="code-line" data-line="637"><span class="line-number">637</span><span class="line-content">};</span></div>
<div class="code-line" data-line="638"><span class="line-number">638</span><span class="line-content"></span></div>
<div class="code-line" data-line="639"><span class="line-number">639</span><span class="line-content">export default MobileView;</span></div>
<div class="code-line" data-line="640"><span class="line-number">640</span><span class="line-content"># Use an official Node runtime as a parent image</span></div>
<div class="code-line" data-line="641"><span class="line-number">641</span><span class="line-content">FROM node:20.10</span></div>
<div class="code-line" data-line="642"><span class="line-number">642</span><span class="line-content"></span></div>
<div class="code-line" data-line="643"><span class="line-number">643</span><span class="line-content"># Set the working directory</span></div>
<div class="code-line" data-line="644"><span class="line-number">644</span><span class="line-content">WORKDIR /usr/src/app</span></div>
<div class="code-line" data-line="645"><span class="line-number">645</span><span class="line-content"></span></div>
<div class="code-line" data-line="646"><span class="line-number">646</span><span class="line-content"># Copy package.json and package-lock.json</span></div>
<div class="code-line" data-line="647"><span class="line-number">647</span><span class="line-content">COPY package*.json ./</span></div>
<div class="code-line" data-line="648"><span class="line-number">648</span><span class="line-content"></span></div>
<div class="code-line" data-line="649"><span class="line-number">649</span><span class="line-content"># Install dependencies</span></div>
<div class="code-line" data-line="650"><span class="line-number">650</span><span class="line-content">RUN npm install</span></div>
<div class="code-line" data-line="651"><span class="line-number">651</span><span class="line-content"></span></div>
<div class="code-line" data-line="652"><span class="line-number">652</span><span class="line-content"># Copy the rest of the application code</span></div>
<div class="code-line" data-line="653"><span class="line-number">653</span><span class="line-content">COPY . .</span></div>
<div class="code-line" data-line="654"><span class="line-number">654</span><span class="line-content"></span></div>
<div class="code-line" data-line="655"><span class="line-number">655</span><span class="line-content"># Expose the port the app runs on</span></div>
<div class="code-line" data-line="656"><span class="line-number">656</span><span class="line-content">EXPOSE 3000</span></div>
<div class="code-line" data-line="657"><span class="line-number">657</span><span class="line-content"></span></div>
<div class="code-line" data-line="658"><span class="line-number">658</span><span class="line-content"># Start the application</span></div>
<div class="code-line" data-line="659"><span class="line-number">659</span><span class="line-content">CMD ["node", "backend/server.js"]</span></div>
<div class="code-line" data-line="660"><span class="line-number">660</span><span class="line-content">version: '3.8'</span></div>
<div class="code-line" data-line="661"><span class="line-number">661</span><span class="line-content"></span></div>
<div class="code-line" data-line="662"><span class="line-number">662</span><span class="line-content">services:</span></div>
<div class="code-line" data-line="663"><span class="line-number">663</span><span class="line-content">  backend:</span></div>
<div class="code-line" data-line="664"><span class="line-number">664</span><span class="line-content">    build: .</span></div>
<div class="code-line" data-line="665"><span class="line-number">665</span><span class="line-content">    ports:</span></div>
<div class="code-line" data-line="666"><span class="line-number">666</span><span class="line-content">      - "3000:3000"</span></div>
<div class="code-line" data-line="667"><span class="line-number">667</span><span class="line-content">    environment:</span></div>
<div class="code-line" data-line="668"><span class="line-number">668</span><span class="line-content">      - DB_HOST=postgres</span></div>
<div class="code-line" data-line="669"><span class="line-number">669</span><span class="line-content">      - DB_NAME=edms</span></div>
<div class="code-line" data-line="670"><span class="line-number">670</span><span class="line-content">      - DB_USER=postgres</span></div>
<div class="code-line" data-line="671"><span class="line-number">671</span><span class="line-content">      - DB_PASSWORD=postgres</span></div>
<div class="code-line" data-line="672"><span class="line-number">672</span><span class="line-content">      - REDIS_URL=redis://redis:6379</span></div>
<div class="code-line" data-line="673"><span class="line-number">673</span><span class="line-content">      - JWT_SECRET=mysecretkey</span></div>
<div class="code-line" data-line="674"><span class="line-number">674</span><span class="line-content">    depends_on:</span></div>
<div class="code-line" data-line="675"><span class="line-number">675</span><span class="line-content">      - postgres</span></div>
<div class="code-line" data-line="676"><span class="line-number">676</span><span class="line-content">      - redis</span></div>
<div class="code-line" data-line="677"><span class="line-number">677</span><span class="line-content"></span></div>
<div class="code-line" data-line="678"><span class="line-number">678</span><span class="line-content">  postgres:</span></div>
<div class="code-line" data-line="679"><span class="line-number">679</span><span class="line-content">    image: postgres:14.2</span></div>
<div class="code-line" data-line="680"><span class="line-number">680</span><span class="line-content">    environment:</span></div>
<div class="code-line" data-line="681"><span class="line-number">681</span><span class="line-content">      - POSTGRES_DB=edms</span></div>
<div class="code-line" data-line="682"><span class="line-number">682</span><span class="line-content">      - POSTGRES_USER=postgres</span></div>
<div class="code-line" data-line="683"><span class="line-number">683</span><span class="line-content">      - POSTGRES_PASSWORD=postgres</span></div>
<div class="code-line" data-line="684"><span class="line-number">684</span><span class="line-content">    ports:</span></div>
<div class="code-line" data-line="685"><span class="line-number">685</span><span class="line-content">      - "5432:5432"</span></div>
<div class="code-line" data-line="686"><span class="line-number">686</span><span class="line-content">    volumes:</span></div>
<div class="code-line" data-line="687"><span class="line-number">687</span><span class="line-content">      - postgres_data:/var/lib/postgresql/data</span></div>
<div class="code-line" data-line="688"><span class="line-number">688</span><span class="line-content"></span></div>
<div class="code-line" data-line="689"><span class="line-number">689</span><span class="line-content">  redis:</span></div>
<div class="code-line" data-line="690"><span class="line-number">690</span><span class="line-content">    image: redis:6.2</span></div>
<div class="code-line" data-line="691"><span class="line-number">691</span><span class="line-content">    ports:</span></div>
<div class="code-line" data-line="692"><span class="line-number">692</span><span class="line-content">      - "6379:6379"</span></div>
<div class="code-line" data-line="693"><span class="line-number">693</span><span class="line-content"></span></div>
<div class="code-line" data-line="694"><span class="line-number">694</span><span class="line-content">volumes:</span></div>
<div class="code-line" data-line="695"><span class="line-number">695</span><span class="line-content">  postgres_data:</span></div>
<div class="code-line" data-line="696"><span class="line-number">696</span><span class="line-content">apiVersion: apps/v1</span></div>
<div class="code-line" data-line="697"><span class="line-number">697</span><span class="line-content">kind: Deployment</span></div>
<div class="code-line" data-line="698"><span class="line-number">698</span><span class="line-content">metadata:</span></div>
<div class="code-line" data-line="699"><span class="line-number">699</span><span class="line-content">  name: edms-deployment</span></div>
<div class="code-line" data-line="700"><span class="line-number">700</span><span class="line-content">  labels:</span></div>
<div class="code-line" data-line="701"><span class="line-number">701</span><span class="line-content">    app: edms</span></div>
<div class="code-line" data-line="702"><span class="line-number">702</span><span class="line-content">spec:</span></div>
<div class="code-line" data-line="703"><span class="line-number">703</span><span class="line-content">  replicas: 3</span></div>
<div class="code-line" data-line="704"><span class="line-number">704</span><span class="line-content">  selector:</span></div>
<div class="code-line" data-line="705"><span class="line-number">705</span><span class="line-content">    matchLabels:</span></div>
<div class="code-line" data-line="706"><span class="line-number">706</span><span class="line-content">      app: edms</span></div>
<div class="code-line" data-line="707"><span class="line-number">707</span><span class="line-content">  template:</span></div>
<div class="code-line" data-line="708"><span class="line-number">708</span><span class="line-content">    metadata:</span></div>
<div class="code-line" data-line="709"><span class="line-number">709</span><span class="line-content">      labels:</span></div>
<div class="code-line" data-line="710"><span class="line-number">710</span><span class="line-content">        app: edms</span></div>
<div class="code-line" data-line="711"><span class="line-number">711</span><span class="line-content">    spec:</span></div>
<div class="code-line" data-line="712"><span class="line-number">712</span><span class="line-content">      containers:</span></div>
<div class="code-line" data-line="713"><span class="line-number">713</span><span class="line-content">      - name: edms</span></div>
<div class="code-line" data-line="714"><span class="line-number">714</span><span class="line-content">        image: your-docker-registry/edms:latest</span></div>
<div class="code-line" data-line="715"><span class="line-number">715</span><span class="line-content">        ports:</span></div>
<div class="code-line" data-line="716"><span class="line-number">716</span><span class="line-content">        - containerPort: 3000</span></div>
<div class="code-line" data-line="717"><span class="line-number">717</span><span class="line-content">        env:</span></div>
<div class="code-line" data-line="718"><span class="line-number">718</span><span class="line-content">        - name: DB_HOST</span></div>
<div class="code-line" data-line="719"><span class="line-number">719</span><span class="line-content">          value: "postgres"</span></div>
<div class="code-line" data-line="720"><span class="line-number">720</span><span class="line-content">        - name: DB_NAME</span></div>
<div class="code-line" data-line="721"><span class="line-number">721</span><span class="line-content">          value: "edms"</span></div>
<div class="code-line" data-line="722"><span class="line-number">722</span><span class="line-content">        - name: DB_USER</span></div>
<div class="code-line" data-line="723"><span class="line-number">723</span><span class="line-content">          value: "postgres"</span></div>
<div class="code-line" data-line="724"><span class="line-number">724</span><span class="line-content">        - name: DB_PASSWORD</span></div>
<div class="code-line" data-line="725"><span class="line-number">725</span><span class="line-content">          value: "postgres"</span></div>
<div class="code-line" data-line="726"><span class="line-number">726</span><span class="line-content">        - name: REDIS_URL</span></div>
<div class="code-line" data-line="727"><span class="line-number">727</span><span class="line-content">          value: "redis://redis:6379"</span></div>
<div class="code-line" data-line="728"><span class="line-number">728</span><span class="line-content">        - name: JWT_SECRET</span></div>
<div class="code-line" data-line="729"><span class="line-number">729</span><span class="line-content">          value: "mysecretkey"</span></div>
<div class="code-line" data-line="730"><span class="line-number">730</span><span class="line-content">      imagePullPolicy: IfNotPresent</span></div>
<div class="code-line" data-line="731"><span class="line-number">731</span><span class="line-content">apiVersion: v1</span></div>
<div class="code-line" data-line="732"><span class="line-number">732</span><span class="line-content">kind: Service</span></div>
<div class="code-line" data-line="733"><span class="line-number">733</span><span class="line-content">metadata:</span></div>
<div class="code-line" data-line="734"><span class="line-number">734</span><span class="line-content">  name: edms-service</span></div>
<div class="code-line" data-line="735"><span class="line-number">735</span><span class="line-content">spec:</span></div>
<div class="code-line" data-line="736"><span class="line-number">736</span><span class="line-content">  type: LoadBalancer</span></div>
<div class="code-line" data-line="737"><span class="line-number">737</span><span class="line-content">  selector:</span></div>
<div class="code-line" data-line="738"><span class="line-number">738</span><span class="line-content">    app: edms</span></div>
<div class="code-line" data-line="739"><span class="line-number">739</span><span class="line-content">  ports:</span></div>
<div class="code-line" data-line="740"><span class="line-number">740</span><span class="line-content">    - protocol: TCP</span></div>
<div class="code-line" data-line="741"><span class="line-number">741</span><span class="line-content">      port: 80</span></div>
<div class="code-line" data-line="742"><span class="line-number">742</span><span class="line-content">      targetPort: 3000</span></div>
<div class="code-line" data-line="743"><span class="line-number">743</span><span class="line-content">.env</span></div>
<div class="code-line" data-line="744"><span class="line-number">744</span><span class="line-content">node_modules</span></div>
<div class="code-line" data-line="745"><span class="line-number">745</span><span class="line-content">frontend/node_modules</span></div>
<div class="code-line" data-line="746"><span class="line-number">746</span><span class="line-content">dist</span></div>
<div class="code-line" data-line="747"><span class="line-number">747</span><span class="line-content">build</span></div>
<div class="code-line" data-line="748"><span class="line-number">748</span><span class="line-content">.env.example</span></div>
<div class="code-line" data-line="749"><span class="line-number">749</span><span class="line-content">DB_HOST=localhost</span></div>
<div class="code-line" data-line="750"><span class="line-number">750</span><span class="line-content">DB_NAME=edms</span></div>
<div class="code-line" data-line="751"><span class="line-number">751</span><span class="line-content">DB_USER=postgres</span></div>
<div class="code-line" data-line="752"><span class="line-number">752</span><span class="line-content">DB_PASSWORD=postgres</span></div>
<div class="code-line" data-line="753"><span class="line-number">753</span><span class="line-content">JWT_SECRET=mysecretkey</span></div>
<div class="code-line" data-line="754"><span class="line-number">754</span><span class="line-content">REDIS_URL=redis://localhost:6379</span></div>
<div class="code-line" data-line="755"><span class="line-number">755</span><span class="line-content">PORT=3000</span></div>
<div class="code-line" data-line="756"><span class="line-number">756</span><span class="line-content">REACT_APP_API_URL=http://localhost:3000</span></div>
<div class="code-line" data-line="757"><span class="line-number">757</span><span class="line-content"># Enterprise Data Management System</span></div>
<div class="code-line" data-line="758"><span class="line-number">758</span><span class="line-content"></span></div>
<div class="code-line" data-line="759"><span class="line-number">759</span><span class="line-content">## Overview</span></div>
<div class="code-line" data-line="760"><span class="line-number">760</span><span class="line-content"></span></div>
<div class="code-line" data-line="761"><span class="line-number">761</span><span class="line-content">The Enterprise Data Management System is a comprehensive software solution designed to enhance operational efficiency, provide real-time insights, and ensure scalability and security.</span></div>
<div class="code-line" data-line="762"><span class="line-number">762</span><span class="line-content"></span></div>
<div class="code-line" data-line="763"><span class="line-number">763</span><span class="line-content">## Features</span></div>
<div class="code-line" data-line="764"><span class="line-number">764</span><span class="line-content"></span></div>
<div class="code-line" data-line="765"><span class="line-number">765</span><span class="line-content">- Automated Data Entry</span></div>
<div class="code-line" data-line="766"><span class="line-number">766</span><span class="line-content">- Real-time Reporting</span></div>
<div class="code-line" data-line="767"><span class="line-number">767</span><span class="line-content">- Customizable Dashboards</span></div>
<div class="code-line" data-line="768"><span class="line-number">768</span><span class="line-content">- Mobile Accessibility</span></div>
<div class="code-line" data-line="769"><span class="line-number">769</span><span class="line-content"></span></div>
<div class="code-line" data-line="770"><span class="line-number">770</span><span class="line-content">## Getting Started</span></div>
<div class="code-line" data-line="771"><span class="line-number">771</span><span class="line-content"></span></div>
<div class="code-line" data-line="772"><span class="line-number">772</span><span class="line-content">### Prerequisites</span></div>
<div class="code-line" data-line="773"><span class="line-number">773</span><span class="line-content"></span></div>
<div class="code-line" data-line="774"><span class="line-number">774</span><span class="line-content">- Node.js 20.10</span></div>
<div class="code-line" data-line="775"><span class="line-number">775</span><span class="line-content">- PostgreSQL 14.2</span></div>
<div class="code-line" data-line="776"><span class="line-number">776</span><span class="line-content">- Redis 6.2</span></div>
<div class="code-line" data-line="777"><span class="line-number">777</span><span class="line-content">- Docker 20.10</span></div>
<div class="code-line" data-line="778"><span class="line-number">778</span><span class="line-content">- Kubernetes 1.24</span></div>
<div class="code-line" data-line="779"><span class="line-number">779</span><span class="line-content"></span></div>
<div class="code-line" data-line="780"><span class="line-number">780</span><span class="line-content">### Installation</span></div>
<div class="code-line" data-line="781"><span class="line-number">781</span><span class="line-content"></span></div>
<div class="code-line" data-line="782"><span class="line-number">782</span><span class="line-content">1. Clone the repository</span></div>
<div class="code-line" data-line="783"><span class="line-number">783</span><span class="line-content">2. Install dependencies: `npm install`</span></div>
<div class="code-line" data-line="784"><span class="line-number">784</span><span class="line-content">3. Set up environment variables</span></div>
<div class="code-line" data-line="785"><span class="line-number">785</span><span class="line-content">4. Run migrations: `npm run db:migrate`</span></div>
<div class="code-line" data-line="786"><span class="line-number">786</span><span class="line-content">5. Start the application: `npm run dev`</span></div>
<div class="code-line" data-line="787"><span class="line-number">787</span><span class="line-content"></span></div>
<div class="code-line" data-line="788"><span class="line-number">788</span><span class="line-content">## Testing</span></div>
<div class="code-line" data-line="789"><span class="line-number">789</span><span class="line-content"></span></div>
<div class="code-line" data-line="790"><span class="line-number">790</span><span class="line-content">Run all tests: `npm test`</span></div>
<div class="code-line" data-line="791"><span class="line-number">791</span><span class="line-content">Run unit tests: `npm run test:unit`</span></div>
<div class="code-line" data-line="792"><span class="line-number">792</span><span class="line-content">Run integration tests: `npm run test:integration`</span></div>
<div class="code-line" data-line="793"><span class="line-number">793</span><span class="line-content"></span></div>
<div class="code-line" data-line="794"><span class="line-number">794</span><span class="line-content">## Deployment</span></div>
<div class="code-line" data-line="795"><span class="line-number">795</span><span class="line-content"></span></div>
<div class="code-line" data-line="796"><span class="line-number">796</span><span class="line-content">Use Docker and Kubernetes for production deployment:</span></div>
<div class="code-line" data-line="797"><span class="line-number">797</span><span class="line-content">1. Build Docker image</span></div>
<div class="code-line" data-line="798"><span class="line-number">798</span><span class="line-content">2. Push to container registry</span></div>
<div class="code-line" data-line="799"><span class="line-number">799</span><span class="line-content">3. Deploy to Kubernetes cluster</span></div>
<div class="code-line" data-line="800"><span class="line-number">800</span><span class="line-content"></span></div>
<div class="code-line" data-line="801"><span class="line-number">801</span><span class="line-content">## Documentation</span></div>
<div class="code-line" data-line="802"><span class="line-number">802</span><span class="line-content"></span></div>
<div class="code-line" data-line="803"><span class="line-number">803</span><span class="line-content">- Architecture documentation</span></div>
<div class="code-line" data-line="804"><span class="line-number">804</span><span class="line-content">- User guide</span></div>
<div class="code-line" data-line="805"><span class="line-number">805</span><span class="line-content">- API documentation</span></div>
<div class="code-line" data-line="806"><span class="line-number">806</span><span class="line-content">- Deployment guide</span></div>
<div class="code-line" data-line="807"><span class="line-number">807</span><span class="line-content">- Troubleshooting guide</span></div>
<div class="code-line" data-line="808"><span class="line-number">808</span><span class="line-content"></span></div>
<div class="code-line" data-line="809"><span class="line-number">809</span><span class="line-content">## License</span></div>
<div class="code-line" data-line="810"><span class="line-number">810</span><span class="line-content"></span></div>
<div class="code-line" data-line="811"><span class="line-number">811</span><span class="line-content">MIT License</span></div>

                </div>
            </div>
        </div>
    </div>
    
    <script>
        // XEdit data and state
        const xeditPaths = {"7x001": {"display_name": "authenticate", "type": "function", "filename": "backend/middleware/authMiddleware.js", "language": "javascript", "line_start": 4, "line_end": 14, "lines_display": "4-14", "technical_path": "backend/middleware/authMiddleware.js::function.authenticate/lines[4-14]", "optimal_model": "llama-3.1-70b-versatile"}, "7x002": {"display_name": "authorize", "type": "function", "filename": "backend/middleware/authMiddleware.js", "language": "javascript", "line_start": 19, "line_end": 26, "lines_display": "19-26", "technical_path": "backend/middleware/authMiddleware.js::function.authorize/lines[19-26]", "optimal_model": "llama-3.1-70b-versatile"}, "7x003": {"display_name": "App", "type": "function", "filename": "frontend/src/App.js", "language": "javascript", "line_start": 7, "line_end": 22, "lines_display": "7-22", "technical_path": "frontend/src/App.js::function.App/lines[7-22]", "optimal_model": "llama-3.1-70b-versatile"}, "7x004": {"display_name": "Dashboard", "type": "function", "filename": "frontend/src/components/Dashboard.js", "language": "javascript", "line_start": 6, "line_end": 16, "lines_display": "6-16", "technical_path": "frontend/src/components/Dashboard.js::function.Dashboard/lines[6-16]", "optimal_model": "llama-3.1-70b-versatile"}, "7x005": {"display_name": "PrivateRoute", "type": "function", "filename": "frontend/src/components/PrivateRoute.js", "language": "javascript", "line_start": 5, "line_end": 10, "lines_display": "5-10", "technical_path": "frontend/src/components/PrivateRoute.js::function.PrivateRoute/lines[5-10]", "optimal_model": "llama-3.1-70b-versatile"}, "7x006": {"display_name": "DataEntry", "type": "function", "filename": "frontend/src/components/DataEntry.js", "language": "javascript", "line_start": 6, "line_end": 16, "lines_display": "6-16", "technical_path": "frontend/src/components/DataEntry.js::function.DataEntry/lines[6-16]", "optimal_model": "llama-3.1-70b-versatile"}, "7x007": {"display_name": "handleSubmit", "type": "function", "filename": "frontend/src/components/DataEntry.js", "language": "javascript", "line_start": 11, "line_end": 21, "lines_display": "11-21", "technical_path": "frontend/src/components/DataEntry.js::function.handleSubmit/lines[11-21]", "optimal_model": "llama-3.1-70b-versatile"}, "7x008": {"display_name": "Reports", "type": "function", "filename": "frontend/src/components/Reports.js", "language": "javascript", "line_start": 5, "line_end": 15, "lines_display": "5-15", "technical_path": "frontend/src/components/Reports.js::function.Reports/lines[5-15]", "optimal_model": "llama-3.1-70b-versatile"}, "7x009": {"display_name": "MobileView", "type": "function", "filename": "frontend/src/components/MobileView.js", "language": "javascript", "line_start": 4, "line_end": 10, "lines_display": "4-10", "technical_path": "frontend/src/components/MobileView.js::function.MobileView/lines[4-10]", "optimal_model": "llama-3.1-70b-versatile"}};
        const projectFiles = [{"filename":"package.json","language":"json","code_b64":"ewogICJuYW1lIjogImVudGVycHJpc2UtZGF0YS1tYW5hZ2VtZW50IiwKICAidmVyc2lvbiI6ICIxLjAuMCIsCiAgImRlc2NyaXB0aW9uIjogIkVudGVycHJpc2UgRGF0YSBNYW5hZ2VtZW50IFN5c3RlbSIsCiAgIm1haW4iOiAiYmFja2VuZC9zZXJ2ZXIuanMiLAogICJzY3JpcHRzIjogewogICAgInN0YXJ0IjogIm5vZGUgYmFja2VuZC9zZXJ2ZXIuanMiLAogICAgImRldiI6ICJjb25jdXJyZW50bHkgXCJub2RlbW9uIGJhY2tlbmQvc2VydmVyLmpzXCIgXCJjZCBmcm9udGVuZCAmJiBucG0gc3RhcnRcIiIsCiAgICAiYnVpbGQiOiAiY2QgZnJvbnRlbmQgJiYgbnBtIHJ1biBidWlsZCIsCiAgICAidGVzdCI6ICJqZXN0IiwKICAgICJ0ZXN0OnVuaXQiOiAiamVzdCAtLXRlc3RSZWdleD11bml0IiwKICAgICJ0ZXN0OmludGVncmF0aW9uIjogImplc3QgLS10ZXN0UmVnZXg9aW50ZWdyYXRpb24iLAogICAgImRiOm1pZ3JhdGUiOiAic2VxdWVsaXplIGRiOm1pZ3JhdGUiLAogICAgImRiOnNlZWQiOiAic2VxdWVsaXplIGRiOnNlZWQ6YWxsIiwKICAgICJsaW50IjogImVzbGludCAuIiwKICAgICJmb3JtYXQiOiAicHJldHRpZXIgLS13cml0ZSAuIgogIH0sCiAgImRlcGVuZGVuY2llcyI6IHsKICAgICJleHByZXNzIjogIl40LjE4LjIiLAogICAgInBnIjogIl44LjguMCIsCiAgICAic2VxdWVsaXplIjogIl42LjIxLjUiLAogICAgImpzb253ZWJ0b2tlbiI6ICJeOS4wLjAiLAogICAgImJjcnlwdGpzIjogIl4yLjQuMyIsCiAgICAicmVkaXMiOiAiXjQuMy4xIiwKICAgICJ3aW5zdG9uIjogIl4zLjExLjAiLAogICAgImRvdGVudiI6ICJeMTYuMC4zIgogIH0sCiAgImRldkRlcGVuZGVuY2llcyI6IHsKICAgICJqZXN0IjogIl4yOS41LjAiLAogICAgInN1cGVydGVzdCI6ICJeNi4zLjMiLAogICAgImVzbGludCI6ICJeOC41NC4wIiwKICAgICJwcmV0dGllciI6ICJeMy4yLjQiLAogICAgIm5vZGVtb24iOiAiXjIuMC4yMCIsCiAgICAiY29uY3VycmVudGx5IjogIl44LjAuMSIKICB9Cn0=","code":""},{"filename":"backend/config/db.js","language":"javascript","code_b64":"cmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7CmNvbnN0IHsgU2VxdWVsaXplIH0gPSByZXF1aXJlKCdzZXF1ZWxpemUnKTsKCmNvbnN0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoCiAgcHJvY2Vzcy5lbnYuREJfTkFNRSwKICBwcm9jZXNzLmVudi5EQl9VU0VSLAogIHByb2Nlc3MuZW52LkRCX1BBU1NXT1JELAogIHsKICAgIGhvc3Q6IHByb2Nlc3MuZW52LkRCX0hPU1QsCiAgICBkaWFsZWN0OiAncG9zdGdyZXMnLAogICAgbG9nZ2luZzogZmFsc2UKICB9Cik7Cgpjb25zdCBjb25uZWN0REIgPSBhc3luYyAoKSA9PiB7CiAgdHJ5IHsKICAgIGF3YWl0IHNlcXVlbGl6ZS5hdXRoZW50aWNhdGUoKTsKICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjb25uZWN0aW9uIGhhcyBiZWVuIGVzdGFibGlzaGVkIHN1Y2Nlc3NmdWxseS4nKTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGNvbm5lY3QgdG8gdGhlIGRhdGFiYXNlOicsIGVycm9yKTsKICB9Cn07Cgptb2R1bGUuZXhwb3J0cyA9IHsgc2VxdWVsaXplLCBjb25uZWN0REIgfTs=","code":""},{"filename":"backend/models/User.js","language":"javascript","code_b64":"Y29uc3QgeyBEYXRhVHlwZXMgfSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpOwpjb25zdCBzZXF1ZWxpemUgPSByZXF1aXJlKCcuLi9jb25maWcvZGInKTsKCmNvbnN0IFVzZXIgPSBzZXF1ZWxpemUuZGVmaW5lKCdVc2VyJywgewogIGlkOiB7CiAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUiwKICAgIHByaW1hcnlLZXk6IHRydWUsCiAgICBhdXRvSW5jcmVtZW50OiB0cnVlCiAgfSwKICB1c2VybmFtZTogewogICAgdHlwZTogRGF0YVR5cGVzLlNUUklORywKICAgIGFsbG93TnVsbDogZmFsc2UsCiAgICB1bmlxdWU6IHRydWUKICB9LAogIGVtYWlsOiB7CiAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLAogICAgYWxsb3dOdWxsOiBmYWxzZSwKICAgIHVuaXF1ZTogdHJ1ZSwKICAgIHZhbGlkYXRlOiB7CiAgICAgIGlzRW1haWw6IHRydWUKICAgIH0KICB9LAogIHBhc3N3b3JkOiB7CiAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLAogICAgYWxsb3dOdWxsOiBmYWxzZQogIH0sCiAgcm9sZTogewogICAgdHlwZTogRGF0YVR5cGVzLkVOVU0oJ2FkbWluJywgJ3VzZXInKSwKICAgIGRlZmF1bHRWYWx1ZTogJ3VzZXInCiAgfQp9LCB7CiAgdGltZXN0YW1wczogdHJ1ZSwKICBwYXJhbm9pZDogdHJ1ZQp9KTsKCm1vZHVsZS5leHBvcnRzID0gVXNlcjs=","code":""},{"filename":"backend/models/DataEntry.js","language":"javascript","code_b64":"Y29uc3QgeyBEYXRhVHlwZXMgfSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpOwpjb25zdCBzZXF1ZWxpemUgPSByZXF1aXJlKCcuLi9jb25maWcvZGInKTsKCmNvbnN0IERhdGFFbnRyeSA9IHNlcXVlbGl6ZS5kZWZpbmUoJ0RhdGFFbnRyeScsIHsKICBpZDogewogICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsCiAgICBwcmltYXJ5S2V5OiB0cnVlLAogICAgYXV0b0luY3JlbWVudDogdHJ1ZQogIH0sCiAgc291cmNlOiB7CiAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLAogICAgYWxsb3dOdWxsOiBmYWxzZQogIH0sCiAgZGF0YTogewogICAgdHlwZTogRGF0YVR5cGVzLkpTT04sCiAgICBhbGxvd051bGw6IGZhbHNlCiAgfSwKICBzdGF0dXM6IHsKICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKCdwZW5kaW5nJywgJ3Byb2Nlc3NlZCcsICdmYWlsZWQnKSwKICAgIGRlZmF1bHRWYWx1ZTogJ3BlbmRpbmcnCiAgfQp9LCB7CiAgdGltZXN0YW1wczogdHJ1ZQp9KTsKCm1vZHVsZS5leHBvcnRzID0gRGF0YUVudHJ5Ow==","code":""},{"filename":"backend/models/Report.js","language":"javascript","code_b64":"Y29uc3QgeyBEYXRhVHlwZXMgfSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpOwpjb25zdCBzZXF1ZWxpemUgPSByZXF1aXJlKCcuLi9jb25maWcvZGInKTsKCmNvbnN0IFJlcG9ydCA9IHNlcXVlbGl6ZS5kZWZpbmUoJ1JlcG9ydCcsIHsKICBpZDogewogICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsCiAgICBwcmltYXJ5S2V5OiB0cnVlLAogICAgYXV0b0luY3JlbWVudDogdHJ1ZQogIH0sCiAgdGl0bGU6IHsKICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsCiAgICBhbGxvd051bGw6IGZhbHNlCiAgfSwKICBjb250ZW50OiB7CiAgICB0eXBlOiBEYXRhVHlwZXMuSlNPTiwKICAgIGFsbG93TnVsbDogZmFsc2UKICB9LAogIHR5cGU6IHsKICAgIHR5cGU6IERhdGFUeXBlcy5FTlVNKCdkYWlseScsICd3ZWVrbHknLCAnbW9udGhseScpLAogICAgZGVmYXVsdFZhbHVlOiAnZGFpbHknCiAgfQp9LCB7CiAgdGltZXN0YW1wczogdHJ1ZQp9KTsKCm1vZHVsZS5leHBvcnRzID0gUmVwb3J0Ow==","code":""},{"filename":"backend/services/authService.js","language":"javascript","code_b64":"Y29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKTsKY29uc3QgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9Vc2VyJyk7Cgpjb25zdCByZWdpc3RlclVzZXIgPSBhc3luYyAodXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCkgPT4gewogIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKTsKICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5jcmVhdGUoeyB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCB9KTsKICByZXR1cm4gdXNlcjsKfTsKCmNvbnN0IGxvZ2luVXNlciA9IGFzeW5jIChlbWFpbCwgcGFzc3dvcmQpID0+IHsKICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgd2hlcmU6IHsgZW1haWwgfSB9KTsKICBpZiAoIXVzZXIpIHsKICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTsKICB9CiAgY29uc3QgaXNNYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTsKICBpZiAoIWlzTWF0Y2gpIHsKICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjcmVkZW50aWFscycpOwogIH0KICByZXR1cm4gdXNlcjsKfTsKCm1vZHVsZS5leHBvcnRzID0geyByZWdpc3RlclVzZXIsIGxvZ2luVXNlciB9Ow==","code":""},{"filename":"backend/controllers/authController.js","language":"javascript","code_b64":"Y29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7CmNvbnN0IHsgcmVnaXN0ZXJVc2VyLCBsb2dpblVzZXIgfSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL2F1dGhTZXJ2aWNlJyk7CmNvbnN0IHsgSldUX1NFQ1JFVCB9ID0gcHJvY2Vzcy5lbnY7Cgpjb25zdCByZWdpc3RlciA9IGFzeW5jIChyZXEsIHJlcykgPT4gewogIHRyeSB7CiAgICBjb25zdCB7IHVzZXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5OwogICAgY29uc3QgdXNlciA9IGF3YWl0IHJlZ2lzdGVyVXNlcih1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkKTsKICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyBpZDogdXNlci5pZCwgcm9sZTogdXNlci5yb2xlIH0sIEpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAnMWgnIH0pOwogICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyB0b2tlbiwgdXNlciB9KTsKICB9IGNhdGNoIChlcnJvcikgewogICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTsKICB9Cn07Cgpjb25zdCBsb2dpbiA9IGFzeW5jIChyZXEsIHJlcykgPT4gewogIHRyeSB7CiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7CiAgICBjb25zdCB1c2VyID0gYXdhaXQgbG9naW5Vc2VyKGVtYWlsLCBwYXNzd29yZCk7CiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgaWQ6IHVzZXIuaWQsIHJvbGU6IHVzZXIucm9sZSB9LCBKV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogJzFoJyB9KTsKICAgIHJlcy5qc29uKHsgdG9rZW4sIHVzZXIgfSk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7CiAgfQp9OwoKbW9kdWxlLmV4cG9ydHMgPSB7IHJlZ2lzdGVyLCBsb2dpbiB9Ow==","code":""},{"filename":"backend/middleware/authMiddleware.js","language":"javascript","code_b64":"Y29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7CmNvbnN0IHsgSldUX1NFQ1JFVCB9ID0gcHJvY2Vzcy5lbnY7Cgpjb25zdCBhdXRoZW50aWNhdGUgPSAocmVxLCByZXMsIG5leHQpID0+IHsKICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXIoJ0F1dGhvcml6YXRpb24nKT8ucmVwbGFjZSgnQmVhcmVyICcsICcnKTsKICBpZiAoIXRva2VuKSB7CiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ05vIHRva2VuIHByb3ZpZGVkJyB9KTsKICB9CgogIHRyeSB7CiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCk7CiAgICByZXEudXNlciA9IGRlY29kZWQ7CiAgICBuZXh0KCk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHRva2VuJyB9KTsKICB9Cn07Cgpjb25zdCBhdXRob3JpemUgPSAocm9sZSkgPT4gKHJlcSwgcmVzLCBuZXh0KSA9PiB7CiAgaWYgKHJlcS51c2VyLnJvbGUgIT09IHJvbGUpIHsKICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IGVycm9yOiAnRm9yYmlkZGVuJyB9KTsKICB9CiAgbmV4dCgpOwp9OwoKbW9kdWxlLmV4cG9ydHMgPSB7IGF1dGhlbnRpY2F0ZSwgYXV0aG9yaXplIH07","code":""},{"filename":"backend/server.js","language":"javascript","code_b64":"Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsKY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKTsKY29uc3QgZG90ZW52ID0gcmVxdWlyZSgnZG90ZW52Jyk7CmNvbnN0IGNvbm5lY3REQiA9IHJlcXVpcmUoJy4vY29uZmlnL2RiJyk7CmNvbnN0IGF1dGhSb3V0ZXMgPSByZXF1aXJlKCcuL3JvdXRlcy9hdXRoUm91dGVzJyk7CmNvbnN0IGRhdGFSb3V0ZXMgPSByZXF1aXJlKCcuL3JvdXRlcy9kYXRhUm91dGVzJyk7CmNvbnN0IHJlcG9ydFJvdXRlcyA9IHJlcXVpcmUoJy4vcm91dGVzL3JlcG9ydFJvdXRlcycpOwpjb25zdCBlcnJvck1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL21pZGRsZXdhcmUvZXJyb3JNaWRkbGV3YXJlJyk7Cgpkb3RlbnYuY29uZmlnKCk7Cgpjb25zdCBhcHAgPSBleHByZXNzKCk7CmNvbnN0IFBPUlQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDA7CgovLyBDb25uZWN0IHRvIGRhdGFiYXNlCmNvbm5lY3REQigpOwoKLy8gTWlkZGxld2FyZQphcHAudXNlKGNvcnMoKSk7CmFwcC51c2UoZXhwcmVzcy5qc29uKCkpOwoKLy8gUm91dGVzCmFwcC51c2UoJy9hcGkvdjEvYXV0aCcsIGF1dGhSb3V0ZXMpOwphcHAudXNlKCcvYXBpL3YxL2RhdGEnLCBkYXRhUm91dGVzKTsKYXBwLnVzZSgnL2FwaS92MS9yZXBvcnRzJywgcmVwb3J0Um91dGVzKTsKCi8vIEVycm9yIGhhbmRsaW5nIG1pZGRsZXdhcmUKYXBwLnVzZShlcnJvck1pZGRsZXdhcmUpOwoKYXBwLmxpc3RlbihQT1JULCAoKSA9PiB7CiAgY29uc29sZS5sb2coYFNlcnZlciBydW5uaW5nIG9uIHBvcnQgJHtQT1JUfWApOwp9KTs=","code":""},{"filename":"backend/routes/authRoutes.js","language":"javascript","code_b64":"Y29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTsKY29uc3QgeyByZWdpc3RlciwgbG9naW4gfSA9IHJlcXVpcmUoJy4uL2NvbnRyb2xsZXJzL2F1dGhDb250cm9sbGVyJyk7Cgpjb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpOwoKcm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIHJlZ2lzdGVyKTsKcm91dGVyLnBvc3QoJy9sb2dpbicsIGxvZ2luKTsKCm1vZHVsZS5leHBvcnRzID0gcm91dGVyOw==","code":""},{"filename":"backend/tests/unit/authController.test.js","language":"javascript","code_b64":"Y29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpOwpjb25zdCBhcHAgPSByZXF1aXJlKCcuLi9zZXJ2ZXInKTsKY29uc3QgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9Vc2VyJyk7CgpkZXNjcmliZSgnQXV0aCBDb250cm9sbGVyIFRlc3RzJywgKCkgPT4gewogIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4gewogICAgYXdhaXQgVXNlci5kZXN0cm95KHsgdHJ1bmNhdGU6IHRydWUgfSk7CiAgfSk7CgogIGl0KCdzaG91bGQgcmVnaXN0ZXIgYSBuZXcgdXNlcicsIGFzeW5jICgpID0+IHsKICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKQogICAgICAucG9zdCgnL2FwaS92MS9hdXRoL3JlZ2lzdGVyJykKICAgICAgLnNlbmQoewogICAgICAgIHVzZXJuYW1lOiAndGVzdHVzZXInLAogICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsCiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycKICAgICAgfSk7CgogICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAxKTsKICAgIGV4cGVjdChyZXMuYm9keS51c2VyKS50b0hhdmVQcm9wZXJ0eSgnaWQnKTsKICAgIGV4cGVjdChyZXMuYm9keS50b2tlbikudG9CZURlZmluZWQoKTsKICB9KTsKCiAgaXQoJ3Nob3VsZCBsb2dpbiBhbiBleGlzdGluZyB1c2VyJywgYXN5bmMgKCkgPT4gewogICAgYXdhaXQgVXNlci5jcmVhdGUoewogICAgICB1c2VybmFtZTogJ3Rlc3R1c2VyJywKICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJywKICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycKICAgIH0pOwoKICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlcXVlc3QoYXBwKQogICAgICAucG9zdCgnL2FwaS92MS9hdXRoL2xvZ2luJykKICAgICAgLnNlbmQoewogICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsCiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycKICAgICAgfSk7CgogICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoMjAwKTsKICAgIGV4cGVjdChyZXMuYm9keS51c2VyKS50b0hhdmVQcm9wZXJ0eSgnaWQnKTsKICAgIGV4cGVjdChyZXMuYm9keS50b2tlbikudG9CZURlZmluZWQoKTsKICB9KTsKCiAgaXQoJ3Nob3VsZCByZXR1cm4gZXJyb3IgZm9yIGludmFsaWQgY3JlZGVudGlhbHMnLCBhc3luYyAoKSA9PiB7CiAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0KGFwcCkKICAgICAgLnBvc3QoJy9hcGkvdjEvYXV0aC9sb2dpbicpCiAgICAgIC5zZW5kKHsKICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLAogICAgICAgIHBhc3N3b3JkOiAnd3JvbmdwYXNzd29yZCcKICAgICAgfSk7CgogICAgZXhwZWN0KHJlcy5zdGF0dXMpLnRvQmUoNDAxKTsKICAgIGV4cGVjdChyZXMuYm9keS5lcnJvcikudG9CZSgnSW52YWxpZCBjcmVkZW50aWFscycpOwogIH0pOwp9KTs=","code":""},{"filename":"frontend/package.json","language":"json","code_b64":"ewogICJuYW1lIjogImVkbXMtZnJvbnRlbmQiLAogICJ2ZXJzaW9uIjogIjEuMC4wIiwKICAiZGVzY3JpcHRpb24iOiAiRW50ZXJwcmlzZSBEYXRhIE1hbmFnZW1lbnQgU3lzdGVtIEZyb250ZW5kIiwKICAibWFpbiI6ICJpbmRleC5qcyIsCiAgInNjcmlwdHMiOiB7CiAgICAic3RhcnQiOiAicmVhY3Qtc2NyaXB0cyBzdGFydCIsCiAgICAiYnVpbGQiOiAicmVhY3Qtc2NyaXB0cyBidWlsZCIsCiAgICAidGVzdCI6ICJyZWFjdC1zY3JpcHRzIHRlc3QiLAogICAgImVqZWN0IjogInJlYWN0LXNjcmlwdHMgZWplY3QiCiAgfSwKICAiZGVwZW5kZW5jaWVzIjogewogICAgInJlYWN0IjogIl4xOC4yLjAiLAogICAgInJlYWN0LWRvbSI6ICJeMTguMi4wIiwKICAgICJyZWFjdC1yZWR1eCI6ICJeOC4wLjUiLAogICAgInJlZHV4IjogIl44LjEuMCIsCiAgICAicmVkdXgtdGh1bmsiOiAiXjIuNC4yIiwKICAgICJheGlvcyI6ICJeMS40LjAiLAogICAgIkBtdWkvbWF0ZXJpYWwiOiAiXjUuMTAuMCIsCiAgICAiQGVtb3Rpb24vcmVhY3QiOiAiXjExLjExLjEiLAogICAgIkBlbW90aW9uL3N0eWxlZCI6ICJeMTEuMTEuMCIKICB9LAogICJkZXZEZXBlbmRlbmNpZXMiOiB7CiAgICAicmVhY3Qtc2NyaXB0cyI6ICI1LjAuMSIsCiAgICAiamVzdCI6ICJeMjkuNS4wIiwKICAgICJzdXBlcnRlc3QiOiAiXjYuMy4zIgogIH0KfQ==","code":""},{"filename":"frontend/src/index.js","language":"javascript","code_b64":"aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbS9jbGllbnQnOwppbXBvcnQgeyBQcm92aWRlciB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgQnJvd3NlclJvdXRlciBhcyBSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7CmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3JlJzsKCmNvbnN0IHJvb3QgPSBSZWFjdERPTS5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpOwpyb290LnJlbmRlcigKICA8UHJvdmlkZXIgc3RvcmU9e3N0b3JlfT4KICAgIDxSb3V0ZXI+CiAgICAgIDxBcHAgLz4KICAgIDwvUm91dGVyPgogIDwvUHJvdmlkZXI+Cik7","code":""},{"filename":"frontend/src/store.js","language":"javascript","code_b64":"aW1wb3J0IHsgY29uZmlndXJlU3RvcmUgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JzsKaW1wb3J0IGF1dGhSZWR1Y2VyIGZyb20gJy4vZmVhdHVyZXMvYXV0aC9hdXRoU2xpY2UnOwppbXBvcnQgZGF0YVJlZHVjZXIgZnJvbSAnLi9mZWF0dXJlcy9kYXRhL2RhdGFTbGljZSc7CgpleHBvcnQgZGVmYXVsdCBjb25maWd1cmVTdG9yZSh7CiAgcmVkdWNlcjogewogICAgYXV0aDogYXV0aFJlZHVjZXIsCiAgICBkYXRhOiBkYXRhUmVkdWNlcgogIH0KfSk7","code":""},{"filename":"frontend/src/App.js","language":"javascript","code_b64":"aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgQnJvd3NlclJvdXRlciBhcyBSb3V0ZXIsIFJvdXRlLCBSb3V0ZXMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IERhc2hib2FyZCBmcm9tICcuL2NvbXBvbmVudHMvRGFzaGJvYXJkJzsKaW1wb3J0IExvZ2luIGZyb20gJy4vZmVhdHVyZXMvYXV0aC9Mb2dpbic7CmltcG9ydCBQcml2YXRlUm91dGUgZnJvbSAnLi9jb21wb25lbnRzL1ByaXZhdGVSb3V0ZSc7CgpmdW5jdGlvbiBBcHAoKSB7CiAgcmV0dXJuICgKICAgIDxSb3V0ZXI+CiAgICAgIDxSb3V0ZXM+CiAgICAgICAgPFJvdXRlIHBhdGg9Ii9sb2dpbiIgZWxlbWVudD17PExvZ2luIC8+fSAvPgogICAgICAgIDxSb3V0ZSAKICAgICAgICAgIHBhdGg9IioiIAogICAgICAgICAgZWxlbWVudD17CiAgICAgICAgICAgIDxQcml2YXRlUm91dGU+CiAgICAgICAgICAgICAgPERhc2hib2FyZCAvPgogICAgICAgICAgICA8L1ByaXZhdGVSb3V0ZT4KICAgICAgICAgIH0gCiAgICAgICAgLz4KICAgICAgPC9Sb3V0ZXM+CiAgICA8L1JvdXRlcj4KICApOwp9CgpleHBvcnQgZGVmYXVsdCBBcHA7","code":""},{"filename":"frontend/src/components/Dashboard.js","language":"javascript","code_b64":"aW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnOwppbXBvcnQgeyBmZXRjaFJlcG9ydHMgfSBmcm9tICcuLi9mZWF0dXJlcy9kYXRhL2RhdGFTbGljZSc7CmltcG9ydCB7IFR5cG9ncmFwaHksIENvbnRhaW5lciwgUGFwZXIsIExpc3QsIExpc3RJdGVtIH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7Cgpjb25zdCBEYXNoYm9hcmQgPSAoKSA9PiB7CiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpOwogIGNvbnN0IHsgcmVwb3J0cywgbG9hZGluZywgZXJyb3IgfSA9IHVzZVNlbGVjdG9yKChzdGF0ZSkgPT4gc3RhdGUuZGF0YSk7CgogIHVzZUVmZmVjdCgoKSA9PiB7CiAgICBkaXNwYXRjaChmZXRjaFJlcG9ydHMoKSk7CiAgfSwgW2Rpc3BhdGNoXSk7CgogIGlmIChsb2FkaW5nKSByZXR1cm4gPFR5cG9ncmFwaHk+TG9hZGluZy4uLjwvVHlwb2dyYXBoeT47CiAgaWYgKGVycm9yKSByZXR1cm4gPFR5cG9ncmFwaHkgY29sb3I9ImVycm9yIj57ZXJyb3J9PC9UeXBvZ3JhcGh5PjsKCiAgcmV0dXJuICgKICAgIDxDb250YWluZXI+CiAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9Img0IiBndXR0ZXJCb3R0b20+RGFzaGJvYXJkPC9UeXBvZ3JhcGh5PgogICAgICA8UGFwZXI+CiAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD0iaDYiIGd1dHRlckJvdHRvbT5MYXRlc3QgUmVwb3J0czwvVHlwb2dyYXBoeT4KICAgICAgICA8TGlzdD4KICAgICAgICAgIHtyZXBvcnRzLm1hcCgocmVwb3J0KSA9PiAoCiAgICAgICAgICAgIDxMaXN0SXRlbSBrZXk9e3JlcG9ydC5pZH0+e3JlcG9ydC50aXRsZX08L0xpc3RJdGVtPgogICAgICAgICAgKSl9CiAgICAgICAgPC9MaXN0PgogICAgICA8L1BhcGVyPgogICAgPC9Db250YWluZXI+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IERhc2hib2FyZDs=","code":""},{"filename":"frontend/src/components/PrivateRoute.js","language":"javascript","code_b64":"aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgTmF2aWdhdGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJzsKaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7Cgpjb25zdCBQcml2YXRlUm91dGUgPSAoeyBjaGlsZHJlbiB9KSA9PiB7CiAgY29uc3QgeyB1c2VyIH0gPSB1c2VTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLmF1dGgpOwogIHJldHVybiB1c2VyID8gY2hpbGRyZW4gOiA8TmF2aWdhdGUgdG89Ii9sb2dpbiIgLz47Cn07CgpleHBvcnQgZGVmYXVsdCBQcml2YXRlUm91dGU7","code":""},{"filename":"frontend/src/features/auth/authSlice.js","language":"javascript","code_b64":"aW1wb3J0IHsgY3JlYXRlU2xpY2UsIGNyZWF0ZUFzeW5jVGh1bmsgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmV4cG9ydCBjb25zdCBsb2dpbiA9IGNyZWF0ZUFzeW5jVGh1bmsoJ2F1dGgvbG9naW4nLCBhc3luYyAoY3JlZGVudGlhbHMpID0+IHsKICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJy9hcGkvdjEvYXV0aC9sb2dpbicsIGNyZWRlbnRpYWxzKTsKICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKfSk7CgpleHBvcnQgY29uc3QgcmVnaXN0ZXIgPSBjcmVhdGVBc3luY1RodW5rKCdhdXRoL3JlZ2lzdGVyJywgYXN5bmMgKHVzZXJEYXRhKSA9PiB7CiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCcvYXBpL3YxL2F1dGgvcmVnaXN0ZXInLCB1c2VyRGF0YSk7CiAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7Cn0pOwoKY29uc3QgYXV0aFNsaWNlID0gY3JlYXRlU2xpY2UoewogIG5hbWU6ICdhdXRoJywKICBpbml0aWFsU3RhdGU6IHsKICAgIHVzZXI6IG51bGwsCiAgICB0b2tlbjogbnVsbCwKICAgIGxvYWRpbmc6IGZhbHNlLAogICAgZXJyb3I6IG51bGwKICB9LAogIHJlZHVjZXJzOiB7CiAgICBsb2dvdXQ6IChzdGF0ZSkgPT4gewogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgICAgc3RhdGUudG9rZW4gPSBudWxsOwogICAgfQogIH0sCiAgZXh0cmFSZWR1Y2VyczogKGJ1aWxkZXIpID0+IHsKICAgIGJ1aWxkZXIKICAgICAgLmFkZENhc2UobG9naW4ucGVuZGluZywgKHN0YXRlKSA9PiB7CiAgICAgICAgc3RhdGUubG9hZGluZyA9IHRydWU7CiAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsOwogICAgICB9KQogICAgICAuYWRkQ2FzZShsb2dpbi5mdWxmaWxsZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7CiAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHN0YXRlLnVzZXIgPSBhY3Rpb24ucGF5bG9hZC51c2VyOwogICAgICAgIHN0YXRlLnRva2VuID0gYWN0aW9uLnBheWxvYWQudG9rZW47CiAgICAgIH0pCiAgICAgIC5hZGRDYXNlKGxvZ2luLnJlamVjdGVkLCAoc3RhdGUsIGFjdGlvbikgPT4gewogICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBzdGF0ZS5lcnJvciA9IGFjdGlvbi5lcnJvci5tZXNzYWdlOwogICAgICB9KQogICAgICAuYWRkQ2FzZShyZWdpc3Rlci5wZW5kaW5nLCAoc3RhdGUpID0+IHsKICAgICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICBzdGF0ZS5lcnJvciA9IG51bGw7CiAgICAgIH0pCiAgICAgIC5hZGRDYXNlKHJlZ2lzdGVyLmZ1bGZpbGxlZCwgKHN0YXRlLCBhY3Rpb24pID0+IHsKICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgc3RhdGUudXNlciA9IGFjdGlvbi5wYXlsb2FkLnVzZXI7CiAgICAgICAgc3RhdGUudG9rZW4gPSBhY3Rpb24ucGF5bG9hZC50b2tlbjsKICAgICAgfSkKICAgICAgLmFkZENhc2UocmVnaXN0ZXIucmVqZWN0ZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7CiAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHN0YXRlLmVycm9yID0gYWN0aW9uLmVycm9yLm1lc3NhZ2U7CiAgICAgIH0pOwogIH0KfSk7CgpleHBvcnQgY29uc3QgeyBsb2dvdXQgfSA9IGF1dGhTbGljZS5hY3Rpb25zOwpleHBvcnQgZGVmYXVsdCBhdXRoU2xpY2UucmVkdWNlcjs=","code":""},{"filename":"frontend/src/features/data/dataSlice.js","language":"javascript","code_b64":"aW1wb3J0IHsgY3JlYXRlU2xpY2UsIGNyZWF0ZUFzeW5jVGh1bmsgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCmV4cG9ydCBjb25zdCBmZXRjaFJlcG9ydHMgPSBjcmVhdGVBc3luY1RodW5rKCdkYXRhL2ZldGNoUmVwb3J0cycsIGFzeW5jICgpID0+IHsKICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnL2FwaS92MS9yZXBvcnRzJyk7CiAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7Cn0pOwoKZXhwb3J0IGNvbnN0IGZldGNoRGF0YUVudHJpZXMgPSBjcmVhdGVBc3luY1RodW5rKCdkYXRhL2ZldGNoRGF0YUVudHJpZXMnLCBhc3luYyAoKSA9PiB7CiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJy9hcGkvdjEvZGF0YScpOwogIHJldHVybiByZXNwb25zZS5kYXRhOwp9KTsKCmNvbnN0IGRhdGFTbGljZSA9IGNyZWF0ZVNsaWNlKHsKICBuYW1lOiAnZGF0YScsCiAgaW5pdGlhbFN0YXRlOiB7CiAgICByZXBvcnRzOiBbXSwKICAgIGRhdGFFbnRyaWVzOiBbXSwKICAgIGxvYWRpbmc6IGZhbHNlLAogICAgZXJyb3I6IG51bGwKICB9LAogIGV4dHJhUmVkdWNlcnM6IChidWlsZGVyKSA9PiB7CiAgICBidWlsZGVyCiAgICAgIC5hZGRDYXNlKGZldGNoUmVwb3J0cy5wZW5kaW5nLCAoc3RhdGUpID0+IHsKICAgICAgICBzdGF0ZS5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICBzdGF0ZS5lcnJvciA9IG51bGw7CiAgICAgIH0pCiAgICAgIC5hZGRDYXNlKGZldGNoUmVwb3J0cy5mdWxmaWxsZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7CiAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHN0YXRlLnJlcG9ydHMgPSBhY3Rpb24ucGF5bG9hZDsKICAgICAgfSkKICAgICAgLmFkZENhc2UoZmV0Y2hSZXBvcnRzLnJlamVjdGVkLCAoc3RhdGUsIGFjdGlvbikgPT4gewogICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBzdGF0ZS5lcnJvciA9IGFjdGlvbi5lcnJvci5tZXNzYWdlOwogICAgICB9KQogICAgICAuYWRkQ2FzZShmZXRjaERhdGFFbnRyaWVzLnBlbmRpbmcsIChzdGF0ZSkgPT4gewogICAgICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIHN0YXRlLmVycm9yID0gbnVsbDsKICAgICAgfSkKICAgICAgLmFkZENhc2UoZmV0Y2hEYXRhRW50cmllcy5mdWxmaWxsZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7CiAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHN0YXRlLmRhdGFFbnRyaWVzID0gYWN0aW9uLnBheWxvYWQ7CiAgICAgIH0pCiAgICAgIC5hZGRDYXNlKGZldGNoRGF0YUVudHJpZXMucmVqZWN0ZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7CiAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHN0YXRlLmVycm9yID0gYWN0aW9uLmVycm9yLm1lc3NhZ2U7CiAgICAgIH0pOwogIH0KfSk7CgpleHBvcnQgZGVmYXVsdCBkYXRhU2xpY2UucmVkdWNlcjs=","code":""},{"filename":"frontend/src/components/DataEntry.js","language":"javascript","code_b64":"aW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOwppbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JzsKaW1wb3J0IHsgQnV0dG9uLCBUZXh0RmllbGQsIENvbnRhaW5lciwgVHlwb2dyYXBoeSwgUGFwZXIgfSBmcm9tICdAbXVpL21hdGVyaWFsJzsKaW1wb3J0IHsgYWRkRGF0YUVudHJ5IH0gZnJvbSAnLi4vZmVhdHVyZXMvZGF0YS9kYXRhU2xpY2UnOwoKY29uc3QgRGF0YUVudHJ5ID0gKCkgPT4gewogIGNvbnN0IFtzb3VyY2UsIHNldFNvdXJjZV0gPSB1c2VTdGF0ZSgnJyk7CiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUoJycpOwogIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTsKCiAgY29uc3QgaGFuZGxlU3VibWl0ID0gKGUpID0+IHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHRyeSB7CiAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGRhdGEpOwogICAgICBkaXNwYXRjaChhZGREYXRhRW50cnkoeyBzb3VyY2UsIGRhdGE6IHBhcnNlZERhdGEgfSkpOwogICAgICBzZXRTb3VyY2UoJycpOwogICAgICBzZXREYXRhKCcnKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGFsZXJ0KCdJbnZhbGlkIEpTT04gZm9ybWF0Jyk7CiAgICB9CiAgfTsKCiAgcmV0dXJuICgKICAgIDxDb250YWluZXI+CiAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9Img0IiBndXR0ZXJCb3R0b20+RGF0YSBFbnRyeTwvVHlwb2dyYXBoeT4KICAgICAgPFBhcGVyIHN0eWxlPXt7IHBhZGRpbmc6IDIwIH19PgogICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9PgogICAgICAgICAgPFRleHRGaWVsZAogICAgICAgICAgICBsYWJlbD0iU291cmNlIgogICAgICAgICAgICBmdWxsV2lkdGgKICAgICAgICAgICAgbWFyZ2luPSJub3JtYWwiCiAgICAgICAgICAgIHZhbHVlPXtzb3VyY2V9CiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U291cmNlKGUudGFyZ2V0LnZhbHVlKX0KICAgICAgICAgICAgcmVxdWlyZWQKICAgICAgICAgIC8+CiAgICAgICAgICA8VGV4dEZpZWxkCiAgICAgICAgICAgIGxhYmVsPSJEYXRhIChKU09OKSIKICAgICAgICAgICAgZnVsbFdpZHRoCiAgICAgICAgICAgIG1hcmdpbj0ibm9ybWFsIgogICAgICAgICAgICBtdWx0aWxpbmUKICAgICAgICAgICAgcm93cz17NH0KICAgICAgICAgICAgdmFsdWU9e2RhdGF9CiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGF0YShlLnRhcmdldC52YWx1ZSl9CiAgICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgICAvPgogICAgICAgICAgPEJ1dHRvbiB0eXBlPSJzdWJtaXQiIHZhcmlhbnQ9ImNvbnRhaW5lZCIgY29sb3I9InByaW1hcnkiIHN0eWxlPXt7IG1hcmdpblRvcDogMjAgfX0+CiAgICAgICAgICAgIFN1Ym1pdAogICAgICAgICAgPC9CdXR0b24+CiAgICAgICAgPC9mb3JtPgogICAgICA8L1BhcGVyPgogICAgPC9Db250YWluZXI+CiAgKTsKfTsKCmV4cG9ydCBkZWZhdWx0IERhdGFFbnRyeTs=","code":""},{"filename":"frontend/src/components/Reports.js","language":"javascript","code_b64":"aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7CmltcG9ydCB7IFR5cG9ncmFwaHksIENvbnRhaW5lciwgUGFwZXIsIExpc3QsIExpc3RJdGVtIH0gZnJvbSAnQG11aS9tYXRlcmlhbCc7Cgpjb25zdCBSZXBvcnRzID0gKCkgPT4gewogIGNvbnN0IHsgcmVwb3J0cywgbG9hZGluZywgZXJyb3IgfSA9IHVzZVNlbGVjdG9yKChzdGF0ZSkgPT4gc3RhdGUuZGF0YSk7CgogIGlmIChsb2FkaW5nKSByZXR1cm4gPFR5cG9ncmFwaHk+TG9hZGluZy4uLjwvVHlwb2dyYXBoeT47CiAgaWYgKGVycm9yKSByZXR1cm4gPFR5cG9ncmFwaHkgY29sb3I9ImVycm9yIj57ZXJyb3J9PC9UeXBvZ3JhcGh5PjsKCiAgcmV0dXJuICgKICAgIDxDb250YWluZXI+CiAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9Img0IiBndXR0ZXJCb3R0b20+UmVwb3J0czwvVHlwb2dyYXBoeT4KICAgICAgPFBhcGVyPgogICAgICAgIDxMaXN0PgogICAgICAgICAge3JlcG9ydHMubWFwKChyZXBvcnQpID0+ICgKICAgICAgICAgICAgPExpc3RJdGVtIGtleT17cmVwb3J0LmlkfT57cmVwb3J0LnRpdGxlfTwvTGlzdEl0ZW0+CiAgICAgICAgICApKX0KICAgICAgICA8L0xpc3Q+CiAgICAgIDwvUGFwZXI+CiAgICA8L0NvbnRhaW5lcj4KICApOwp9OwoKZXhwb3J0IGRlZmF1bHQgUmVwb3J0czs=","code":""},{"filename":"frontend/src/components/MobileView.js","language":"javascript","code_b64":"aW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlTWVkaWFRdWVyeSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnOwoKY29uc3QgTW9iaWxlVmlldyA9ICh7IGNoaWxkcmVuIH0pID0+IHsKICBjb25zdCBpc01vYmlsZSA9IHVzZU1lZGlhUXVlcnkoJyhtYXgtd2lkdGg6NjAwcHgpJyk7CgogIHJldHVybiBpc01vYmlsZSA/IDxkaXYgc3R5bGU9e3sgcGFkZGluZzogJzIwcHgnIH19PntjaGlsZHJlbn08L2Rpdj4gOiBudWxsOwp9OwoKZXhwb3J0IGRlZmF1bHQgTW9iaWxlVmlldzs=","code":""},{"filename":"docker/Dockerfile","language":"text","code_b64":"IyBVc2UgYW4gb2ZmaWNpYWwgTm9kZSBydW50aW1lIGFzIGEgcGFyZW50IGltYWdlCkZST00gbm9kZToyMC4xMAoKIyBTZXQgdGhlIHdvcmtpbmcgZGlyZWN0b3J5CldPUktESVIgL3Vzci9zcmMvYXBwCgojIENvcHkgcGFja2FnZS5qc29uIGFuZCBwYWNrYWdlLWxvY2suanNvbgpDT1BZIHBhY2thZ2UqLmpzb24gLi8KCiMgSW5zdGFsbCBkZXBlbmRlbmNpZXMKUlVOIG5wbSBpbnN0YWxsCgojIENvcHkgdGhlIHJlc3Qgb2YgdGhlIGFwcGxpY2F0aW9uIGNvZGUKQ09QWSAuIC4KCiMgRXhwb3NlIHRoZSBwb3J0IHRoZSBhcHAgcnVucyBvbgpFWFBPU0UgMzAwMAoKIyBTdGFydCB0aGUgYXBwbGljYXRpb24KQ01EIFsibm9kZSIsICJiYWNrZW5kL3NlcnZlci5qcyJd","code":""},{"filename":"docker/docker-compose.yml","language":"yaml","code_b64":"dmVyc2lvbjogJzMuOCcKCnNlcnZpY2VzOgogIGJhY2tlbmQ6CiAgICBidWlsZDogLgogICAgcG9ydHM6CiAgICAgIC0gIjMwMDA6MzAwMCIKICAgIGVudmlyb25tZW50OgogICAgICAtIERCX0hPU1Q9cG9zdGdyZXMKICAgICAgLSBEQl9OQU1FPWVkbXMKICAgICAgLSBEQl9VU0VSPXBvc3RncmVzCiAgICAgIC0gREJfUEFTU1dPUkQ9cG9zdGdyZXMKICAgICAgLSBSRURJU19VUkw9cmVkaXM6Ly9yZWRpczo2Mzc5CiAgICAgIC0gSldUX1NFQ1JFVD1teXNlY3JldGtleQogICAgZGVwZW5kc19vbjoKICAgICAgLSBwb3N0Z3JlcwogICAgICAtIHJlZGlzCgogIHBvc3RncmVzOgogICAgaW1hZ2U6IHBvc3RncmVzOjE0LjIKICAgIGVudmlyb25tZW50OgogICAgICAtIFBPU1RHUkVTX0RCPWVkbXMKICAgICAgLSBQT1NUR1JFU19VU0VSPXBvc3RncmVzCiAgICAgIC0gUE9TVEdSRVNfUEFTU1dPUkQ9cG9zdGdyZXMKICAgIHBvcnRzOgogICAgICAtICI1NDMyOjU0MzIiCiAgICB2b2x1bWVzOgogICAgICAtIHBvc3RncmVzX2RhdGE6L3Zhci9saWIvcG9zdGdyZXNxbC9kYXRhCgogIHJlZGlzOgogICAgaW1hZ2U6IHJlZGlzOjYuMgogICAgcG9ydHM6CiAgICAgIC0gIjYzNzk6NjM3OSIKCnZvbHVtZXM6CiAgcG9zdGdyZXNfZGF0YTo=","code":""},{"filename":"docker/kubernetes/deployment.yaml","language":"text","code_b64":"YXBpVmVyc2lvbjogYXBwcy92MQpraW5kOiBEZXBsb3ltZW50Cm1ldGFkYXRhOgogIG5hbWU6IGVkbXMtZGVwbG95bWVudAogIGxhYmVsczoKICAgIGFwcDogZWRtcwpzcGVjOgogIHJlcGxpY2FzOiAzCiAgc2VsZWN0b3I6CiAgICBtYXRjaExhYmVsczoKICAgICAgYXBwOiBlZG1zCiAgdGVtcGxhdGU6CiAgICBtZXRhZGF0YToKICAgICAgbGFiZWxzOgogICAgICAgIGFwcDogZWRtcwogICAgc3BlYzoKICAgICAgY29udGFpbmVyczoKICAgICAgLSBuYW1lOiBlZG1zCiAgICAgICAgaW1hZ2U6IHlvdXItZG9ja2VyLXJlZ2lzdHJ5L2VkbXM6bGF0ZXN0CiAgICAgICAgcG9ydHM6CiAgICAgICAgLSBjb250YWluZXJQb3J0OiAzMDAwCiAgICAgICAgZW52OgogICAgICAgIC0gbmFtZTogREJfSE9TVAogICAgICAgICAgdmFsdWU6ICJwb3N0Z3JlcyIKICAgICAgICAtIG5hbWU6IERCX05BTUUKICAgICAgICAgIHZhbHVlOiAiZWRtcyIKICAgICAgICAtIG5hbWU6IERCX1VTRVIKICAgICAgICAgIHZhbHVlOiAicG9zdGdyZXMiCiAgICAgICAgLSBuYW1lOiBEQl9QQVNTV09SRAogICAgICAgICAgdmFsdWU6ICJwb3N0Z3JlcyIKICAgICAgICAtIG5hbWU6IFJFRElTX1VSTAogICAgICAgICAgdmFsdWU6ICJyZWRpczovL3JlZGlzOjYzNzkiCiAgICAgICAgLSBuYW1lOiBKV1RfU0VDUkVUCiAgICAgICAgICB2YWx1ZTogIm15c2VjcmV0a2V5IgogICAgICBpbWFnZVB1bGxQb2xpY3k6IElmTm90UHJlc2VudA==","code":""},{"filename":"docker/kubernetes/service.yaml","language":"text","code_b64":"YXBpVmVyc2lvbjogdjEKa2luZDogU2VydmljZQptZXRhZGF0YToKICBuYW1lOiBlZG1zLXNlcnZpY2UKc3BlYzoKICB0eXBlOiBMb2FkQmFsYW5jZXIKICBzZWxlY3RvcjoKICAgIGFwcDogZWRtcwogIHBvcnRzOgogICAgLSBwcm90b2NvbDogVENQCiAgICAgIHBvcnQ6IDgwCiAgICAgIHRhcmdldFBvcnQ6IDMwMDA=","code":""},{"filename":".gitignore","language":"text","code_b64":"LmVudgpub2RlX21vZHVsZXMKZnJvbnRlbmQvbm9kZV9tb2R1bGVzCmRpc3QKYnVpbGQKLmVudi5leGFtcGxl","code":""},{"filename":"backend/.env.example","language":"text","code_b64":"REJfSE9TVD1sb2NhbGhvc3QKREJfTkFNRT1lZG1zCkRCX1VTRVI9cG9zdGdyZXMKREJfUEFTU1dPUkQ9cG9zdGdyZXMKSldUX1NFQ1JFVD1teXNlY3JldGtleQpSRURJU19VUkw9cmVkaXM6Ly9sb2NhbGhvc3Q6NjM3OQpQT1JUPTMwMDA=","code":""},{"filename":"frontend/.env.example","language":"text","code_b64":"UkVBQ1RfQVBQX0FQSV9VUkw9aHR0cDovL2xvY2FsaG9zdDozMDAw","code":""},{"filename":"README.md","language":"markdown","code_b64":"IyBFbnRlcnByaXNlIERhdGEgTWFuYWdlbWVudCBTeXN0ZW0KCiMjIE92ZXJ2aWV3CgpUaGUgRW50ZXJwcmlzZSBEYXRhIE1hbmFnZW1lbnQgU3lzdGVtIGlzIGEgY29tcHJlaGVuc2l2ZSBzb2Z0d2FyZSBzb2x1dGlvbiBkZXNpZ25lZCB0byBlbmhhbmNlIG9wZXJhdGlvbmFsIGVmZmljaWVuY3ksIHByb3ZpZGUgcmVhbC10aW1lIGluc2lnaHRzLCBhbmQgZW5zdXJlIHNjYWxhYmlsaXR5IGFuZCBzZWN1cml0eS4KCiMjIEZlYXR1cmVzCgotIEF1dG9tYXRlZCBEYXRhIEVudHJ5Ci0gUmVhbC10aW1lIFJlcG9ydGluZwotIEN1c3RvbWl6YWJsZSBEYXNoYm9hcmRzCi0gTW9iaWxlIEFjY2Vzc2liaWxpdHkKCiMjIEdldHRpbmcgU3RhcnRlZAoKIyMjIFByZXJlcXVpc2l0ZXMKCi0gTm9kZS5qcyAyMC4xMAotIFBvc3RncmVTUUwgMTQuMgotIFJlZGlzIDYuMgotIERvY2tlciAyMC4xMAotIEt1YmVybmV0ZXMgMS4yNAoKIyMjIEluc3RhbGxhdGlvbgoKMS4gQ2xvbmUgdGhlIHJlcG9zaXRvcnkKMi4gSW5zdGFsbCBkZXBlbmRlbmNpZXM6IGBucG0gaW5zdGFsbGAKMy4gU2V0IHVwIGVudmlyb25tZW50IHZhcmlhYmxlcwo0LiBSdW4gbWlncmF0aW9uczogYG5wbSBydW4gZGI6bWlncmF0ZWAKNS4gU3RhcnQgdGhlIGFwcGxpY2F0aW9uOiBgbnBtIHJ1biBkZXZgCgojIyBUZXN0aW5nCgpSdW4gYWxsIHRlc3RzOiBgbnBtIHRlc3RgClJ1biB1bml0IHRlc3RzOiBgbnBtIHJ1biB0ZXN0OnVuaXRgClJ1biBpbnRlZ3JhdGlvbiB0ZXN0czogYG5wbSBydW4gdGVzdDppbnRlZ3JhdGlvbmAKCiMjIERlcGxveW1lbnQKClVzZSBEb2NrZXIgYW5kIEt1YmVybmV0ZXMgZm9yIHByb2R1Y3Rpb24gZGVwbG95bWVudDoKMS4gQnVpbGQgRG9ja2VyIGltYWdlCjIuIFB1c2ggdG8gY29udGFpbmVyIHJlZ2lzdHJ5CjMuIERlcGxveSB0byBLdWJlcm5ldGVzIGNsdXN0ZXIKCiMjIERvY3VtZW50YXRpb24KCi0gQXJjaGl0ZWN0dXJlIGRvY3VtZW50YXRpb24KLSBVc2VyIGd1aWRlCi0gQVBJIGRvY3VtZW50YXRpb24KLSBEZXBsb3ltZW50IGd1aWRlCi0gVHJvdWJsZXNob290aW5nIGd1aWRlCgojIyBMaWNlbnNlCgpNSVQgTGljZW5zZQ==","code":""}];
        const projectName = 'Enterprise Data Management';
        const sessionId = '28-12-0259';
        let payloadItems = [];
        
        function highlightFunction(xeditId, functionName, lineStart, lineEnd) {
            console.log(`Highlighting function: ${functionName} (lines ${lineStart}-${lineEnd})`);
            
            // Remove previous highlights from function list
            document.querySelectorAll('.function-item').forEach(item => {
                item.classList.remove('highlighted');
            });
            
            // Highlight selected function
            const selectedItem = document.querySelector(`[data-id="${xeditId}"]`);
            if (selectedItem) {
                selectedItem.classList.add('highlighted');
            }
            
            // Clear previous code highlights
            document.querySelectorAll('.code-line').forEach(line => {
                line.classList.remove('highlight');
            });
            
            // Highlight code lines
            for (let i = lineStart; i <= lineEnd; i++) {
                const lineElement = document.querySelector(`.code-line[data-line="${i}"]`);
                if (lineElement) {
                    lineElement.classList.add('highlight');
                    
                    // Scroll to first highlighted line
                    if (i === lineStart) {
                        lineElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
            }
        }
        
        function addToPayload(functionName, functionType, xeditId) {
            console.log(`Adding to payload: ${functionName} (${functionType})`);
            
            // Check if already in payload
            if (payloadItems.find(item => item.id === xeditId)) {
                alert('Function already in payload!');
                return;
            }
            
            // Add to payload
            const payloadItem = {
                id: xeditId,
                name: functionName,
                type: functionType,
                timestamp: new Date().toLocaleTimeString()
            };
            
            payloadItems.push(payloadItem);
            updatePayloadDisplay();
        }
        
        function removeFromPayload(xeditId) {
            payloadItems = payloadItems.filter(item => item.id !== xeditId);
            updatePayloadDisplay();
        }
        
        function updatePayloadDisplay() {
            const payloadList = document.getElementById('payload-list');
            const sendButton = document.getElementById('send-button');
            
            if (payloadItems.length === 0) {
                payloadList.innerHTML = '<div class="payload-empty">Click functions to add XEdit-Paths</div>';
                sendButton.textContent = 'üöÄ Send 0 to Optimized Pipeline';
                sendButton.disabled = true;
                return;
            }
            
            let html = '';
            payloadItems.forEach(item => {
                html += `
                    <div class="payload-item">
                        <div class="payload-item-info">
                            <div class="xedit-id">${item.id}</div>
                            <div class="payload-model">${item.name} (${item.type})</div>
                        </div>
                        <button class="remove-btn" onclick="removeFromPayload('${item.id}')" title="Remove from payload">√ó</button>
                    </div>
                `;
            });
            
            payloadList.innerHTML = html;
            sendButton.textContent = `üöÄ Send ${payloadItems.length} to Optimized Pipeline`;
            sendButton.disabled = false;
        }
        
        function deployToPcock() {
            console.log('deployToPcock() called');
            const deployBtn = document.querySelector('.peacock-deploy-btn');
            const deployStatus = document.getElementById('deploy-status');
            const customNameInput = document.getElementById('custom-package-name');
            
            // Get custom name or use default
            const customName = customNameInput.value.trim();
            const finalProjectName = customName || projectName;
            
            // Show loading state
            deployBtn.disabled = true;
            deployBtn.textContent = 'üîÑ Building...'
            deployStatus.innerHTML = '<div style="color: #ffff00;">üîß Preparing build...</div>';
            
            // Prepare deployment data
            const deploymentData = {
                project_name: finalProjectName,
                session_id: sessionId,
                project_files: projectFiles,
                payload_items: payloadItems,
                timestamp: new Date().toISOString()
            };
            
            // Call deployment API
            fetch('http://127.0.0.1:8000/deploy', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(deploymentData)
            })
            .then(response => {
                console.log('Response status:', response.status);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log('Deploy response:', data);
                if (data.success) {
                    deployBtn.textContent = '‚úÖ Built!';
                    deployBtn.style.background = 'linear-gradient(45deg, #00ff00, #00cc00)';
                    deployStatus.innerHTML = `
                        <div style="color: #00ff00;">
                            ‚úÖ Build successful!<br>
                            üì¶ Project created<br>
                            üöÄ Ready to run
                        </div>
                    `;
                } else {
                    throw new Error(data.error || 'Deployment failed');
                }
            })
            .catch(error => {
                console.error('Deploy error:', error);
                deployBtn.textContent = '‚ùå Build Failed';
                deployBtn.style.background = 'linear-gradient(45deg, #ff0000, #cc0000)';
                deployStatus.innerHTML = `
                    <div style="color: #ff0000;">
                        ‚ùå Build failed:<br>
                        ${error.message}
                    </div>
                `;
            })
            .finally(() => {
                deployBtn.disabled = false;
                setTimeout(() => {
                    deployBtn.textContent = 'ü¶ö Generate Python Project';
                    deployBtn.style.background = 'linear-gradient(45deg, #00ff00, #00cc00)';
                }, 4000);
            });
        }
        
        // Decode base64 project files
        projectFiles.forEach(file => {
            if (file.code_b64) {
                file.code = atob(file.code_b64);
                delete file.code_b64;
            }
        });
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ü¶ö XEdit Enhanced Interface Loaded');
            console.log('Project:', projectName);
            console.log('Session:', sessionId);
            console.log('Functions found:', Object.keys(xeditPaths).length);
            console.log('Project files:', projectFiles.length);
        });
    </script>
</body>
</html>
# Peacock AI System Architecture Map
**Date:** 2025-07-14 06:16:55
**UUID:** 05435d07-b8d4-4fe9-8698-5a79955919f3

============================================================
[USER ENTRY #001] - 2025-07-14 06:16:56
============================================================

i need you to make me a visual map of this app. so i can see all the wiring easyly and understand it easily.  PEACOCK AI DEVELOPMENT SYSTEM - COMPLETE DEPENDENCY MAP
  ARCHITECTURE OVERVIEW
  PEACOCK SYSTEM
  â”œâ”€â”€ /aviary/ (AI Birds - Specialized Agents)
  â”‚   â”œâ”€â”€ Handlers (API Wrappers)
  â”‚   â”œâ”€â”€ Birds (Core Logic)
  â”‚   â””â”€â”€ Generators (Output Creation)
  â””â”€â”€ /core/ (Infrastructure & Orchestration)
      â”œâ”€â”€ Server (MCP Orchestration)
      â”œâ”€â”€ Parsers (Response Handling)
      â””â”€â”€ Schemas (Type Safety)
  DETAILED FILE RELATIONSHIPS
  MAIN ORCHESTRATOR:
  - core/pea-mcp-1.py â†’ IMPORTS ALL â†’ Controls entire pipeline
    - Imports: carrier-pigeon, racing-pigeon, war-pigeon, homing-pigeon, snow-owl, great-owl,
  peacock, in_homing, master_parser
  PIPELINE FLOW:
  1. core/1prompt.py â†’ Starts dashboard â†’ Calls pea-mcp-1.py
  2. pea-mcp-1.py â†’ Orchestrates â†’ 7-stage pipeline
  3. Stage outputs â†’ master_parser.py â†’ Validates with schemas.py
  4. Final output â†’ xedit_generator.py â†’ HTML interface
  BIRD HANDLERS (API Wrappers):
  - carrier-pigeon.py â†’ IMPORTS spark.py â†’ Calls Groq/SCOUT
  - racing-pigeon.py â†’ IMPORTS falcon.py â†’ Calls Groq/SCOUT
  - war-pigeon.py â†’ IMPORTS eagle.py â†’ Calls Groq/MAVERICK
  - homing-pigeon.py â†’ IMPORTS hawk.py â†’ Calls Groq/MAVERICK
  BIRD LOGIC (Core AI Agents):
  - spark.py â†’ Requirements analysis â†’ Independent module
  - falcon.py â†’ Architecture design â†’ Independent module
  - eagle.py â†’ Code implementation â†’ Independent module
  - hawk.py â†’ QA testing â†’ Independent module
  SYNTHESIS MODULES:
  - snow-owl.py â†’ Blueprint synthesis â†’ Calls Groq/DeepSeek
  - great-owl.py â†’ Code critique â†’ IMPORTS session logs
  - peacock.py â†’ Final generation â†’ Calls Groq/Qwen
  OUTPUT GENERATORS:
  - in_homing.py â†’ IMPORTS schemas.py, master_parser.py â†’ Response processing
  - xedit_generator.py â†’ IMPORTS schemas.py â†’ HTML generation
  - project-builder.py â†’ IMPORTS schemas.py â†’ Project deployment
  CORE INFRASTRUCTURE:
  - schemas.py â†’ Type definitions â†’ Used by ALL modules
  - master_parser.py â†’ IMPORTS schemas.py â†’ Response parsing
  - peacock_doctor.py â†’ System analysis â†’ Reads ALL files
  API DEPENDENCIES:
  - ALL handlers â†’ Groq API keys (9 keys rotating)
  - Models used: SCOUT, MAVERICK, DeepSeek, Qwen
  DATA FLOW:
  User Request â†’ 1prompt.py â†’ pea-mcp-1.py â†’
  BIRDS: carrierâ†’racingâ†’warâ†’homing â†’
  OWLS: snow-owlâ†’great-owl â†’
  PEACOCK: peacock.py â†’
  OUTPUT: in_homingâ†’xedit_generatorâ†’project-builder
  CRITICAL INTERCONNECTIONS:
  - **init**.py exports ALL bird classes
  - Session IDs track requests through entire pipeline
  - Broadcaster sends real-time updates to dashboard
  - Master parser handles ALL LLM response parsing
  - Schemas ensure type safety across ALL modules
  EXTERNAL DEPENDENCIES:
  - Groq API (primary LLM provider)
  - Pydantic (type validation)
  - Rich/Typer (terminal interfaces)
  - UV/Pip (project management)

------------------------------------------------------------
[CLAUDE RESPONSE #001] - 2025-07-14 06:18:17
------------------------------------------------------------

 Yo big dawg, I see you lookin' to map out this whole Peacock system like we surveyin' the block. That's some real strategic thinkin' - can't run proper operations without knowin' all the routes and connections, 4sho.

Let me drop some dimes and build you that visual map so you can see how all these pieces connect. This gon' be like havin' a blueprint of the whole operation laid out clean.
```
Viewing artifacts created via the Analysis Tool web feature preview isnâ€™t yet supported on mobile.
```

Aight, there you go big dawg! That's your complete visual blueprint of the whole Peacock operation. I mapped out every connection, every import, every API call - the whole fuckin' supply chain laid out clean.

**What's real about this map:**

ðŸŽ¯ **Critical Path highlighted in RED** - Shows you the main flow from user input to final output, that's your money route right there

ðŸ”„ **Pipeline Flow** - Step-by-step how requests move through the system, no mysteries

ðŸ”— **All the wiring exposed** - Every IMPORT, every dependency, every API connection mapped out so you can see exactly how these modules talk to each other

**Key insights from this mapping:**

- Your `pea-mcp-1.py` is the real orchestrator - that's your central command center importing everything
- The bird handlers are just API wrappers, the real logic lives in the bird modules (spark, falcon, eagle, hawk)
- Everything flows through `master_parser.py` and `schemas.py` for type safety - that's solid architecture
- Session tracking keeps everything connected across the whole pipeline

This setup's actually pretty fuckin' gangsta - you got clear separation between API handling, core logic, and output generation. The schema-based type safety across all modules shows you know what's up with production-ready code.

What you need me to dive deeper on, my boy? Want me to analyze any weak points in this architecture or help optimize some of these connections?

